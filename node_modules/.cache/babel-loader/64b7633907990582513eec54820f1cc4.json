{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/raffihaycan/cook-app/src/Components/Profil/ProfileCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Paper, TextField, Avatar, Button } from '@material-ui/core';\nimport { userSelector, patchUserProfil } from '../../Store/modules/userStore';\nimport ButtonVal from '../Buttons/ButtonsVal';\nimport './module.ProfilCard.scss';\n\nconst ProfilCard = () => {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const user = useSelector(userSelector);\n  const [state, setState] = useState(user);\n  const [avatarSrc, setAvatarSrc] = useState(user.avatar);\n\n  const handleChange = e => {\n    const {\n      value,\n      name\n    } = e.target;\n    setState({ ...state,\n      [name]: value\n    });\n  };\n\n  const handleChangeImg = e => {\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    reader.readAsDataURL(file);\n    reader.addEventListener('load', () => setAvatarSrc(reader.result));\n  };\n\n  const setInitialState = () => {\n    setState(user);\n    setAvatarSrc(user.avatar);\n  };\n\n  const handleClose = () => {\n    setInitialState();\n    history.push('/');\n  };\n\n  const handleSubmit = () => {\n    dispatch(patchUserProfil(state, avatarSrc));\n    history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    className: \"paper\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"h3 textPrimary\",\n      children: \"Votre Profil\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: handleChange,\n          className: \"liProfil\",\n          label: \"Nom d'utilisateur\",\n          name: \"username\",\n          value: state.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: handleChange,\n          className: \"liProfil\",\n          label: \"Email de contact\",\n          name: \"emailContact\",\n          value: state.emailContact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"liProfil\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          component: \"label\",\n          variant: \"outlined\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"textSecondary\",\n            children: \"ajouter avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 67\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChangeImg,\n            style: {\n              display: \"none\"\n            },\n            type: \"file\",\n            accept: \".jpg,.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"d-flex liProfil\",\n        children: avatarSrc === \"\" ? /*#__PURE__*/_jsxDEV(Avatar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"imgAvatar\",\n          src: avatarSrc,\n          alt: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapButton\",\n      children: /*#__PURE__*/_jsxDEV(ButtonVal, {\n        handleSubmit: handleSubmit,\n        setInitialState: setInitialState,\n        close: handleClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProfilCard, \"cwNFWB/mYKAOL58Rsh5zAB92bzM=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n\n_c = ProfilCard;\nexport default ProfilCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilCard\");","map":{"version":3,"sources":["/Users/raffihaycan/cook-app/src/Components/Profil/ProfileCard.js"],"names":["React","useState","useSelector","useDispatch","useHistory","Paper","TextField","Avatar","Button","userSelector","patchUserProfil","ButtonVal","ProfilCard","history","dispatch","user","state","setState","avatarSrc","setAvatarSrc","avatar","handleChange","e","value","name","target","handleChangeImg","reader","FileReader","file","files","readAsDataURL","addEventListener","result","setInitialState","handleClose","push","handleSubmit","username","emailContact","display"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\nimport {useSelector,useDispatch} from 'react-redux'\nimport {useHistory} from 'react-router-dom'\nimport {Paper,TextField,Avatar,Button} from '@material-ui/core'\nimport {userSelector,patchUserProfil} from '../../Store/modules/userStore'\nimport ButtonVal from '../Buttons/ButtonsVal'\nimport './module.ProfilCard.scss'\n\nconst ProfilCard = () => {\n\n    const history = useHistory()\n\n    const dispatch = useDispatch()\n\n    const user = useSelector(userSelector)\n\n    const [state,setState] = useState(user)\n\n    const [avatarSrc,setAvatarSrc] = useState(user.avatar)\n\n    const handleChange = (e) => {\n\n        const {value,name} = e.target;\n\n        setState({...state,[name]:value})\n    }\n\n    const handleChangeImg = (e) => {\n\n        let reader = new FileReader()\n\n        let file = e.target.files[0]\n\n        reader.readAsDataURL(file)\n\n        reader.addEventListener('load', () => setAvatarSrc(reader.result))\n        \n    }\n\n    const setInitialState = () => {\n\n        setState(user);\n        setAvatarSrc(user.avatar)\n    }\n\n    const handleClose = () => {\n\n        setInitialState()\n        history.push('/')\n    }\n\n    const handleSubmit = () => {\n\n        dispatch(patchUserProfil(state,avatarSrc))\n        history.push('/')\n    }\n\n    return(\n        \n        <Paper elevation={3} className=\"paper\">\n            <p className=\"h3 textPrimary\">Votre Profil</p>\n            <ul>\n                <li>\n                    <TextField onChange={handleChange} className=\"liProfil\"  label=\"Nom d'utilisateur\" name=\"username\" value={state.username}/>\n                </li>\n                <li>\n                    <TextField onChange={handleChange} className=\"liProfil\" label=\"Email de contact\" name=\"emailContact\" value={state.emailContact}/>\n                </li>\n                <li className=\"liProfil\">\n                    <Button component=\"label\"  variant=\"outlined\"><p className=\"textSecondary\">ajouter avatar</p>\n                        <input onChange={handleChangeImg}  style={{display:\"none\"}} type=\"file\" accept=\".jpg,.png\"/>\n                    </Button>\n                </li>\n                <li className=\"d-flex liProfil\">\n                    {avatarSrc === \"\" ? \n                    \n                        (<Avatar></Avatar>) :\n\n                        <img className=\"imgAvatar\" src={avatarSrc} alt=\"/\"/>\n                    }\n                </li>\n            </ul>\n            <div className=\"wrapButton\">\n                <ButtonVal handleSubmit={handleSubmit} setInitialState={setInitialState} close={handleClose}/>\n            </div>\n        </Paper>\n       \n    )\n}\n\n\nexport default ProfilCard"]},"metadata":{},"sourceType":"module"}