{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/raffihaycan/cook-app/src/Components/Fiche/formFiche.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { TextField, Paper, InputLabel, Select, MenuItem, Button } from '@material-ui/core';\nimport { categories, cuissons } from '../../Constants';\nimport ButtonsVal from '../Buttons/ButtonsVal';\nimport { createFiche, patchFiche } from '../../Store/modules/ficheStore';\nimport { editFicheFormSelector } from '../../Store/modules/formStore';\nimport { addAlert } from '../../Store/modules/alertStore';\nimport { userSelector } from '../../Store/modules/userStore';\nimport { capitalize } from '../../Utils';\n\nconst FormFiche = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  let history = useHistory();\n  const ficheForm = useSelector(editFicheFormSelector);\n  const user = useSelector(userSelector);\n  const [state, setState] = useState(ficheForm);\n  const [img, setImg] = useState();\n  useEffect(() => {\n    setState(ficheForm);\n  }, [ficheForm]);\n  useEffect(() => {\n    setImg(img => state.image !== \"\" ? state.image : img);\n  }, [setImg, state.image]);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    if (name !== \"description\") {\n      name === \"nom\" ? setState({ ...state,\n        [name]: capitalize(value)\n      }) : setState({ ...state,\n        [name]: value\n      });\n    } else {\n      let strMax = +value.length;\n      strMax < 66 ? setState({ ...state,\n        description: value\n      }) : dispatch(addAlert({\n        message: \"Nombre maximum de charachÃ¨res !\",\n        class: \"warning\"\n      }));\n    }\n  };\n\n  const handleSubmit = () => {\n    if (state.nom !== \"\") {\n      !state.ficheId ? dispatch(createFiche(state, img, user.uid)) : dispatch(patchFiche(state, img));\n      history.push('/search');\n    } else {\n      dispatch(addAlert({\n        message: \"veuillez saisir les champs vides !\",\n        class: \"error\"\n      }));\n    }\n  };\n\n  const handleChangeImg = e => {\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    reader.readAsDataURL(file);\n    reader.addEventListener('load', e => {\n      setImg(reader.result);\n    });\n  };\n\n  const setInitialState = () => {\n    setImg(state.image);\n    setState(ficheForm);\n  };\n\n  const RenderImg = () => img !== undefined ? /*#__PURE__*/_jsxDEV(\"img\", {\n    width: \"45px\",\n    height: \"45px\",\n    alt: \"\",\n    src: img\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 50\n  }, this) : null;\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: \"paper\",\n      elevation: 3,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"h3 textPrimary\",\n        children: \"Fiche technique de fabrication\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            onChange: handleChange,\n            required: true,\n            name: \"nom\",\n            value: state.nom,\n            margin: \"dense\",\n            size: \"small\",\n            fullWidth: true,\n            label: \"Nom de la recette\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            onChange: handleChange,\n            name: \"description\",\n            value: state.description,\n            variant: \"outlined\",\n            multiline: true,\n            rows: 2,\n            margin: \"dense\",\n            size: \"small\",\n            fullWidth: true,\n            label: \"Descriptif de la recette\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Cat\\xE9gorie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            onChange: handleChange,\n            fullWidth: true,\n            name: \"categorie\",\n            value: state.categorie,\n            children: categories.map((nom, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: nom,\n              children: nom\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Mode cuisson\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            onChange: handleChange,\n            name: \"cuisson\",\n            value: state.cuisson,\n            fullWidth: true,\n            children: cuissons.map((nom, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: nom,\n              children: nom\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wrapImg\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              component: \"label\",\n              className: \"buttonStyle\",\n              size: \"small\",\n              variant: \"outlined\",\n              children: [\"Ajouter Photo\", /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: handleChangeImg,\n                style: {\n                  display: \"none\"\n                },\n                type: \"file\",\n                accept: \".jpg,.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: RenderImg()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapButton\",\n        children: /*#__PURE__*/_jsxDEV(ButtonsVal, {\n          handleSubmit: handleSubmit,\n          close: () => history.push('/'),\n          setInitialState: setInitialState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormFiche, \"vzkUKtKdiwv/WNnKFk/xw6UKW4M=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector];\n});\n\n_c = FormFiche;\nexport default FormFiche;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormFiche\");","map":{"version":3,"sources":["/Users/raffihaycan/cook-app/src/Components/Fiche/formFiche.js"],"names":["React","useState","useEffect","useHistory","useSelector","useDispatch","TextField","Paper","InputLabel","Select","MenuItem","Button","categories","cuissons","ButtonsVal","createFiche","patchFiche","editFicheFormSelector","addAlert","userSelector","capitalize","FormFiche","dispatch","history","ficheForm","user","state","setState","img","setImg","image","handleChange","e","name","value","target","strMax","length","description","message","class","handleSubmit","nom","ficheId","uid","push","handleChangeImg","reader","FileReader","file","files","readAsDataURL","addEventListener","result","setInitialState","RenderImg","undefined","categorie","map","index","cuisson","display"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {useSelector,useDispatch} from 'react-redux'\nimport {TextField,Paper,InputLabel,Select,MenuItem,Button} from '@material-ui/core'\nimport {categories,cuissons} from '../../Constants'\nimport ButtonsVal from '../Buttons/ButtonsVal'\nimport {createFiche,patchFiche} from '../../Store/modules/ficheStore'\nimport {editFicheFormSelector} from '../../Store/modules/formStore'\nimport {addAlert} from '../../Store/modules/alertStore'\nimport {userSelector} from '../../Store/modules/userStore'\nimport { capitalize } from '../../Utils'\n\n\nconst FormFiche = () => {\n\n    const dispatch = useDispatch()\n\n    let history = useHistory()\n\n    const ficheForm = useSelector(editFicheFormSelector)\n\n    const user = useSelector(userSelector)\n\n    const [state,setState] = useState(ficheForm)\n\n    const [img,setImg] = useState()\n\n    useEffect(() => {\n\n        setState(ficheForm)\n        \n    },[ficheForm])\n\n    useEffect(() => {\n\n        setImg(img=> state.image !== \"\" ? state.image : img)\n\n    },[setImg,state.image])\n\n    const handleChange = (e) => {\n\n        const {name,value} = e.target\n\n        if(name !== \"description\"){\n\n            name === \"nom\" ? setState({...state,[name]:capitalize(value)}) : setState({...state,[name]:value});\n            \n        } else {\n\n            let strMax =+ value.length\n            \n            strMax < 66 ? setState({...state,description:value}) : dispatch(addAlert({message:\"Nombre maximum de charachÃ¨res !\", class:\"warning\"}))\n        }\n    }\n\n\n    const handleSubmit = () => {\n\n       if(state.nom !== \"\"){\n\n        !state.ficheId ? dispatch(createFiche(state,img,user.uid)) : dispatch(patchFiche(state,img));\n        history.push('/search')\n\n       } else {\n\n        dispatch(addAlert({message:\"veuillez saisir les champs vides !\",class:\"error\"}))\n       }\n\n    }\n\n    const handleChangeImg = (e) => {\n\n        let reader = new FileReader()\n\n        let file = e.target.files[0]\n\n        reader.readAsDataURL(file)\n\n       reader.addEventListener('load',(e)=> {\n\n        setImg(reader.result)\n        \n       })\n    }   \n\n    const setInitialState = () => {\n\n        setImg(state.image)\n        setState(ficheForm)\n    }\n\n    const RenderImg = () => img !== undefined  ? <img width=\"45px\" height=\"45px\" alt=\"\" src={img}/> : null\n\n    return(\n\n        <div>\n            <Paper className=\"paper\" elevation={3}>\n                <p className=\"h3 textPrimary\">Fiche technique de fabrication</p>\n                <ul>\n                    <li>\n                        <TextField onChange={handleChange} required name=\"nom\" value={state.nom} margin=\"dense\" size=\"small\" fullWidth label=\"Nom de la recette\"/>\n                    </li>\n                    <li>\n                        <TextField onChange={handleChange} name=\"description\" value={state.description}  variant=\"outlined\" multiline rows={2} margin=\"dense\" size=\"small\" fullWidth label=\"Descriptif de la recette\"/>\n                    </li> \n                    <li>\n                    <InputLabel>CatÃ©gorie</InputLabel>\n                    <Select onChange={handleChange}  fullWidth name=\"categorie\" value={state.categorie}>\n                        {categories.map((nom,index) =>\n\n                            <MenuItem value={nom} key={index}>{nom}</MenuItem>\n                        )}\n                    </Select>\n                    </li>\n                    <li>\n                    <InputLabel>Mode cuisson</InputLabel>\n                    <Select onChange={handleChange}  name=\"cuisson\" value={state.cuisson} fullWidth>\n                        {cuissons.map((nom,index) =>\n\n                            <MenuItem value={nom} key={index}>{nom}</MenuItem>\n                        )}\n                    </Select>\n                    </li>\n                    <li>\n                        <div className=\"wrapImg\">\n                            <Button component=\"label\" className=\"buttonStyle\" size=\"small\"  variant=\"outlined\">Ajouter Photo\n                                <input onChange={handleChangeImg}  style={{display:\"none\"}} type=\"file\" accept=\".jpg,.png\"/>\n                            </Button>\n                            <div>\n                               {RenderImg()} \n                            </div>\n                        </div>\n                    </li>\n                </ul>\n                <div className=\"wrapButton\">\n                   <ButtonsVal handleSubmit={handleSubmit} close={()=>history.push('/')} setInitialState={setInitialState}/>\n                </div>\n            </Paper>\n        </div>\n    )\n}\n\n\nexport default FormFiche"]},"metadata":{},"sourceType":"module"}