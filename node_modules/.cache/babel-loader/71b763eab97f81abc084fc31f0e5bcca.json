{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/raffihaycan/cook-app/src/Components/Table/formTable.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Paper, TextField } from \"@material-ui/core\";\nimport '../Table/module.formTable.scss';\nimport ButtonVal from '../Buttons/ButtonsVal';\nimport Alert from '../Alert/Alert';\nimport { formSelector } from '../../Store/modules/formStore';\nimport { createProgression, createProgressionTitre, patchProgression, patchProgressionTitre } from '../../Store/modules/progressionStore';\nimport { createIngredientTitre, createIngredient, patchIngredient, patchIngredientTitre } from '../../Store/modules/ingredientStore';\nimport { addAlert } from '../../Store/modules/alertStore';\nimport { capitalize } from '../../Utils';\n\nconst FormTable = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const form = useSelector(formSelector);\n  const [state, setState] = useState(form);\n  useEffect(() => {\n    setState(form);\n  }, [form]);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState({ ...state,\n      [name]: capitalize(value),\n      created: Date.now()\n    });\n  };\n\n  const handleSubmit = () => {\n    if (state.nom !== \"\") {\n      if (state.titre && state.header.includes(\"ajouter\")) {\n        state.table !== \"progression\" ? dispatch(createIngredientTitre(state)) : dispatch(createProgressionTitre(state));\n      } else if (!state.titre && state.header.includes(\"ajouter\")) {\n        state.table !== \"progression\" ? dispatch(createIngredient(state)) : dispatch(createProgression(state));\n      } else if (!state.titre && state.header.includes(\"modifier\")) {\n        state.table !== \"progression\" ? dispatch(patchIngredient(state)) : dispatch(patchProgression(state));\n      } else if (state.titre && state.header.includes(\"modifier\")) {\n        state.table !== \"progression\" ? dispatch(patchIngredientTitre(state)) : dispatch(patchProgressionTitre(state));\n      }\n\n      props.close();\n    } else {\n      dispatch(addAlert({\n        message: \"veuillez saisir un nom !\",\n        class: \"error\"\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapForm\",\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      className: \"paper\",\n      elevation: 3,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"titre h3\",\n        children: state.table\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"p1\",\n        children: state.header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          required: true,\n          name: \"nom\",\n          value: state.nom,\n          onChange: handleChange,\n          label: state.header\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), state.header.includes(\"ingrédient\") && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            name: \"qte\",\n            value: state.qte,\n            label: \"Quantit\\xE9\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            name: \"prix\",\n            value: state.prix,\n            label: \"Prix\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), state.table === \"progression\" && state.titre && /*#__PURE__*/_jsxDEV(TextField, {\n        InputProps: {\n          inputProps: {\n            min: 0,\n            max: 10\n          }\n        },\n        fullWidth: true,\n        type: \"number\",\n        label: \"Num\\xE9ro de l'\\xE9tape\",\n        value: state.numero,\n        name: \"numero\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapButton\",\n        children: /*#__PURE__*/_jsxDEV(ButtonVal, {\n          close: props.close,\n          handleSubmit: handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormTable, \"2us9xYRS47vr/jVP0IA0rY921PU=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = FormTable;\nexport default FormTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormTable\");","map":{"version":3,"sources":["/Users/raffihaycan/cook-app/src/Components/Table/formTable.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Paper","TextField","ButtonVal","Alert","formSelector","createProgression","createProgressionTitre","patchProgression","patchProgressionTitre","createIngredientTitre","createIngredient","patchIngredient","patchIngredientTitre","addAlert","capitalize","FormTable","props","dispatch","form","state","setState","handleChange","e","name","value","target","created","Date","now","handleSubmit","nom","titre","header","includes","table","close","message","class","qte","prix","inputProps","min","max","numero"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {useDispatch,useSelector} from \"react-redux\"\nimport {Paper,TextField} from \"@material-ui/core\"\nimport '../Table/module.formTable.scss'\nimport ButtonVal from '../Buttons/ButtonsVal'\nimport Alert from '../Alert/Alert'\nimport {formSelector} from '../../Store/modules/formStore'\nimport {createProgression,createProgressionTitre,patchProgression,patchProgressionTitre} from '../../Store/modules/progressionStore'\nimport {createIngredientTitre,createIngredient,patchIngredient,patchIngredientTitre} from '../../Store/modules/ingredientStore' \nimport {addAlert} from '../../Store/modules/alertStore'\nimport {capitalize} from '../../Utils'\n\n\nconst FormTable = (props) => {\n\n    const dispatch = useDispatch()\n\n    const form = useSelector(formSelector)\n\n    const [state,setState] = useState(form)\n\n    useEffect(() => {\n\n        setState(form)\n\n    },[form])\n\n    const handleChange = (e) => {\n\n        const {name,value} = e.target;\n        \n        setState({...state,[name]:capitalize(value),created:Date.now()})\n    }\n\n    const handleSubmit = () => {   \n\n        if(state.nom !== \"\"){\n\n            if(state.titre && state.header.includes(\"ajouter\")){\n\n                state.table !== \"progression\" ? dispatch(createIngredientTitre(state)) : dispatch(createProgressionTitre(state))\n\n            } else if(!state.titre && state.header.includes(\"ajouter\")){\n\n                state.table !== \"progression\" ? dispatch(createIngredient(state)) : dispatch(createProgression(state))\n\n            } else if(!state.titre && state.header.includes(\"modifier\")){\n\n                state.table !==\"progression\" ? dispatch(patchIngredient(state)) : dispatch(patchProgression(state))\n\n            } else if(state.titre && state.header.includes(\"modifier\")){\n\n              state.table !== \"progression\" ?  dispatch(patchIngredientTitre(state)) : dispatch(patchProgressionTitre(state))\n            }   \n\n            props.close()\n\n        } else {    \n\n            dispatch(addAlert({message:\"veuillez saisir un nom !\",class:\"error\"}))\n        }\n    }\n\n    return(\n\n        <div className=\"wrapForm\">\n            <Paper className=\"paper\" elevation={3}>\n                    <p className=\"titre h3\">{state.table}</p>\n                <p className=\"p1\">{state.header}</p>   \n                <div>\n                    <TextField fullWidth required name=\"nom\" value={state.nom} onChange={handleChange} label={state.header}/>\n                </div>\n                {state.header.includes(\"ingrédient\")  &&\n                    <div>\n                        <div>\n                            <TextField fullWidth name=\"qte\" value={state.qte} label=\"Quantité\" onChange={handleChange}/>\n                        </div>\n                        <div>\n                            <TextField fullWidth name=\"prix\" value={state.prix} label=\"Prix\" onChange={handleChange}/>\n                        </div>\n                    </div>\n                }\n                {\n                    state.table === \"progression\" && state.titre &&\n\n                    <TextField InputProps={{ inputProps: { min: 0, max: 10 } }} fullWidth  type=\"number\" label=\"Numéro de l'étape\" value={state.numero} name=\"numero\" onChange={handleChange}/>\n                }\n                <div className=\"wrapButton\">\n                    <ButtonVal close={props.close} handleSubmit={handleSubmit} />\n                </div>\n            </Paper>\n            <Alert/>\n        </div>\n    )\n}\n\n\nexport default FormTable\n"]},"metadata":{},"sourceType":"module"}