{"version":3,"sources":["Firebase.js","Store/modules/alertStore.js","Store/modules/ingredientStore.js","Store/modules/ficheStore.js","Store/modules/progressionStore.js","Store/modules/formStore.js","Store/modules/searchStore.js","Store/modules/userStore.js","Store/index.js","Constants.js","Components/header/Navigation.js","Components/header/Drawer.js","Components/Buttons/SelectInput.js","Utils.js","Components/header/SearchBar.js","Components/header/TopHeader.js","Components/Buttons/ButtonsVal.js","Components/Logs/logForm.js","Components/Alert/Alert.js","Components/Buttons/socialButto.js","Pages/Logs/Login.js","Components/Alert/Dialog.js","Pages/Logs/LogOut.js","Components/Fiche/formFiche.js","Pages/Fiche/Fiches.js","Components/Alert/Loader.js","Pages/Home.js","Components/Profil/ProfileCard.js","Pages/Profil.js","Components/Table/formTable.js","Components/Table/TableTitre.js","Components/Progression/TableProgression.js","Components/Table/Table.js","Pages/Fiche/ficheById.js","Components/Fiche/ficheCard.js","Components/Fiche/Pagination.js","Components/Fiche/SwitchCategorie.js","Components/Fiche/ListFiches.js","Pages/Search/Search.js","Pages/Logs/Signup.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","storage","auth","providerGg","GoogleAuthProvider","providerFb","FacebookAuthProvider","languageCode","initialState","alert","message","class","loading","alertSlice","createSlice","name","reducers","addAlert","state","payload","setLoading","actions","alertSelector","alertStore","loadingSelector","ingredients","ingredientTitre","nom","titre","subArray","ingredient","prix","qte","ingredientSlice","addIngredientTitre","addIngredientSubArray","updateIngredientTitre","map","item","ingredientTitreId","selectIngredient","selectIngredientTtitre","getIngredients","deleteIngredientTitre","filter","addIngredientToSubArray","dispatch","a","collection","doc","get","data","arr","push","update","getAndPatchIngredientTitre","console","log","removeAllIngredients","where","forEach","ingredientId","delete","ingredientTitreSaved","updateSubArray","ingre","ingredientsSelector","ingredientStore","fiche","categorie","cuisson","description","image","fiches","fichesSearch","ficheSlice","selectFiche","addFiche","getFiches","updateFiche","ficheId","setFichesSearch","storageFicheImg","id","img","uid","ref","putString","getDownloadURL","imageUrl","fetchFiches","storageDefaultImg","child","empty","ficheSelector","selectFichesSearch","ficheStore","fichesSelector","fichesSearchSelector","initialStateProgress","progressions","progressTitre","numero","progress","proregressionSlice","getProgressions","addProgressTitre","selectProgressTitre","selectProgress","updateProgressTitre","progressTitreId","deleteProgressTitre","addProgressToSubArray","progr","getAndPatchProgressTitre","progressTitreUpdated","progresssionsSelector","progressionStore","formSlice","form","editFicheForm","createForm","setEditFicheForm","formSelector","formStore","editFicheFormSelector","searchMode","searchBy","typeSelected","searchSlice","setSearchMode","setSearchBy","searchSelector","searchStore","searchBySelector","user","username","email","password","avatar","userLog","userSlice","setUser","setUserLog","logUserWthProvider","provider","providerAuth","signInWithPopup","result","set","displayName","emailContact","getUser","addAvatarProfil","avatarUrl","userSelector","userStore","userLogSelector","reducer","combineReducers","store","configureStore","navFieldIn","icon","link","navFieldOut","iconActionsParent","action","iconActionsChild","iconListFiche","title","searchByField","type","check","categories","cuissons","Navigation","history","useHistory","useDispatch","useSelector","useState","navField","setNavField","useEffect","field","index","onClick","handleLinksAction","className","IconButton","style","marginBottom","color","Icon","fontSize","cursor","Drawer","props","close","SelectInput","width","InputLabel","Select","fullWidth","onChange","e","handleOnChange","value","array","MenuItem","capitalize","string","charAt","toUpperCase","slice","sortArrayByIndex","sort","b","SearchBar","setState","copyArr","length","target","includes","TextField","label","TopHeader","openDrawer","setOpenDrawer","handleToggleDrawer","to","alt","src","Avatar","ButtonsVal","Button","setInitialState","handleSubmit","LogForm","handleChange","Paper","elevation","required","createUserWithEmailAndPassword","signInWithEmailAndPassword","logUser","Alert","React","setTimeout","RenderAlert","SocialButtons","handleLog","textAlign","Login","DialogConfirm","Dialog","open","DialogContent","DialogActions","Logout","height","signOut","FormFiche","ficheForm","setImg","margin","size","variant","multiline","rows","component","reader","FileReader","file","files","readAsDataURL","addEventListener","display","accept","undefined","ficheUpdated","userId","patchFiche","add","createFiche","Fiches","Loader","CircularProgress","Home","marginTop","ProfilCard","avatarSrc","setAvatarSrc","Profil","FormTable","Date","now","table","header","InputProps","inputProps","min","max","created","progressTitreSaved","createProgressionTitre","ingredientSaved","createIngredient","progres","progressId","createProgression","patchIngredient","patchProgression","ingredientTitreUpdated","patchIngredientTitre","patchProgressionTitre","TableTitre","marginLeft","TableProgression","currentFiche","prog","Tooltip","handleOpenFormTitre","etap","handleOpenForm","paddingTop","Table","openForm","setOpenForm","handleDelete","removeIngredientTitre","removeProgressionTitre","removeProgression","FicheById","FicheCard","handleIconAction","Pagination","nbPagesArr","n","nbPages","num","currentPage","handleCurrentPage","SwitchCategorie","Switch","checked","ListFiches","displayArr","setDisplayArr","showDialog","setShowDialog","Math","ceil","setCurrentPage","lastIndex","firstIndex","currentFiches","Search","Signup","App","onAuthStateChanged","exact","path","ReactDOM","render","document","getElementById"],"mappings":"icAgBAA,IAASC,cAXc,CAEnBC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,eACnBC,MAAO,8CAMJ,IAAMC,EAAKR,IAASS,YAEdC,EAAUV,IAASU,UAEnBC,EAAOX,IAASW,OAEhBC,EAAa,IAAIZ,IAASW,KAAKE,mBAE/BC,EAAa,IAAId,IAASW,KAAKI,qBAE5CP,EAAGQ,aAAe,QAElBL,EAAKK,aAAa,QAElBN,EAAQM,aAAc,QC9Bf,IAAMC,EAAe,CAExBC,MAAO,CAACC,QAAQ,GAAGC,MAAM,IAEzBC,SAAQ,GAINC,EAAaC,YAAY,CAE3BC,KAAK,QAELP,eAEAQ,SAAS,CAELC,SAAS,SAACC,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAeD,EAAMT,MAAQU,GAE9CC,WAAW,SAACF,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMN,QAAUO,M,EAOpBN,EAAWQ,QAAlCJ,E,EAAAA,SAASG,E,EAAAA,WAEVE,EAAgB,SAACJ,GAAD,OAAWA,EAAMK,WAAWd,OAC5Ce,EAAkB,SAACN,GAAD,OAAWA,EAAMK,WAAWX,SAG5CC,IAAf,QC5BaL,EAAe,CAExBiB,YAAc,GAEdC,gBAAkB,CAACC,IAAI,GAAIC,OAAM,EAAMC,SAAS,IAEhDC,WAAa,CAACH,IAAI,GAAGI,KAAK,GAAGC,IAAK,GAAIJ,OAAO,IAG3CK,EAAkBnB,YAAY,CAEhCC,KAAK,cAELP,eAEAQ,SAAS,CAELkB,mBAAoB,SAAChB,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAeD,EAAMO,YAAN,sBAAwBP,EAAMO,aAA9B,CAA0CN,KAErFgB,sBAAsB,SAACjB,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMQ,gBAAN,2BAA4BR,EAAMQ,iBAAlC,IAAkDG,SAAS,GAAD,mBAAKX,EAAMQ,gBAAgBG,UAA3B,CAAoCV,OAE1IiB,sBAAsB,SAAClB,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMO,YAAcP,EAAMO,YAAYY,KAAI,SAAAC,GAAI,OAAIA,EAAKC,oBAAsBpB,EAAQoB,kBAAoBpB,EAAUmB,MAE/JE,iBAAiB,SAACtB,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAeD,EAAMY,WAAaX,GAE3DsB,uBAAuB,SAACvB,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMQ,gBAAkBP,GAErEuB,eAAe,SAACxB,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMO,YAAcN,GAEzDwB,sBAAsB,SAACzB,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMO,YAAcP,EAAMO,YAAYmB,QAAO,SAAAN,GAAI,OAAIA,EAAKC,oBAAsBpB,SAiDvH0B,EAA0B,SAAC1B,GAAD,8CAAa,WAAM2B,GAAN,iBAAAC,EAAA,+EAIdhD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBW,MAJnD,cAItCxB,EAJsC,gBAM5BA,EAAgByB,OAAOtB,SANK,cAMxCuB,EANwC,gBAQtCA,EAAIC,KAAKlC,GAR6B,wBAUtCpB,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBe,OAAO,CAACzB,SAASuB,IAV5C,QAY5CN,EAASS,EAA2BpC,IAZQ,kDAgB5CqC,QAAQC,IAAR,MAhB4C,0DAAb,uDAmC1BC,EAAuB,SAACvC,GAAD,8CAAa,WAAM2B,GAAN,SAAAC,EAAA,+EAIfhD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBS,WAAW,eAAeW,MAAM,oBAAoB,KAAMxC,EAAQoB,mBAAmBW,MAJvI,cAM7BU,QAAZ,uCAAqB,WAAM9B,GAAN,SAAAiB,EAAA,sEAEXhD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBS,WAAW,eAAeC,IAAInB,EAAWqB,OAAOU,cAAcC,SAFpH,mFAArB,uDAKDhB,EAASH,EAAsBxB,EAAQoB,oBAXG,gDAezCiB,QAAQC,IAAR,MAfyC,yDAAb,uDAiCvBF,EAA6B,SAACpC,GAAD,8CAAa,WAAM2B,GAAN,eAAAC,EAAA,+EAIZhD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBW,MAJrD,OAIzCa,EAJyC,OAM/CjB,EAASV,EAAsB2B,EAAqBZ,SANL,gDAU/CK,QAAQC,IAAR,MAV+C,yDAAb,uDAc7BO,EAAiB,SAAC7C,GAAD,8CAAa,WAAM2B,GAAN,eAAAC,EAAA,6DAEnCK,EAAM,GAF6B,kBAMTrD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBS,WAAW,eAAeW,MAAM,oBAAoB,KAAKxC,EAAQoB,mBAAmBW,MAN5I,qBAQvBU,SAAQ,SAAAK,GAEhBb,EAAIC,KAAKY,EAAMd,WAVgB,SAa7BpD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBe,OAAO,CAACzB,SAAUuB,IAbtD,OAenCN,EAASS,EAA2BpC,IAfD,kDAmBnCqC,QAAQC,IAAR,MAnBmC,0DAAb,uD,EAuFsBxB,EAAgBZ,QADtDqB,E,EAAAA,eAAeR,E,EAAAA,mBAAyCE,G,EAAtBD,sB,EAAsBC,uBAC3CO,G,EADiEH,iB,EACxFC,uB,EAAuBE,uBAGduB,EAAsB,SAAChD,GAAD,OAAWA,EAAMiD,gBAAgB1C,aAIrDQ,IAAf,QC/PazB,EAAe,CAExB4D,MAAQ,CAAEzC,IAAI,GAAG0C,UAAU,GAAGC,QAAQ,GAAIC,YAAY,GAAGC,MAAM,IAE/DC,OAAS,GAETC,aAAe,IAGbC,EAAa7D,YAAY,CAE3BC,KAAK,QAELP,eAEAQ,SAAW,CAEP4D,YAAa,SAAC1D,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAeD,EAAMkD,MAAQjD,GAElD0D,SAAS,SAAC3D,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMuD,OAAN,sBAAmBvD,EAAMuD,QAAzB,CAAgCtD,KAE/D2D,UAAU,SAAC5D,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMuD,OAAStD,GAE/C4D,YAAY,SAAC7D,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMuD,OAASvD,EAAMuD,OAAOpC,KAAI,SAAA+B,GAAK,OAAIA,EAAMY,UAAY7D,EAAQ6D,QAAU7D,EAAUiD,MAEzHa,gBAAgB,SAAC/D,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMwD,aAAevD,MA6BtD+D,EAAkB,SAACC,EAAGC,EAAIC,GAAR,8CAAgB,WAAMvC,GAAN,eAAAC,EAAA,+EAIlC9C,EAAQqF,IAAI,WAAaH,GAAII,UAAUH,EAAI,YAJT,uBAMjBnF,EAAQqF,IAAI,WAAaH,GAAIK,iBANZ,cAMlCC,EANkC,gBAQlC1F,EAAGiD,WAAW,UAAUC,IAAIkC,GAAI7B,OAAO,CAACkB,MAAMiB,IARZ,OAUxC3C,EAAS4C,EAAYL,IAVmB,kDAavC7B,QAAQC,IAAR,MAbuC,0DAAhB,uDAkBlBkC,EAAoB,SAACxE,EAAQgE,EAAGE,GAAZ,8CAAoB,WAAMvC,GAAN,eAAAC,EAAA,+EAItB9C,EAAQqF,MAAMM,MAAM,eAAiBzE,EAAQkD,UAAU,QAAQmB,iBAJzC,cAIvCC,EAJuC,gBAMvC1F,EAAGiD,WAAW,UAAUC,IAAIkC,GAAI7B,OAAO,CAACkB,MAAMiB,IANP,OAQ7C3C,EAAS4C,EAAYL,IARwB,gDAY7C7B,QAAQC,IAAR,MAZ6C,yDAApB,uDAiCpBiC,EAAc,SAACL,GAAD,8CAAS,WAAMvC,GAAN,iBAAAC,EAAA,6DAEhCD,EAAS1B,GAAW,IAEhBgC,EAAM,GAJsB,kBAQPrD,EAAGiD,WAAW,UAAUW,MAAM,SAAS,KAAK0B,GAAKnC,MAR1C,QAQtBuB,EARsB,QAUlBoB,MAENrC,QAAQC,IAAI,cAIZgB,EAAOb,SAAQ,SAAAQ,GAEXhB,EAAIC,KAAKe,EAAMjB,WAGnBL,EAASgC,EAAU1B,IACnBN,EAASmC,EAAgB7B,KAG7BN,EAAS1B,GAAW,IAzBQ,kDA6B5BoC,QAAQC,IAAR,MA7B4B,0DAAT,uD,EAiDoEkB,EAAWtD,QAA5FuD,E,EAAAA,YAAqBE,G,EAATD,S,EAASC,WAAUC,E,EAAAA,YAAYE,E,EAAAA,gBAE5Ca,G,EAF4DC,mBAE5C,SAAC7E,GAAD,OAAWA,EAAM8E,WAAW5B,QAC5C6B,GAAiB,SAAC/E,GAAD,OAAWA,EAAM8E,WAAWvB,QAC7CyB,GAAuB,SAAChF,GAAD,OAAWA,EAAM8E,WAAWtB,cAEjDC,KAAf,QChKawB,GAAuB,CAEhCC,aAAe,GAEfC,cAAgB,CAAC1E,IAAI,GAAIC,OAAO,EAAM0E,OAAO,GAAIzE,SAAS,IAE1D0E,SAAU,CAAC5E,IAAI,GAAGC,OAAM,IAGtB4E,GAAqB1F,YAAY,CAEnCC,KAAK,cAELP,aAAe2F,GAEfnF,SAAS,CAELyF,gBAAgB,SAACvF,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMkF,aAAejF,GAE3DuF,iBAAiB,SAACxF,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMkF,aAAN,sBAAyBlF,EAAMkF,cAA/B,CAA4CjF,KAEnFwF,oBAAoB,SAACzF,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMmF,cAAgBlF,GAEhEyF,eAAe,SAAC1F,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMqF,SAAWpF,GAEtD0F,oBAAoB,SAAC3F,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMkF,aAAelF,EAAMkF,aAAa/D,KAAI,SAAAC,GAAI,OAAIA,EAAKwE,kBAAoB3F,EAAQ2F,gBAAkB3F,EAAUmB,MAE3JyE,oBAAoB,SAAC7F,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMkF,aAAelF,EAAMkF,aAAaxD,QAAO,SAAAN,GAAI,OAAIA,EAAKwE,kBAAoB3F,EAAQ2F,oBAElIE,sBAAsB,SAAC9F,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMmF,cAAN,2BAA0BnF,EAAMmF,eAAhC,IAA8CxE,SAAS,GAAD,mBAAKX,EAAMmF,cAAcxE,UAAzB,CAAkCV,UAyC/H6C,GAAiB,SAAC7C,GAAD,8CAAa,WAAM2B,GAAN,eAAAC,EAAA,6DAEnCK,EAAM,GAF6B,kBAMZrD,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiB9D,WAAW,YAAYW,MAAM,kBAAkB,KAAKxC,EAAQ2F,iBAAiB5D,MAN7H,qBAQ1BU,SAAQ,SAAAqD,GAAK,OAAI7D,EAAIC,KAAK4D,EAAM9D,WARN,SAU7BpD,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiBxD,OAAO,CAACzB,SAASuB,IAVhD,OAYnCN,EAASoE,GAAyB/F,IAZC,kDAgBnCqC,QAAQC,IAAR,MAhBmC,0DAAb,uDAqBjByD,GAA2B,SAAC/F,GAAD,8CAAa,WAAM2B,GAAN,eAAAC,EAAA,+EAIVhD,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiB5D,MAJlD,OAIvCiE,EAJuC,OAM7CrE,EAAS+D,GAAoBM,EAAqBhE,SANL,gDAU7CK,QAAQC,IAAR,MAV6C,yDAAb,uD,GA4G2G+C,GAAmBnF,QAAxJoF,G,GAAAA,gBAAsCC,I,GAAtBM,sB,GAAsBN,kBAAoDG,I,GAAnCF,oB,GAAoBC,e,GAAeC,qBAAoBE,G,GAAAA,oBAI/GK,GAAwB,SAAClG,GAAD,OAAWA,EAAMmG,iBAAiBjB,cAGxDI,MAAf,QC9MMc,GAAYxG,YAAY,CAE1BC,KAAK,OAELP,aAN8B,CAAG+G,KAAM,GAAIC,cAAc,IAQzDxG,SAAS,CAELyG,WAAW,SAACvG,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMqG,KAAOpG,GAE9CuG,iBAAiB,SAACxG,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMsG,cAAgBrG,M,GAKxBmG,GAAUjG,QAAzCoG,G,GAAAA,WAAWC,G,GAAAA,iBAEZC,GAAe,SAACzG,GAAD,OAAWA,EAAM0G,UAAUL,MAC1CM,GAAwB,SAAC3G,GAAD,OAAWA,EAAM0G,UAAUJ,eAEjDF,MAAf,Q,SCtBa9G,GAAe,CAExBsH,YAAW,EAEXC,SAAU,CAACzD,SAAQ,EAAMD,WAAU,EAAM1C,KAAI,EAAKqG,aAAa,oBAG7DC,GAAcnH,YAAY,CAE5BC,KAAK,SAELP,gBAEAQ,SAAU,CAENkH,cAAc,SAAChH,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAM4G,WAAa3G,GAEvDgH,YAAY,SAACjH,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAM6G,SAAW5G,M,GAyBhB8G,GAAY5G,QAAzC8G,G,GAAAA,YAAYD,G,GAAAA,cAEbE,GAAiB,SAAClH,GAAD,OAAWA,EAAMmH,YAAYP,YAC9CQ,GAAmB,SAACpH,GAAD,OAAWA,EAAMmH,YAAYN,UAE9CE,MAAf,QC5CazH,GAAe,CAAE+H,KAAO,CAACC,SAAS,GAAGC,MAAM,GAAGC,SAAS,GAAIC,OAAO,IAAKC,SAAQ,GAGtFC,GAAY/H,YAAY,CAE1BC,KAAK,OAELP,aAAaA,GAEbQ,SAAU,CAEN8H,QAAQ,SAAC5H,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAMqH,KAAOpH,GAE3C4H,WAAW,SAAC7H,EAAD,GAAsB,IAAdC,EAAa,EAAbA,QAAcD,EAAM0H,QAAUzH,MA8C5C6H,GAAqB,SAACC,GAAD,8CAAc,WAAMnG,GAAN,iBAAAC,EAAA,6DAEvCmG,EAA4B,OAAbD,EAAoB5I,EAAaF,EAEtD2C,EAAS1B,GAAW,IAJyB,kBAQlBlB,EAAKiJ,gBAAgBD,GARH,cAQlCE,EARkC,gBAUlCrJ,EAAGiD,WAAW,SAASC,IAAImG,EAAOb,KAAKlD,KAAKgE,IAAI,CAElDhE,IAAI+D,EAAOb,KAAKlD,IAChBmD,SAASY,EAAOb,KAAKe,YACrBb,MAAMW,EAAOb,KAAKE,MAClBc,aAAaH,EAAOb,KAAKE,MACzBE,OAAO,KAhB6B,OAmBxC7F,EAAS0G,GAAQJ,EAAOb,KAAKlD,MAnBW,kDAuBxC7B,QAAQC,IAAR,MAvBwC,0DAAd,uDA2BrB+F,GAAU,SAACrI,GAAD,8CAAa,WAAM2B,GAAN,eAAAC,EAAA,+EAIThD,EAAGiD,WAAW,SAASC,IAAI9B,GAAS+B,MAJ3B,OAItBqF,EAJsB,OAM5BzF,EAASgG,GAAQP,EAAKpF,SACtBL,EAASiG,IAAW,IACpBjG,EAAS1B,GAAW,IARQ,gDAY5BoC,QAAQC,IAAR,MAZ4B,yDAAb,uDAoCVgG,GAAkB,SAACpE,EAAIsD,GAAL,8CAAgB,WAAM7F,GAAN,eAAAC,EAAA,+EAIjC9C,EAAQqF,IAAI,UAAYD,GAAKE,UAAUoD,EAAO,YAJb,uBAMf1I,EAAQqF,IAAI,UAAYD,GAAKG,iBANd,cAMjCkE,EANiC,gBAQjC3J,EAAGiD,WAAW,SAASC,IAAIoC,GAAK/B,OAAO,CAACqF,OAAOe,IARd,OAUvC5G,EAAS0G,GAAQnE,IAVsB,kDAcvC7B,QAAQC,IAAR,MAduC,0DAAhB,uD,GAmCKoF,GAAUxH,QAAhCyH,G,GAAAA,QAAQC,G,GAAAA,WAETY,GAAe,SAACzI,GAAD,OAAWA,EAAM0I,UAAUrB,MAC1CsB,GAAkB,SAAC3I,GAAD,OAAWA,EAAM0I,UAAUhB,SAG3CC,MAAf,QC7JMiB,GAAUC,YAAgB,CAAC5F,kBAAgB6B,cAAWzE,aAAW8F,oBAAiBO,aAAUS,eAAYuB,eAK/FI,GAHDC,YAAe,CAACH,a,0ECbjBI,GAAa,CAEtB,CAACnJ,KAAK,cAAcoJ,KAAK,UAAUC,KAAK,WACxC,CAACrJ,KAAK,eAAeoJ,KAAK,SAASC,KAAK,cACxC,CAACrJ,KAAK,cAAcoJ,KAAK,gBAAgBC,KAAK,YAGrCC,GAAc,CAEvB,CAACtJ,KAAK,eAAeoJ,KAAK,aAAaC,KAAK,UAC5C,CAACrJ,KAAK,eAAeoJ,KAAK,QAAQC,KAAK,YAI9BE,GAAoB,CAE7B,CAACC,OAAO,UAAUJ,KAAK,qBAAqBxJ,MAAM,aAClD,CAAC4J,OAAO,YAAYJ,KAAK,iBAAiBxJ,MAAM,WAChD,CAAC4J,OAAO,WAAWJ,KAAK,SAASxJ,MAAM,SAI9B6J,GAAmB,CAE5B,CAACD,OAAO,YAAYJ,KAAK,iBAAiBxJ,MAAM,WAChD,CAAC4J,OAAO,WAAWJ,KAAK,SAASxJ,MAAM,SAG9B8J,GAAgB,CAEzB,CAACC,MAAM,kBAAkBP,KAAK,aAAaI,OAAO,QAClD,CAACG,MAAM,8BAA8BP,KAAK,SAASI,OAAO,YAC1D,CAACG,MAAM,+BAAgCP,KAAK,iBAAiBI,OAAO,cAG3DI,GAAgB,CAEzB,CAACD,MAAM,oBAAoBE,KAAK,MAAMC,OAAM,GAC5C,CAAEH,MAAM,6BAA0BE,KAAK,YAAYC,OAAM,GACzD,CAAEH,MAAM,wBAAwBE,KAAK,UAAUC,OAAM,IAQ5CC,GAAa,CAAC,4BAAyB,mBAAmB,sBAAsB,sBAAsB,QAAQ,iBAAiB,UAAU,YAAY,aAAa,YAElKC,GAAW,CAAC,SAAS,SAAS,SAAS,SAAS,UAAU,WAAQ,SAAS,QAAQ,UAAU,kBCQ3FC,GA9CI,WAEf,IAAIC,EAAUC,eAERpI,EAAWqI,cAEXvC,EAAUwC,YAAYvB,IANP,EAQUwB,mBAAS,IARnB,oBAQdC,EARc,KAQLC,EARK,KAUrBC,qBAAU,WAEgCD,EAArC3C,EAAiDsB,GAA3BG,MAEzB,CAACzB,IAYH,OAEI,8BACI,6BACK0C,EAASjJ,KAAI,SAACoJ,EAAMC,GAAP,OAEd,qBAAIC,QAAS,kBAhBC,SAACF,GAEN,eAAfA,EAAMrB,MAERtH,EAAS4E,GAAiBlH,EAAa4D,QAGxC6G,EAAQ5H,KAAKoI,EAAMrB,MASOwB,CAAkBH,IAAQI,UAAU,mBAArD,UACI,+BACI,cAACC,GAAA,EAAD,CAAYC,MAAO,CAACC,aAAa,OAAQC,MAAM,UAA/C,SACI,cAACC,GAAA,EAAD,CAAMC,SAAS,QAAf,SAAwBV,EAAMtB,WAGvC,uBAAM4B,MAAO,CAACK,OAAO,WAArB,cAAmCX,EAAM1K,KAAzC,SAN0E2K,WClB9EW,GApBA,SAACC,GAEZ,OACI,sBAAKT,UAAU,aAAf,UACI,8BACI,mBAAGA,UAAU,iBAAb,wBAEJ,sBAAKA,UAAU,iBAAf,UACI,cAAC,GAAD,IACA,qBAAKA,UAAU,iBAAf,SACI,cAACC,GAAA,EAAD,CAAYH,QAAS,kBAAIW,EAAMC,SAA/B,SACI,cAACL,GAAA,EAAD,CAAML,UAAU,WAAhB,8B,wCCITW,GAjBK,SAACF,GAEjB,OAEI,sBAAKP,MAAO,CAACU,MAAM,SAAnB,UAEI,cAACC,GAAA,EAAD,UAAaJ,EAAMvL,OACnB,cAAC4L,GAAA,EAAD,CAAQC,WAAS,EAAC7L,KAAMuL,EAAMvL,KAAM8L,SAAU,SAACC,GAAD,OAAKR,EAAMS,eAAeD,IAAIE,MAAOV,EAAMpL,MAAzF,SACKoL,EAAMW,MAAM5K,KAAI,SAACV,EAAI+J,GAAL,OACb,cAACwB,GAAA,EAAD,CAAUF,MAAOrL,EAAjB,SAAmCA,GAAR+J,YCZlCyB,GAAa,SAACC,GAEzB,OAAOA,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,IAU1CC,GAAmB,SAACpK,EAAIsI,GAInC,OAFAtI,EAAIqK,MAAK,SAAC1K,EAAE2K,GAAH,OAAS3K,EAAE2I,GAASgC,EAAEhC,MAExBtI,GC6DMuK,GAjEG,WAEhB,IAAM7K,EAAWqI,cAFK,EAIGE,mBAAS,CAAC1J,IAAI,GAAG0C,UAAU,GAAGC,QAAQ,KAJzC,oBAIfpD,EAJe,KAIT0M,EAJS,KAMhBnJ,EAAS2G,YAAYnF,IAErB8B,EAAWqD,YAAY9C,IAEzBuF,EAAO,YAAOpJ,GAEZsI,EAAiB,SAACD,GAED,IAAlBrI,EAAOqJ,QAERhL,EAAS7B,EAAS,CAACP,QAAQ,gCAA8BC,MAAM,aAGjE,IAAIyC,EAPwB,EASP0J,EAAEiB,OAAhBf,EATqB,EASrBA,MAAMjM,EATe,EASfA,KAEb6M,EAAS,2BAAI1M,GAAL,mBAAYH,EAAMoM,GAAWH,MAErC5J,EAAMyK,EAAQjL,QAAO,SAAAwB,GAAK,OAAIA,EAAMrD,GAAMiN,SAASb,GAAWH,OAE9DlK,EAASmC,EAAgB7B,KA4B3B,OACE,8BAtBG2E,EAASzD,QAEF,cAAC,GAAD,CAAa2I,MAAOlC,GAAUgC,eAAgBA,EAAgBhM,KAAM,UAAWG,MAAOA,EAAMoD,UAE5FyD,EAAS1D,UAEV,cAAC,GAAD,CAAa4I,MAAOnC,GAAYiC,eAAgBA,EAAgBhM,KAAM,YAAaG,MAAOA,EAAMmD,YAKvG,cAAC4J,GAAA,EAAD,CACAC,MAAOnG,EAASC,aAChBjH,KAAK,MACLiM,MAAO9L,EAAMS,IACbkL,SAAUE,OCgBDoB,GAjEG,WAEd,IAAMlD,EAAUC,eAEVpD,EAAasD,YAAYhD,IAEzBG,EAAO6C,YAAYzB,IAEnBf,EAAUwC,YAAYvB,IARR,EAUewB,oBAAS,GAVxB,oBAUb+C,EAVa,KAUFC,EAVE,KAYdC,EAAqB,kBAA0CD,GAAnCD,IAElC,OAEI,mCACKA,GAAc,cAAC,GAAD,CAAQ7B,MAAO+B,IAC9B,sBAAKzC,UAAU,YAAf,UACI,+BAAOuC,GAEH,cAACtC,GAAA,EAAD,CAAYH,QAAS,kBAAK2C,KAA1B,SACI,cAACpC,GAAA,EAAD,CAAML,UAAU,WAAhB,sBAIR,+BACMuC,GAAc,cAAC,KAAD,CAAMvC,UAAU,kBAAkB0C,GAAG,IAArC,SAAyC,mBAAG1C,UAAU,iBAAb,6BAGjE,sBAAKA,UAAU,UAAf,UACM/D,GAAc,cAAC,GAAD,IACdc,GACF,qBAAKiD,UAAU,eAAf,SACI,cAACC,GAAA,EAAD,CAAaH,QAAS,kBAAKV,EAAQ5H,KAAK,YAAxC,SACI,cAAC6I,GAAA,EAAD,yBAIR,8BACI,cAAC,GAAD,MAEe,KAAlB3D,EAAKC,UAEF,cAAC,KAAD,CAAMqD,UAAU,kBAAkB0C,GAAG,UAArC,SACI,qBAAK1C,UAAU,WAAf,SACI,mBAAGA,UAAU,KAAb,SAAmBtD,EAAKC,eAIpC,qBAAKqD,UAAU,aAAf,SACI,cAAC,KAAD,CAAM0C,GAAG,UAAT,SACqB,KAAhBhG,EAAKI,OAEF,qBAAKkD,UAAU,YAAY2C,IAAI,IAAIC,IAAKlG,EAAKI,SAC7C,cAAC+F,GAAA,EAAD,CAAQ7C,UAAU,2B,oCC1C/B8C,GAnBI,SAACrC,GAEhB,OAEI,sBAAKT,UAAU,aAAf,UACI,8BACI,cAACC,GAAA,EAAD,CAAYH,QAAS,kBAAIW,EAAMC,SAA/B,SACI,cAACL,GAAA,EAAD,CAAOL,UAAU,OAAjB,uBAGR,gCACI,cAAC+C,GAAA,EAAD,CAAQjD,QAAS,kBAAIW,EAAMuC,mBAAmBhD,UAAU,SAAxD,SAAiE,0CACjE,cAAC+C,GAAA,EAAD,CAAQjD,QAAS,kBAAIW,EAAMwC,gBAAgBjD,UAAU,SAArD,SAA8D,iDC0E/DkD,GAnFC,SAACzC,GAEb,IAAMxJ,EAAWqI,cAEXF,EAAUC,eAJO,EAMEG,mBAAS7K,GAAa+H,MANxB,oBAMhBrH,EANgB,KAMV0M,EANU,KAQjBoB,EAAe,SAAClC,GAAO,IAAD,EAEHA,EAAEiB,OAAhBhN,EAFiB,EAEjBA,KAAKiM,EAFY,EAEZA,MAEZY,EAAS,2BAAI1M,GAAL,mBAAYH,EAAMiM,MA+BxB6B,EAAkB,WAEpBjB,EAASpN,GAAa+H,OAS1B,OAEI,eAAC0G,GAAA,EAAD,CAAOpD,UAAU,QAAQqD,UAAW,EAApC,UACI,mBAAGrD,UAAU,iBAAb,SAA+BS,EAAM5B,QACrC,+BACiB,oBAAhB4B,EAAM5B,OACH,6BACI,cAACuD,GAAA,EAAD,CAAWpB,SAAUmC,EAAcG,UAAQ,EAACpO,KAAK,WAAWiM,MAAO9L,EAAMsH,SAAU0F,MAAM,wBAI7F,6BACI,cAACD,GAAA,EAAD,CAAWpB,SAAUmC,EAAcG,UAAQ,EAACvE,KAAK,QAAQ7J,KAAK,QAAQiM,MAAO9L,EAAMuH,MAAOyF,MAAM,YAGpG,6BACI,cAACD,GAAA,EAAD,CAAWpB,SAAUmC,EAAcG,UAAQ,EAACvE,KAAK,WAAW7J,KAAK,WAAWiM,MAAO9L,EAAMwH,SAAUwF,MAAM,sBAIjH,qBAAKrC,UAAU,aAAf,SACI,cAAC,GAAD,CAAWiD,aA5DF,WVDC,IAAC3N,EUGA,oBAAhBmL,EAAM5B,MAEiB,KAAnBxJ,EAAMsH,UAAmC,KAAhBtH,EAAMuH,OAAmC,KAAnBvH,EAAMwH,SAEpD5F,EAAS7B,EAAS,CAACP,QAAQ,mBAAoBC,MAAM,YAIrDmC,GVXW3B,EUWSD,EVXV,uCAAa,WAAM4B,GAAN,iBAAAC,EAAA,6DAEnCD,EAAS1B,GAAW,IAFe,kBAMTlB,EAAKkP,+BAA+BjO,EAAQsH,MAAMtH,EAAQuH,UANjD,uBAMxBH,EANwB,EAMxBA,KANwB,SAQzBxI,EAAGiD,WAAW,SAASC,IAAIsF,EAAKlD,KAAKgE,IAAI,CAE3Cb,SAASrH,EAAQqH,SACjBC,MAAMtH,EAAQsH,MACdc,aAAapI,EAAQsH,MACrBpD,IAAIkD,EAAKlD,IACTsD,OAAO,KAdoB,OAiB/B7F,EAAS0G,GAAQjB,EAAKlD,MAjBS,kDAqB/B7B,QAAQC,IAAR,MArB+B,0DAAb,wDUYVwH,EAAQ5H,KAAK,MAKE,KAAhBnC,EAAMuH,OAAmC,KAAnBvH,EAAMwH,SAE3B5F,EAAS7B,EAAS,CAACP,QAAQ,mBAAoBC,MAAM,YAIrDmC,EVEO,SAAC3B,GAAD,8CAAa,WAAM2B,GAAN,iBAAAC,EAAA,6DAEhCD,EAAS1B,GAAW,IAFY,kBAMRlB,EAAKmP,2BAA2BlO,EAAQsH,MAAMtH,EAAQuH,UAN9C,gBAMtBH,EANsB,EAMtBA,KAEPzF,EAAS0G,GAAQjB,EAAKlD,MARO,gDAY5B7B,QAAQC,IAAR,MAZ4B,yDAAb,sDUFE6L,CAAQpO,IACjB+J,EAAQ5H,KAAK,OAqC0BwL,gBAAiBA,EAAiBtC,MA3BjE,WAEhBsC,IACA5D,EAAQ5H,KAAK,cCdNkM,I,MAxCD,WAEV,IAAM9O,EAAQ2K,YAAY9J,GAEpBwB,EAAWqI,cAEjBqE,IAAMhE,WAAU,WAES,KAAlB/K,EAAMC,SAEL+O,YAAW,WAEP3M,EAAS7B,EAAST,EAAaC,UAEhC,OAGT,CAACqC,EAASrC,IAgBZ,OAEI,8BAfgB,WAEhB,GAAqB,KAAlBA,EAAMC,QAEN,OAEC,qBAAKmL,UAAWpL,EAAME,MAAtB,SACI,4BAAIF,EAAMC,YAQZgP,OCZCC,I,OAzBO,SAACrD,GAEnB,OAEI,gCACI,sBAAKT,UAAU,mBAAmBF,QAAS,kBAAIW,EAAMsD,UAAU,OAA/D,UACI,sBAAM/D,UAAU,qBAChB,qBAAKA,UAAU,WAAf,SACI,sBAAMA,UAAU,aAAhB,sCAGR,qBAAKE,MAAO,CAACU,MAAM,QAAnB,SACI,mBAAGV,MAAO,CAAC8D,UAAU,UAArB,kBAEJ,sBAAKhE,UAAU,eAAeF,QAAS,kBAAIW,EAAMsD,UAAU,OAA3D,UACI,cAAC1D,GAAA,EAAD,CAAML,UAAU,SAASM,SAAS,QAAlC,sBACA,qBAAKN,UAAU,WAAf,SACI,sBAAMA,UAAU,SAAhB,6CC0BLiE,I,MApCD,WAEV,IAAMhN,EAAWqI,cAEXF,EAAUC,eAEhBsE,IAAMhE,WAAU,WAEZ1I,EAASoF,IAAc,MAEzB,CAACpF,IASH,OACI,uBAAM+I,UAAU,WAAhB,UACI,0BAASA,UAAU,cAAnB,UACI,8BACI,cAAC,GAAD,CAASnB,MXWI,sBWTjB,8BACI,cAAC,GAAD,CAAekF,UAbD,SAAC3G,GAE3BnG,EAASkG,GAAmBC,IAC5BgC,EAAQ5H,KAAK,aAaT,qBAAKwI,UAAU,YAAf,SACI,cAAC,GAAD,W,8BCjBDkE,GApBO,SAACzD,GAEnB,OAEI,8BACI,eAAC0D,GAAA,EAAD,CAAQC,MAAM,EAAd,UACI,cAACC,GAAA,EAAD,UACG,mBAAGrE,UAAU,KAAb,SAAmBS,EAAM1K,UAE5B,cAACuO,GAAA,EAAD,UACI,qBAAKtE,UAAU,WAAf,SACI,cAAC,GAAD,CAAYU,MAAOD,EAAMC,MAAOuC,aAAcxC,EAAMwC,aAAcD,gBAAiBvC,EAAMuC,4BCsBlGuB,GA9BA,WAEX,IAAMtN,EAAWqI,cAEXF,EAAUC,eAEhBsE,IAAMhE,WAAU,WAEZ1I,EAASoF,IAAc,MAEzB,CAACpF,IAYH,OACI,qBAAKiJ,MAAO,CAACsE,OAAO,QAApB,SACI,cAAC,GAAD,CAAQzO,MAAO,qCAAmCkN,aAZrC,WAEjBhM,Ef4Hc,uCAAM,WAAMA,GAAN,SAAAC,EAAA,+EAIf7C,EAAKoQ,UAJU,OAMrBxN,EAASgG,GAAQtI,GAAa+H,OAC9BzF,EAASiG,IAAW,IACpBjG,EAASgC,EAAU,KACnBhC,EAASmC,EAAgB,KATJ,gDAapBzB,QAAQC,IAAR,MAboB,yDAAN,uDe3HdwH,EAAQ5H,KAAK,MASqEkJ,MAJlE,kBAAMtB,EAAQ5H,KAAK,MAImEwL,gBANlF,kBAAM5D,EAAQ5H,KAAK,WCsHhCkN,I,OAlIG,WAEd,IAAMzN,EAAWqI,cAEbF,EAAUC,eAERsF,EAAYpF,YAAYvD,IAExBU,EAAO6C,YAAYzB,IARL,EAUK0B,mBAASmF,GAVd,oBAUbtP,EAVa,KAUP0M,EAVO,OAYCvC,qBAZD,oBAYbjG,EAZa,KAYTqL,EAZS,KAcpBjF,qBAAU,WAENoC,EAAS4C,KAEX,CAACA,IAEHhF,qBAAU,WAENiF,GAAO,SAAArL,GAAG,MAAmB,KAAhBlE,EAAMsD,MAAetD,EAAMsD,MAAQY,OAElD,CAACqL,EAAOvP,EAAMsD,QAEhB,IAAMwK,EAAe,SAAClC,GAAO,IAAD,EAEHA,EAAEiB,OAAhBhN,EAFiB,EAEjBA,KAAKiM,EAFY,EAEZA,MAEA,gBAATjM,EAEkB6M,EAAR,QAAT7M,EAA0B,2BAAIG,GAAL,mBAAYH,EAAMoM,GAAWH,KAAoB,2BAAI9L,GAAL,mBAAYH,EAAMiM,MAI7EA,EAAMc,OAEX,GAAKF,EAAS,2BAAI1M,GAAL,IAAWqD,YAAYyI,KAAUlK,EAAS7B,EAAS,CAACP,QAAQ,qCAAmCC,MAAM,cA0CnI,OAEI,8BACI,eAACsO,GAAA,EAAD,CAAOpD,UAAU,QAAQqD,UAAW,EAApC,UACI,mBAAGrD,UAAU,iBAAb,4CACA,+BACI,6BACI,cAACoC,GAAA,EAAD,CAAWpB,SAAUmC,EAAcG,UAAQ,EAACpO,KAAK,MAAMiM,MAAO9L,EAAMS,IAAK+O,OAAO,QAAQC,KAAK,QAAQ/D,WAAS,EAACsB,MAAM,wBAEzH,6BACI,cAACD,GAAA,EAAD,CAAWpB,SAAUmC,EAAcjO,KAAK,cAAciM,MAAO9L,EAAMqD,YAAcqM,QAAQ,WAAWC,WAAS,EAACC,KAAM,EAAGJ,OAAO,QAAQC,KAAK,QAAQ/D,WAAS,EAACsB,MAAM,+BAEvK,+BACA,cAACxB,GAAA,EAAD,2BACA,cAACC,GAAA,EAAD,CAAQE,SAAUmC,EAAepC,WAAS,EAAC7L,KAAK,YAAYiM,MAAO9L,EAAMmD,UAAzE,SACKyG,GAAWzI,KAAI,SAACV,EAAI+J,GAAL,OAEZ,cAACwB,GAAA,EAAD,CAAUF,MAAOrL,EAAjB,SAAmCA,GAAR+J,WAInC,+BACA,cAACgB,GAAA,EAAD,2BACA,cAACC,GAAA,EAAD,CAAQE,SAAUmC,EAAejO,KAAK,UAAUiM,MAAO9L,EAAMoD,QAASsI,WAAS,EAA/E,SACK7B,GAAS1I,KAAI,SAACV,EAAI+J,GAAL,OAEV,cAACwB,GAAA,EAAD,CAAUF,MAAOrL,EAAjB,SAAmCA,GAAR+J,WAInC,6BACI,sBAAKG,UAAU,UAAf,UACI,eAAC+C,GAAA,EAAD,CAAQmC,UAAU,QAAQlF,UAAU,cAAc8E,KAAK,QAASC,QAAQ,WAAxE,0BACI,uBAAO/D,SAxDX,SAACC,GAErB,IAAIkE,EAAS,IAAIC,WAEbC,EAAOpE,EAAEiB,OAAOoD,MAAM,GAE1BH,EAAOI,cAAcF,GAEtBF,EAAOK,iBAAiB,QAAO,SAACvE,GAE/B2D,EAAOO,EAAO5H,YA8C6C2C,MAAO,CAACuF,QAAQ,QAAS1G,KAAK,OAAO2G,OAAO,iBAEnF,mCArCQC,IAARpM,EAAqB,qBAAKqH,MAAM,OAAO4D,OAAO,OAAO7B,IAAI,GAAGC,IAAKrJ,IAAS,eA2CtF,qBAAKyG,UAAU,aAAf,SACG,cAAC,GAAD,CAAYiD,aA/EN,WAED,KAAd5N,EAAMS,KAEPT,EAAM8D,QAAsDlC,EpBgC3C,SAAC3B,EAAQiE,GAAT,8CAAiB,WAAMtC,GAAN,eAAAC,EAAA,+EAI7BhD,EAAGiD,WAAW,UAAUC,IAAI9B,EAAQ6D,SAAS1B,OAAO,CAAC3B,IAAIR,EAAQQ,IAAI0C,UAAUlD,EAAQkD,UAAUC,QAAQnD,EAAQmD,QAAQC,YAAYpD,EAAQoD,cAJhH,uBAMRxE,EAAGiD,WAAW,UAAUC,IAAI9B,EAAQ6D,SAAS9B,MANrC,OAM7BuO,EAN6B,OAQnCrM,IAAQqM,EAAatO,OAAOqB,MAAQ1B,EAASoC,EAAgB/D,EAAQ6D,QAAQI,EAAIjE,EAAQuQ,SAAW5O,EAASiC,EAAY0M,EAAatO,SARnG,gDAYnCK,QAAQC,IAAR,MAZmC,yDAAjB,sDoBhCoDkO,CAAWzQ,EAAMkE,IAAtEtC,EpBzBE,SAAC3B,EAAQiE,EAAIC,GAAb,8CAAqB,WAAMvC,GAAN,eAAAC,EAAA,+EAIpBhD,EAAGiD,WAAW,UAAU4O,IAAI,CAE5CjQ,IAAIR,EAAQQ,IACZ0C,UAAUlD,EAAQkD,UAClBC,QAAQnD,EAAQmD,QAChBC,YAAYpD,EAAQoD,YACpBmN,OAAOrM,IAV6B,cAIlCjB,EAJkC,gBAalCrE,EAAGiD,WAAW,UAAUC,IAAImB,EAAMe,IAAI7B,OAAO,CAAC0B,QAAUZ,EAAMe,KAb5B,OAepBrC,OAAZ0O,IAARpM,EAA6BF,EAAgBd,EAAMe,GAAGC,EAAIC,GAAiBM,EAAkBxE,EAAQiD,EAAMe,GAAGE,IAftE,gDAmBxC7B,QAAQC,IAAR,MAnBwC,yDAArB,sDoByBOoO,CAAY3Q,EAAMkE,EAAImD,EAAKlD,MACrD4F,EAAQ5H,KAAK,YAIbP,EAAS7B,EAAS,CAACP,QAAQ,qCAAqCC,MAAM,YAsEnB4L,MAAO,kBAAItB,EAAQ5H,KAAK,MAAMwL,gBAlD7D,WAEpB4B,EAAOvP,EAAMsD,OACboJ,EAAS4C,eCxDFsB,GAzBA,WAEX,IAAMhP,EAAWqI,cAQjB,OANAqE,IAAMhE,WAAU,WAEZ1I,EAASoF,IAAc,MAEzB,CAACpF,IAGC,uBAAM+I,UAAU,WAAhB,UACI,sBAAKA,UAAU,YAAf,UACI,mBAAGA,UAAU,eAAb,sCACC,qBAAKA,UAAU,YAAf,SACI,cAAC,GAAD,SAGT,qBAAKA,UAAU,cAAf,SACI,cAAC,GAAD,U,UCVDkG,GAXA,WAEX,OAEI,qBAAKlG,UAAU,aAAf,SACI,cAACmG,GAAA,EAAD,CAAmBrB,KAAK,YCwBrBsB,GA5BF,WAET,IAAMnP,EAAWqI,cAEXvK,EAAUwK,YAAY5J,GAQ5B,OANAgO,IAAMhE,WAAU,WAEZ1I,EAASoF,IAAc,MAEzB,CAACpF,IAIC,sBAAM+I,UAAU,WAAhB,SAEKjL,EAAU,cAAC,GAAD,IAEP,sBAAKmL,MAAO,CAACmG,UAAU,QAAvB,UACI,oBAAIrG,UAAU,iCAAd,sBACA,mBAAGA,UAAU,cAAb,mGCiELsG,I,OAnFI,WAEf,IAAMlH,EAAUC,eAEVpI,EAAWqI,cAEX5C,EAAO6C,YAAYzB,IANJ,EAQI0B,mBAAS9C,GARb,oBAQdrH,EARc,KAQR0M,EARQ,OAUYvC,mBAAS9C,EAAKI,QAV1B,oBAUdyJ,EAVc,KAUJC,EAVI,KAYfrD,EAAe,SAAClC,GAAO,IAAD,EAEHA,EAAEiB,OAAhBf,EAFiB,EAEjBA,MAAMjM,EAFW,EAEXA,KAEb6M,EAAS,2BAAI1M,GAAL,mBAAYH,EAAMiM,MAexB6B,EAAkB,WAEpBjB,EAASrF,GACT8J,EAAa9J,EAAKI,SAetB,OAEI,eAACsG,GAAA,EAAD,CAAOC,UAAW,EAAGrD,UAAU,QAA/B,UACI,mBAAGA,UAAU,iBAAb,0BACA,+BACI,6BACI,cAACoC,GAAA,EAAD,CAAWpB,SAAUmC,EAAcnD,UAAU,WAAYqC,MAAM,oBAAoBnN,KAAK,WAAWiM,MAAO9L,EAAMsH,aAEpH,6BACI,cAACyF,GAAA,EAAD,CAAWpB,SAAUmC,EAAcnD,UAAU,WAAWqC,MAAM,mBAAmBnN,KAAK,eAAeiM,MAAO9L,EAAMqI,iBAEtH,oBAAIsC,UAAU,WAAd,SACI,eAAC+C,GAAA,EAAD,CAAQmC,UAAU,QAASH,QAAQ,WAAnC,UAA8C,mBAAG/E,UAAU,gBAAb,4BAC1C,uBAAOgB,SA3CH,SAACC,GAErB,IAAIkE,EAAS,IAAIC,WAEbC,EAAOpE,EAAEiB,OAAOoD,MAAM,GAE1BH,EAAOI,cAAcF,GAErBF,EAAOK,iBAAiB,QAAQ,kBAAMgB,EAAarB,EAAO5H,YAmCP2C,MAAO,CAACuF,QAAQ,QAAS1G,KAAK,OAAO2G,OAAO,mBAGvF,oBAAI1F,UAAU,kBAAd,SACmB,KAAduG,EAEI,cAAC1D,GAAA,EAAD,IAED,qBAAK7C,UAAU,YAAY4C,IAAK2D,EAAW5D,IAAI,WAI3D,qBAAK3C,UAAU,aAAf,SACI,cAAC,GAAD,CAAWiD,aAhCF,WpBwDM,IAAC3N,EAAQwH,EoBtDhC7F,GpBsDwB3B,EoBtDCD,EpBsDOyH,EoBtDDyJ,EpBsDR,uCAAoB,WAAMtP,GAAN,SAAAC,EAAA,6DAE/CD,EAAS1B,GAAW,IAF2B,kBAMrCrB,EAAGiD,WAAW,SAASC,IAAI9B,EAAQkE,KAAK/B,OAAO,CAEjDkF,SAASrH,EAAQqH,SACjBe,aAAapI,EAAQoI,eATkB,OAY3BzG,EAAL,KAAX6F,EAAyBa,GAAQrI,EAAQkE,KAAiBoE,GAAgBtI,EAAQkE,IAAIsD,IAZ3C,gDAgB3CnF,QAAQC,IAAR,MAhB2C,yDAApB,wDoBrDvBwH,EAAQ5H,KAAK,MA6BkCwL,gBAAiBA,EAAiBtC,MAtCjE,WAEhBsC,IACA5D,EAAQ5H,KAAK,eCxBNiP,GAnBA,WAEX,IAAMxP,EAAWqI,cAQjB,OANAqE,IAAMhE,WAAU,WAEZ1I,EAASoF,IAAc,MAEzB,CAACpF,IAIC,sBAAM+I,UAAU,kBAAhB,SACI,cAAC,GAAD,O,kBC+EG0G,I,OApFG,SAACjG,GAEf,IAAMxJ,EAAWqI,cAEX5D,EAAO6D,YAAYzD,IAJA,EAMA0D,mBAAS9D,GANT,oBAMlBrG,EANkB,KAMZ0M,EANY,KAQzBpC,qBAAU,WAENoC,EAASrG,KAEX,CAACA,IAEH,IAAMyH,EAAe,SAAClC,GAAO,IAAD,IAEHA,EAAEiB,OAAhBhN,EAFiB,EAEjBA,KAAKiM,EAFY,EAEZA,MAEZY,EAAS,2BAAI1M,GAAL,wBAAYH,EAAMoM,GAAWH,IAA7B,yBAA4CwF,KAAKC,OAAjD,MAgCZ,OAEI,sBAAK5G,UAAU,WAAf,UACI,eAACoD,GAAA,EAAD,CAAOpD,UAAU,QAAQqD,UAAW,EAApC,UACQ,mBAAGrD,UAAU,WAAb,SAAyB3K,EAAMwR,QACnC,mBAAG7G,UAAU,KAAb,SAAmB3K,EAAMyR,SACzB,8BACI,cAAC1E,GAAA,EAAD,CAAWrB,WAAS,EAACuC,UAAQ,EAACpO,KAAK,MAAMiM,MAAO9L,EAAMS,IAAKkL,SAAUmC,EAAcd,MAAOhN,EAAMyR,WAEnGzR,EAAMyR,OAAO3E,SAAS,kBACnB,gCACI,8BACI,cAACC,GAAA,EAAD,CAAWrB,WAAS,EAAC7L,KAAK,MAAMiM,MAAO9L,EAAMc,IAAKkM,MAAM,cAAWrB,SAAUmC,MAEjF,8BACI,cAACf,GAAA,EAAD,CAAWrB,WAAS,EAAC7L,KAAK,OAAOiM,MAAO9L,EAAMa,KAAMmM,MAAM,OAAOrB,SAAUmC,SAKnE,gBAAhB9N,EAAMwR,OAA2BxR,EAAMU,OAEvC,cAACqM,GAAA,EAAD,CAAW2E,WAAY,CAAEC,WAAY,CAAEC,IAAK,EAAGC,IAAK,KAAQnG,WAAS,EAAEhC,KAAK,SAASsD,MAAM,0BAAoBlB,MAAO9L,EAAMoF,OAAQvF,KAAK,SAAS8L,SAAUmC,IAEhK,qBAAKnD,UAAU,aAAf,SACI,cAAC,GAAD,CAAWU,MAAOD,EAAMC,MAAOuC,aAtD1B,W3BKY,IAAC3N,E2BHb,KAAdD,EAAMS,KAEFT,EAAMU,OAASV,EAAMyR,OAAO3E,SAAS,WAEpB,gBAAhB9M,EAAMwR,MAA0B5P,G3BDV3B,E2BCyCD,E3BD1C,uCAAa,WAAM4B,GAAN,iBAAAC,EAAA,+EAIZhD,EAAGiD,WAAW,oBAAoB4O,IAAI,CAACjQ,IAAIR,EAAQQ,IAAIC,MAAMT,EAAQS,MAAMC,SAASV,EAAQU,SAASmD,QAAQ7D,EAAQ6D,QAAQgO,QAAQ7R,EAAQ6R,UAJjI,cAIpCtR,EAJoC,gBAMpC3B,EAAGiD,WAAW,oBAAoBC,IAAIvB,EAAgByD,IAAI7B,OAAO,CAACf,kBAAkBb,EAAgByD,KANhE,uBAQPpF,EAAGiD,WAAW,oBAAoBC,IAAIvB,EAAgByD,IAAIjC,MARnD,OAQpCa,EARoC,OAU1CjB,EAASZ,EAAmB6B,EAAqBZ,SAVP,kDAc1CK,QAAQC,IAAR,MAd0C,0DAAb,wD2BCoDX,EzBFnD,SAAC3B,GAAD,8CAAa,WAAM2B,GAAN,iBAAAC,EAAA,+EAIfhD,EAAGiD,WAAW,iBAAiB4O,IAAI,CAACjQ,IAAIR,EAAQQ,IAAIC,MAAMT,EAAQS,MAAMoD,QAAQ7D,EAAQ6D,QAAQsB,OAAOnF,EAAQmF,OAAOzE,SAASV,EAAQU,WAJxH,cAIrCwE,EAJqC,gBAMrCtG,EAAGiD,WAAW,iBAAiBC,IAAIoD,EAAclB,IAAI7B,OAAO,CAACwD,gBAAgBT,EAAclB,KANtD,uBAQVpF,EAAGiD,WAAW,iBAAiBC,IAAIoD,EAAclB,IAAIjC,MAR3C,OAQrC+P,EARqC,OAU3CnQ,EAAS4D,GAAiBuM,EAAmB9P,SAVF,kDAc3CK,QAAQC,IAAR,MAd2C,0DAAb,sDyBE4DyP,CAAuBhS,KAElGA,EAAMU,OAASV,EAAMyR,OAAO3E,SAAS,WAE5B,gBAAhB9M,EAAMwR,MAA0B5P,E3BahB,SAAC3B,GAAD,8CAAa,WAAM2B,GAAN,iBAAAC,EAAA,+EAIZhD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBS,WAAW,eAAe4O,IAAI,CAEpHjQ,IAAIR,EAAQQ,IACZK,IAAIb,EAAQa,IACZD,KAAKZ,EAAQY,KACbH,MAAMT,EAAQS,MACdW,kBAAkBpB,EAAQoB,kBAC1ByQ,QAAQ7R,EAAQ6R,UAXiB,cAI/BlR,EAJ+B,gBAc/B/B,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBS,WAAW,eAAeC,IAAInB,EAAWqD,IAAI7B,OAAO,CAACO,aAAa/B,EAAWqD,KAd/G,uBAgBPpF,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBS,WAAW,eAAeC,IAAInB,EAAWqD,IAAIjC,MAhBvG,OAgB/BiQ,EAhB+B,OAkBtCrQ,EAASD,EAAwBsQ,EAAgBhQ,SAlBX,kDAsBrCK,QAAQC,IAAR,MAtBqC,0DAAb,sD2BbyB2P,CAAiBlS,IAAU4B,EzBcnD,SAAC3B,GAAD,8CAAa,WAAM2B,GAAN,eAAAC,EAAA,+EAIhBhD,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiB9D,WAAW,YAAY4O,IAAI,CAACjQ,IAAIR,EAAQQ,IAAIC,MAAMT,EAAQS,MAAMkF,gBAAgB3F,EAAQ2F,kBAJpI,cAIhCuM,EAJgC,gBAMhCtT,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiB9D,WAAW,YAAYC,IAAIoQ,EAAQlO,IAAI7B,OAAO,CAACgQ,WAAWD,EAAQlO,KAN9F,OAQvCrC,EAASkB,GAAe7C,IARe,gDAYtCqC,QAAQC,IAAR,MAZsC,yDAAb,sDyBd4D8P,CAAkBrS,KAExFA,EAAMU,OAASV,EAAMyR,OAAO3E,SAAS,YAE7B,gBAAf9M,EAAMwR,MAAyB5P,E3B4IhB,SAAC3B,GAAD,8CAAa,WAAM2B,GAAN,SAAAC,EAAA,+EAI9BhD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBS,WAAW,eAAeC,IAAI9B,EAAQ0C,cAAcP,OAAO,CAAC3B,IAAIR,EAAQQ,IAAIK,IAAIb,EAAQa,IAAID,KAAKZ,EAAQY,OAJ5I,OAMpCe,EAASkB,EAAe7C,IANY,+CAUpCqC,QAAQC,IAAR,MAVoC,wDAAb,sD2B5IyB+P,CAAgBtS,IAAU4B,EzBkGlD,SAAC3B,GAAD,8CAAa,WAAM2B,GAAN,SAAAC,EAAA,+EAI/BhD,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiB9D,WAAW,YAAYC,IAAI9B,EAAQmS,YAAYhQ,OAAO,CAAC3B,IAAIR,EAAQQ,MAJhG,OAMrCmB,EAASkB,GAAe7C,IANa,+CAUrCqC,QAAQC,IAAR,MAVqC,wDAAb,sDyBlG2DgQ,CAAiBvS,IAEtFA,EAAMU,OAASV,EAAMyR,OAAO3E,SAAS,cAE7B,gBAAhB9M,EAAMwR,MAA2B5P,E3BsJX,SAAC3B,GAAD,8CAAa,WAAM2B,GAAN,eAAAC,EAAA,+EAInChD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBe,OAAO,CAAC3B,IAAIR,EAAQQ,MAJlD,uBAMJ5B,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBW,MAN7D,OAMnCwQ,EANmC,OAQzC5Q,EAASV,EAAsBsR,EAAuBvQ,SARb,gDAYzCK,QAAQC,IAAR,MAZyC,yDAAb,sD2BtJoBkQ,CAAqBzS,IAAU4B,EzB4GlD,SAAC3B,GAAD,8CAAa,WAAM2B,GAAN,SAAAC,EAAA,+EAIpChD,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiBxD,OAAO,CAAC3B,IAAIR,EAAQQ,IAAI2E,OAAOnF,EAAQmF,SAJ/D,OAM1CxD,EAAS+D,GAAoB1F,IANa,+CAU1CqC,QAAQC,IAAR,MAV0C,wDAAb,sDyB5G2DmQ,CAAsB1S,KAG1GoL,EAAMC,SAINzJ,EAAS7B,EAAS,CAACP,QAAQ,2BAA2BC,MAAM,mBAgC5D,cAAC,GAAD,SC1EGkT,I,OAbI,SAACvH,GAEhB,OAEI,sBAAKT,UAAU,kBAAf,UACI,8BjBHkBuB,EiBGEd,EAAMlI,MAAMzC,IjBDnCyL,EAAOE,iBiBEJ,4BAAIhB,EAAMlI,MAAMG,cAChB,kCAAK+H,EAAMlI,MAAMC,UAAjB,IAA4B,uBAAM0H,MAAO,CAAC+H,WAAW,OAAzB,cAAmCxH,EAAMlI,MAAME,iBjBL1D,IAAC8I,IkBkEf2G,GAhEU,SAACzH,GAEtB,IAAMxJ,EAAWqI,cAEX6I,EAAe5I,YAAYtF,GAE3BM,EAAegF,YAAYhE,IAE7ByG,EAAO,YAAOzH,GAWlB,OATAoH,GAAiBK,EAAQ,UAEzBrC,qBAAU,W3B0JmB,IAACrK,E2BxJ1B2B,G3BwJ0B3B,E2BxJC6S,EAAahP,Q3BwJf,uCAAa,WAAMlC,GAAN,iBAAAC,EAAA,6DAEtCK,EAAM,GAFgC,kBAMXrD,EAAGiD,WAAW,iBAAiBW,MAAM,UAAU,KAAKxC,GAAS+B,MANlD,QAMhCkD,EANgC,QAQtBP,MAEZrC,QAAQC,IAAI,mBAIZ2C,EAAaxC,SAAQ,SAAAqQ,GAEjB7Q,EAAIC,KAAK4Q,EAAK9Q,WAItBL,EAAS2D,GAAgBrD,IApBa,gDAwBtCI,QAAQC,IAAR,MAxBsC,yDAAb,0D2BtJ3B,CAACX,EAASkR,IAIR,kCACI,gCACI,6BACI,qBAAInI,UAAU,aAAd,qCACI,cAACqI,GAAA,EAAD,CAASxJ,MAAM,gBAAf,SACI,cAACwB,GAAA,EAAD,CAAMP,QAAS,kBAAIW,EAAM6H,oBAAoB,GAAG,UAAU,cAAc,wBAAqBtI,UAAU,OAAOE,MAAO,CAAC+H,WAAW,OAAjI,yCAKdjG,EAAQxL,KAAI,SAAC+R,EAAK1I,GAAN,OAEV,kCACI,+BACI,6BACCpB,GAAkBjI,KAAI,SAAC8H,EAAKuB,GAAN,OACnB,cAACwI,GAAA,EAAD,CAAqBxJ,MAAuB,YAAfP,EAAKI,OAAL,UAA8BJ,EAAKI,OAAnC,2BAA0DJ,EAAKI,OAA/D,wBAA7B,SACI,cAAC2B,GAAA,EAAD,CAAMP,QAAS,kBAAIW,EAAM+H,eAAeD,EAAKjK,EAAKI,OAAO,cAAc,aAAU6J,EAAKtN,kBAAkBiF,MAAQ,CAACuI,WAAW,QAASzI,UAAW1B,EAAKxJ,MAArJ,SAA6JwJ,EAAKA,QADxJuB,QAIlB,oBAAIG,UAAU,QAAd,SAAuBuI,EAAKzS,SAE/ByS,EAAKvS,SAASiM,OAAS,GAEpBsG,EAAKvS,SAASQ,KAAI,SAACC,EAAKoJ,GAAN,OAElB,+BACI,6BACClB,GAAiBnI,KAAI,SAAC8H,EAAKuB,GAAN,OAClB,cAACwI,GAAA,EAAD,CAAqBxJ,MAAK,UAAMP,EAAKI,OAAX,eAA1B,SACI,cAAC2B,GAAA,EAAD,CAAMP,QAAS,kBAAIW,EAAM+H,eAAe/R,EAAK6H,EAAKI,OAAO,cAAc,aAAU6J,EAAKtN,kBAAkBiF,MAAQ,CAACuI,WAAW,QAASzI,UAAW1B,EAAKxJ,MAArJ,SAA6JwJ,EAAKA,QADxJuB,QAIlB,+BAAI,qCAAepJ,EAAKX,SAPnB+J,QAdLA,UC8Gb6I,GApID,WAEV,IAAMzR,EAAWqI,cAFD,EAIeE,oBAAS,GAJxB,oBAITmJ,EAJS,KAIAC,EAJA,KAMVhT,EAAc2J,YAAYlH,GAE1B8P,EAAe5I,YAAYtF,GAE3BlF,EAAUwK,YAAY5J,GAExBqM,EAAO,YAAOpM,GAElB+L,GAAiBK,EAAQ,WAEzBrC,qBAAU,W9BwLkB,IAACrK,E8BtLzB2B,G9BsLyB3B,E8BtLC6S,EAAahP,Q9BsLf,uCAAa,WAAMlC,GAAN,iBAAAC,EAAA,6DAEzCD,EAAS1B,GAAW,IAEhBgC,EAAM,GAJ+B,kBAQXrD,EAAGiD,WAAW,oBAAoBW,MAAM,UAAU,KAAKxC,GAAS+B,MARrD,QAQ/BzB,EAR+B,QAUtBoE,MAEXrC,QAAQC,IAAI,kBAIZhC,EAAYmC,SAAQ,SAAA9B,GAEhBsB,EAAIC,KAAKvB,EAAWqB,WAI5BL,EAASJ,EAAeU,IAExBN,EAAS1B,GAAW,IAxBiB,kDA4BrCoC,QAAQC,IAAR,MA5BqC,0DAAb,0D8BpL1B,CAACX,EAASkR,IAGZ,IAAMG,EAAsB,SAAC7R,EAAKiI,EAAOmI,EAAM9H,GAE3C,GAAc,cAAXL,EAAwB,OAAOmK,EAAapS,GAEjC,YAAXiI,GAE2BzH,EAAS2E,GAAzB,gBAAViL,EAA8C,2BAAIlS,EAAakB,iBAAlB,IAAkCiR,OAAO,GAAD,OAAIpI,EAAJ,YAAcK,GAAO8H,MAAMA,EAAM1N,QAAQgP,EAAahP,UAEvH,2BAAImB,GAAqBE,eAA1B,IAAwCsM,OAAO,GAAD,OAAIpI,EAAJ,YAAcK,GAAO5F,QAAQgP,EAAahP,QAAQ0N,MAAMA,MAG/G,aAAXnI,GAAwBzH,EAAS2E,GAAW,2BAAInF,GAAL,IAAUqQ,OAAO,GAAD,OAAKpI,EAAL,YAAeK,GAAO8H,MAAMA,MAE1F+B,GAAY,IAGVJ,EAAiB,SAAC/R,EAAKiI,EAAOmI,EAAM9H,EAAKzF,GAE3C,GAAc,cAAXoF,EAAwB,OAAOmK,EAAapS,EAAKoQ,GAEtC,YAAXnI,GAE2BzH,EAAS2E,GAAzB,gBAAViL,EAA8C,2BAAIlS,EAAasB,YAAlB,IAA8B6Q,OAAO,GAAD,OAAIpI,EAAJ,YAAcK,GAAO5F,QAAQgP,EAAahP,QAAQzC,kBAAkB4C,EAAGuN,MAAMA,IAE1I,2BAAIvM,GAAqBI,UAA1B,IAAmCoM,OAAO,GAAD,OAAIpI,EAAJ,YAAcK,GAAO8H,MAAMA,EAAM1N,QAAQgP,EAAahP,QAAQ8B,gBAAgB3B,MAGhI,aAAXoF,GAAyBzH,EAAS2E,GAAW,2BAAInF,GAAL,IAAUqQ,OAAO,GAAD,OAAKpI,EAAL,YAAeK,GAAO8H,MAAMA,MAE5F+B,GAAY,IAITC,EAAe,SAACpS,EAAKoQ,G9B+DC,IAACvR,E8B7DZ,gBAAVuR,EAEEpQ,EAAKV,MAA2CkB,E9B0BxB,SAAC3B,GAAD,8CAAc,WAAM2B,GAAN,SAAAC,EAAA,+EAIrChD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBuB,SAJ5B,OAM3ChB,EAASY,EAAqBvC,IANa,+CAU3CqC,QAAQC,IAAR,MAV2C,wDAAd,sD8B1BiCkR,CAAsBrS,IAAlEQ,G9B2DO3B,E8B3DmBmB,E9B2DpB,uCAAa,WAAMQ,GAAN,SAAAC,EAAA,+EAI/BhD,EAAGiD,WAAW,oBAAoBC,IAAI9B,EAAQoB,mBAAmBS,WAAW,eAAeC,IAAI9B,EAAQ0C,cAAcC,SAJtF,OAMrChB,EAASkB,EAAe7C,IANa,+CAUrCqC,QAAQC,IAAR,MAVqC,wDAAb,wD8BvDnBnB,EAAKV,MAA4CkB,E5B0CxB,SAAC3B,GAAD,8CAAa,WAAM2B,GAAN,SAAAC,EAAA,+EAIpBhD,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiB9D,WAAW,YAAYW,MAAM,kBAAkB,KAAKxC,EAAQ2F,iBAAiB5D,MAJrH,qBAMlCU,QAAT,uCAAkB,WAAMqD,GAAN,SAAAlE,EAAA,sEAERhD,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiB9D,WAAW,YAAYC,IAAIgE,EAAM9D,OAAOmQ,YAAYxP,SAFxG,2CAAlB,uDAN2C,SAWrC/D,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiBhD,SAXvB,OAa3ChB,EAASiE,GAAoB5F,IAbc,kDAiB3CqC,QAAQC,IAAR,MAjB2C,0DAAb,sD4B1CiCmR,CAAuBtS,IAApEQ,E5B2BO,SAAC3B,GAAD,8CAAa,WAAM2B,GAAN,SAAAC,EAAA,+EAIhChD,EAAGiD,WAAW,iBAAiBC,IAAI9B,EAAQ2F,iBAAiB9D,WAAW,YAAYC,IAAI9B,EAAQmS,YAAYxP,SAJ3E,OAMtChB,EAASkB,GAAe7C,IANc,+CAWtCqC,QAAQC,IAAR,MAXsC,wDAAb,sD4B3BEoR,CAAkBvS,KAMjD,OACI,8BACE1B,EAAU,cAAC,GAAD,IAET,gCACK,cAAC,GAAD,CAAYwD,MAAO4P,IACnB,sBAAKnI,UAAU,aAAf,UACI,kCACI,gCACI,+BACI,yCACA,qBAAIA,UAAU,aAAd,2BACI,cAACqI,GAAA,EAAD,CAASxJ,MAAM,uBAAf,SACI,cAACwB,GAAA,EAAD,CAAMP,QAAS,kBAAIwI,EAAoB,GAAG,UAAU,gBAAa,iBAActI,UAAU,OAAOE,MAAO,CAAC+H,WAAW,OAAnH,qCAGR,8CACA,2CAGHjG,EAAQxL,KAAI,SAACC,EAAKoJ,GAAN,OACT,kCACI,+BACI,6BACKpB,GAAkBjI,KAAI,SAAC8H,EAAKuB,GAAN,OACnB,cAACwI,GAAA,EAAD,CAAqBxJ,MAAuB,YAAfP,EAAKI,OAAL,UAA8BJ,EAAKI,OAAnC,4BAA2DJ,EAAKI,OAAhE,iBAA7B,SACI,cAAC2B,GAAA,EAAD,CAAMP,QAAS,kBAAI0I,EAAe/R,EAAK6H,EAAKI,OAAO,gBAAa,gBAAajI,EAAKC,oBAAoBwJ,MAAQ,CAACuI,WAAW,QAASzI,UAAW1B,EAAKxJ,MAAnJ,SAA2JwJ,EAAKA,QADtJuB,QAItB,oBAAIG,UAAU,mBAAd,SAAkCvJ,EAAKX,SAE1CW,EAAKT,SAASiM,OAAS,GAEpBxL,EAAKT,SAASQ,KAAI,SAAC4B,EAAMyH,GAAP,OAElB,+BACI,6BACClB,GAAiBnI,KAAI,SAAC8H,EAAKuB,GAAN,OAClB,cAACwI,GAAA,EAAD,CAAqBxJ,MAAK,UAAKP,EAAKI,OAAV,kBAA1B,SACI,cAAC2B,GAAA,EAAD,CAAMP,QAAS,kBAAI0I,EAAepQ,EAAMkG,EAAKI,OAAO,gBAAa,gBAAajI,EAAKC,oBAAoBsJ,UAAW1B,EAAKxJ,MAAvH,SAA+HwJ,EAAKA,QAD1HuB,QAIlB,qBAAIG,UAAU,aAAd,UAA2B,qCAAe5H,EAAMtC,OAChD,6BAAMsC,EAAMjC,MACZ,6BAAMiC,EAAMlC,SATP2J,QAdLA,SA6BxB,cAAC,GAAD,CAAkB2I,eAAgBA,EAAgBF,oBAAqBA,IACvE,8BACCK,GAAa,cAAC,GAAD,CAAWjI,MAtDvB,kBAAMkI,GAAY,iBC9DzBK,GAlBG,WAEd,IAAMhS,EAAWqI,cAQjB,OANAqE,IAAMhE,WAAU,WAEZ1I,EAASoF,IAAc,MAEzB,CAACpF,IAIC,qBAAKiJ,MAAO,CAACsE,OAAO,QAApB,SACI,cAAC,GAAD,OC6BG0E,I,MAtCG,SAACzI,GAEf,IAAMxJ,EAAWqI,cAEjB,OAEI,sBAAKU,UAAU,WAAf,eAE2B2F,IAAtBlF,EAAMlI,MAAMI,OACb,qBAAMqH,UAAU,eAAe2C,IAAI,MAAMC,IAAKnC,EAAMlI,MAAMI,QAEtD,sBAAKqH,UAAU,kBAAf,UACA,mBAAGA,UAAU,mBAAb,SAAiCS,EAAMlI,MAAMC,YAC7C,qBAAKwH,UAAU,YAAf,SACA,cAAC,KAAD,CAAMA,UAAU,kBAAkBF,QAAS,kBAAI7I,EAAS8B,EAAY0H,EAAMlI,SAASmK,GAAE,gBAAWjC,EAAMlI,MAAMY,SAA5G,SACI,mBAAG6G,UAAU,iBAAb,SAA+BS,EAAMlI,MAAMzC,UAG/C,qBAAKkK,UAAU,YAAf,SACI,mBAAGA,UAAU,KAAb,SAAmBS,EAAMlI,MAAMG,gBAEnC,qBAAKsH,UAAU,YAAf,SACI,mBAAGA,UAAU,KAAb,SAAmBS,EAAMlI,MAAME,YAEnC,qBAAKuH,UAAU,YAAf,SACCpB,GAAcpI,KAAI,SAAC8H,EAAKuB,GAAN,OACf,+BACI,cAACwI,GAAA,EAAD,CAASxJ,MAAOP,EAAKO,MAArB,SACI,cAACwB,GAAA,EAAD,CAAMP,QAAS,kBAAKW,EAAM0I,iBAAiB7K,EAAKI,OAAO+B,EAAMlI,QAAQyH,UAAU,OAA/E,SAAuF1B,EAAKA,UAFzFuB,gBCVhBuJ,GAvBI,SAAC3I,GAIhB,IAFA,IAAM4I,EAAa,GAEXC,EAAI,EAAGA,GAAK7I,EAAM8I,QAASD,IAE/BD,EAAW7R,KAAK8R,GAIpB,OACI,qBAAKtJ,UAAU,QAAf,SACKqJ,EAAW7S,KAAI,SAAAgT,GAAG,OAEf,6BACI,oBAAIxJ,UAAWwJ,IAAQ/I,EAAMgJ,YAAc,SAAW,KAAM3J,QAAS,kBAAIW,EAAMiJ,kBAAkBF,IAAjG,SAAwGA,KADnGA,S,UCYVG,GAtBS,WAEpB,IAAM1S,EAAWqI,cAEXpD,EAAWqD,YAAY9C,IAE7B,OACI,qBAAKuD,UAAU,4BAAf,SACKlB,GAActI,KAAI,SAACC,EAAKoJ,GAAN,OAEf,sBAAiBG,UAAU,aAA3B,UACI,4BAAIvJ,EAAKoI,QACT,8BACI,cAAC+K,GAAA,EAAD,CAAQC,QAAS3N,EAASzF,EAAKsI,MAAO7J,KAAMuB,EAAKsI,KAAM+F,KAAK,QAAQ9D,SAAU,kBAAI/J,G9BGzE3B,E8BHmGmB,EAAKsI,K9BG5F,SAAA9H,GAGzC,GAAe,QAAZ3B,EAEC2B,EAASqF,GAAY3H,GAAauH,gBAE/B,GAAe,YAAZ5G,EAAuB,CAAC,IAAD,EAGhC2B,EAASqF,IAAW,oBAAGhH,GAAS,GAAZ,sBAAsB,GAAtB,4BAAsC,GAAtC,8BAAyD,mBAAzD,SAGd,CAAC,IAAD,EAEN2B,EAASqF,IAAW,oBAAGhH,GAAS,GAAZ,sBAAqB,GAArB,0BAAmC,GAAnC,8BAAsD,gBAAtD,SAfO,IAACA,S8BNPuK,SCqFXiK,GAzFI,WAEf,IAAM7S,EAAWqI,cAEXF,EAAUC,eAJK,EAMcG,mBAAS,IANvB,oBAMduK,EANc,KAMHC,EANG,KAQfnR,EAAe0G,YAAYlF,IAE7B2H,EAAO,YAAOnJ,GAElB8I,GAAiBK,EAAQ,OAZJ,MAccxC,oBAAS,GAdvB,oBAcdyK,EAdc,KAcHC,EAdG,KAkBfX,EAAUY,KAAKC,KAAKpI,EAAQC,OAFjB,GAhBI,EAoBgBzC,mBAAS,GApBzB,oBAoBdiK,EApBc,KAoBFY,EApBE,KAsBfC,EANW,EAMCb,EAEZc,EAAaD,EARF,EAUXE,EAAgBxI,EAAQN,MAAM6I,EAAWD,GAO/C3G,IAAMhE,WAAU,WAHZ9G,EAAaoJ,QAdA,EAcqB+H,EAAchI,GAAWgI,EAAcQ,KAO3E,CAAC3R,EAAa4Q,IAGhB,IAAMN,EAAmB,SAACzK,EAAOnG,GAEf,SAAXmG,IAECzH,EAAS8B,EAAYR,IACrB6G,EAAQ5H,KAAR,gBAAsBe,EAAMY,WAGlB,aAAXuF,IAECzH,EAAS4E,GAAiBtD,IAC1B6G,EAAQ5H,KAAK,eAGH,cAAXkH,GAECwL,GAAc,IAYtB,OAEI,sBAAKlK,UAAU,UAAf,UACI,cAAC,GAAD,IACA,sBAAKA,UAAU,kBAAf,UACI,sBAAKA,UAAU,gBAAf,UACKiK,GAAc,cAAC,GAAD,CAAQhH,aAZb,WAEtBtL,QAAQC,IAAI,SAUwDoL,gBAAiB,kBAAKkH,GAAc,IAAQxJ,MAAO,kBAAIwJ,GAAc,IAAQnU,MAAO,oCAC5I,6BACCgU,EAAWvT,KAAI,SAAC+B,EAAMsH,GAAP,OACZ,6BACI,cAAC,GAAD,CAAYsJ,iBAAkBA,EAAkB5Q,MAAOA,KADlDsH,WAMjB,cAAC,GAAD,CAAY0J,QAASA,EAASG,kBAvBhB,SAACF,GAAD,OAASa,EAAeb,IAuB8BC,YAAaA,WC9ClFgB,I,OAtCA,WAEb,IAAMrL,EAAUC,eAEVxG,EAAe0G,YAAYnF,IAE3BsC,EAAO6C,YAAYzB,IAEnB/I,EAAUwK,YAAY5J,GAEtBsB,EAAWqI,cASjB,OAPAK,qBAAU,WAER1I,EAAS4C,EAAY6C,EAAKlD,MAC1BvC,EAASoF,IAAc,MAEvB,CAACpF,EAASyF,EAAKlD,MAGf,qBAAKwG,UAAU,WAAf,SACGjL,EAAU,cAAC,GAAD,IACX8D,EAAaoJ,OAAS,EAAI,cAAC,GAAD,IAExB,sBAAKjC,UAAU,cAAcF,QAAS,kBAAIV,EAAQ5H,KAAK,eAAvD,UACE,mEACA,mBAAG0I,MAAO,CAACmG,UAAU,QAASrG,UAAU,gCAAxC,gCACA,qBAAKA,UAAU,iBAAf,SACE,cAAC,GAAD,aCAG0K,GA9BA,WAEX,IAAMzT,EAAWqI,cAEXF,EAAUC,eAQhB,OAEI,uBAAMW,UAAU,WAAhB,UACI,0BAASA,UAAU,cAAnB,UACI,8BACI,cAAC,GAAD,CAASnB,M9BgBG,yB8BdhB,8BACI,cAAC,GAAD,CAAekF,UAdE,SAAC3G,GAE9BnG,EAASkG,GAAmBC,IAC5BgC,EAAQ5H,KAAK,aAcT,qBAAKwI,UAAU,YAAf,SACI,cAAC,GAAD,UCuBD2K,OA1Cf,WAEE,IAAM1T,EAAWqI,cAmBjB,OAjBAK,qBAAU,WAERtL,EAAKuW,oBAAmB,SAAClO,GAEnBA,EAEFzF,EAAS0G,GAAQjB,EAAKlD,MAItB7B,QAAQC,IAAI,gBAIhB,CAACX,IAKD,cAAC,KAAD,UACE,sBAAK+I,UAAU,QAAf,UACE,cAAC,GAAD,IACA,eAAC,KAAD,WACE,cAAC,KAAD,CAAO6K,OAAK,EAACC,KAAM,IAAK5F,UAAWkB,KACnC,cAAC,KAAD,CAAO0E,KAAM,SAAU5F,UAAWjB,KAClC,cAAC,KAAD,CAAO6G,KAAM,UAAW5F,UAAWwF,KACnC,cAAC,KAAD,CAAOI,KAAM,UAAW5F,UAAWX,KACnC,cAAC,KAAD,CAAOuG,KAAM,aAAc5F,UAAWe,KACtC,cAAC,KAAD,CAAO6E,KAAM,UAAW5F,UAAWuB,KACnC,cAAC,KAAD,CAAOqE,KAAM,UAAW5F,UAAWuF,KACnC,cAAC,KAAD,CAAOK,KAAM,aAAc5F,UAAW+D,QAExC,cAAC,KAAD,CAAUvG,GAAG,YC1CrBqI,IAASC,OACP,cAAC,IAAD,CAAU7M,MAAOA,GAAjB,SACE,cAAC,GAAD,MAEF8M,SAASC,eAAe,U","file":"static/js/main.6fb05159.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport  'firebase/firestore'\r\nimport 'firebase/storage'\r\nimport 'firebase/auth'\r\n\r\nconst firebaseConfig = {\r\n\r\n    apiKey: \"AIzaSyAkCPwGcg_TvQykF7pPvwsdbobCr0Z1P6g\",\r\n    authDomain: \"cook-app-ef4df.firebaseapp.com\",\r\n    projectId: \"cook-app-ef4df\",\r\n    storageBucket: \"cook-app-ef4df.appspot.com\",\r\n    messagingSenderId: \"450798936713\",\r\n    appId: \"1:450798936713:web:f540b15babff037f559c58\"\r\n};\r\n  // Initialize Firebase\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const db = firebase.firestore()\r\n\r\nexport const storage = firebase.storage()\r\n\r\nexport const auth = firebase.auth()\r\n\r\nexport const providerGg = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport const providerFb = new firebase.auth.FacebookAuthProvider();\r\n\r\ndb.languageCode = \"fr_FR\";\r\n\r\nauth.languageCode=\"fr_FR\";\r\n\r\nstorage.languageCode =\"fr_FR\";","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nexport const initialState = { \r\n\r\n    alert: {message:\"\",class:\"\"}, \r\n\r\n    loading:false,\r\n\r\n}\r\n\r\nconst alertSlice = createSlice({\r\n\r\n    name:\"alert\",\r\n\r\n    initialState,\r\n\r\n    reducers:{\r\n\r\n        addAlert:(state,{payload}) => { state.alert = payload},\r\n\r\n        setLoading:(state,{payload}) => {state.loading = payload},\r\n\r\n    }\r\n})\r\n\r\n\r\n\r\nexport const {addAlert,setLoading} = alertSlice.actions\r\n\r\nexport const alertSelector = (state) => state.alertStore.alert;\r\nexport const loadingSelector = (state) => state.alertStore.loading;\r\n\r\n\r\nexport default alertSlice.reducer","import {createSlice} from '@reduxjs/toolkit'\r\nimport {db} from '../../Firebase'\r\nimport {setLoading} from './alertStore'\r\n\r\n\r\nexport const initialState = {\r\n\r\n    ingredients : [],\r\n\r\n    ingredientTitre : {nom:\"\", titre:true, subArray:[]},\r\n\r\n    ingredient : {nom:\"\",prix:\"\",qte :\"\", titre :false},\r\n}\r\n\r\nconst ingredientSlice = createSlice({\r\n\r\n    name:\"ingredients\",\r\n\r\n    initialState,\r\n\r\n    reducers:{\r\n\r\n        addIngredientTitre :(state,{payload}) => { state.ingredients = [...state.ingredients,payload]},\r\n\r\n        addIngredientSubArray:(state,{payload}) => {state.ingredientTitre = {...state.ingredientTitre,subArray:[...state.ingredientTitre.subArray,payload]}},\r\n\r\n        updateIngredientTitre:(state,{payload}) => {state.ingredients = state.ingredients.map(item => item.ingredientTitreId === payload.ingredientTitreId ? payload : item)},\r\n\r\n        selectIngredient:(state,{payload}) => { state.ingredient = payload},\r\n\r\n        selectIngredientTtitre:(state,{payload}) => {state.ingredientTitre = payload},\r\n\r\n        getIngredients:(state,{payload}) => {state.ingredients = payload},\r\n\r\n        deleteIngredientTitre:(state,{payload}) => {state.ingredients = state.ingredients.filter(item => item.ingredientTitreId !== payload)}\r\n\r\n    }\r\n})\r\n\r\nexport const createIngredientTitre = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const ingredientTitre = await db.collection('ingredientsTitre').add({nom:payload.nom,titre:payload.titre,subArray:payload.subArray,ficheId:payload.ficheId,created:payload.created})\r\n      \r\n        await db.collection('ingredientsTitre').doc(ingredientTitre.id).update({ingredientTitreId:ingredientTitre.id})\r\n        \r\n        const ingredientTitreSaved = await db.collection('ingredientsTitre').doc(ingredientTitre.id).get()\r\n\r\n        dispatch(addIngredientTitre(ingredientTitreSaved.data()))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const createIngredient = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const ingredient = await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).collection('ingredients').add({\r\n\r\n            nom:payload.nom,\r\n            qte:payload.qte,\r\n            prix:payload.prix,\r\n            titre:payload.titre,\r\n            ingredientTitreId:payload.ingredientTitreId,\r\n            created:payload.created\r\n        })\r\n\r\n        await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).collection('ingredients').doc(ingredient.id).update({ingredientId:ingredient.id})\r\n\r\n        const ingredientSaved = await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).collection('ingredients').doc(ingredient.id).get();\r\n\r\n       dispatch(addIngredientToSubArray(ingredientSaved.data()))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}   \r\n\r\nexport const addIngredientToSubArray = (payload) => async dispatch => {\r\n\r\n    try {\r\n        \r\n        const ingredientTitre = await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).get()\r\n\r\n        let arr = await ingredientTitre.data().subArray\r\n\r\n        await arr.push(payload)\r\n\r\n        await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).update({subArray:arr})\r\n\r\n        dispatch(getAndPatchIngredientTitre(payload))\r\n       \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n\r\n}\r\n\r\nexport const removeIngredientTitre = (payload) =>  async dispatch => {\r\n\r\n    try {\r\n\r\n        await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).delete()\r\n\r\n        dispatch(removeAllIngredients(payload))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}   \r\n\r\nexport const removeAllIngredients = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const ingredients = await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).collection('ingredients').where(\"ingredientTitreId\",\"==\", payload.ingredientTitreId).get()\r\n\r\n        ingredients.forEach( async ingredient =>\r\n            \r\n            await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).collection('ingredients').doc(ingredient.data().ingredientId).delete()\r\n        )\r\n\r\n       dispatch(deleteIngredientTitre(payload.ingredientTitreId)) \r\n    \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const removeIngredient = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).collection('ingredients').doc(payload.ingredientId).delete()\r\n\r\n        dispatch(updateSubArray(payload))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const getAndPatchIngredientTitre = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const ingredientTitreSaved = await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).get()\r\n       \r\n        dispatch(updateIngredientTitre(ingredientTitreSaved.data()))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const updateSubArray = (payload) => async dispatch => {\r\n\r\n    let arr = [];\r\n\r\n    try {\r\n\r\n        const ingredients = await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).collection('ingredients').where('ingredientTitreId',\"==\",payload.ingredientTitreId).get()\r\n\r\n        ingredients.forEach(ingre => {\r\n\r\n            arr.push(ingre.data())\r\n        })\r\n\r\n        await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).update({subArray: arr})\r\n\r\n        dispatch(getAndPatchIngredientTitre(payload))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const patchIngredient = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).collection('ingredients').doc(payload.ingredientId).update({nom:payload.nom,qte:payload.qte,prix:payload.prix})\r\n\r\n        dispatch(updateSubArray(payload))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const patchIngredientTitre = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).update({nom:payload.nom})\r\n\r\n        const ingredientTitreUpdated = await db.collection('ingredientsTitre').doc(payload.ingredientTitreId).get()\r\n\r\n        dispatch(updateIngredientTitre(ingredientTitreUpdated.data()))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const fetchIngredients = (payload) => async dispatch => {\r\n\r\n    dispatch(setLoading(true))\r\n\r\n    let arr = [];\r\n\r\n    try {\r\n\r\n        const ingredients = await db.collection('ingredientsTitre').where(\"ficheId\",\"==\",payload).get()\r\n\r\n        if(ingredients.empty){\r\n\r\n            console.log(\"no ingredients\")\r\n\r\n        } else {\r\n\r\n            ingredients.forEach(ingredient => {\r\n\r\n                arr.push(ingredient.data())\r\n            })\r\n        }\r\n\r\n        dispatch(getIngredients(arr))\r\n\r\n        dispatch(setLoading(false))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\n\r\nexport const {getIngredients,addIngredientTitre,addIngredientSubArray,updateIngredientTitre,selectIngredient,\r\n    selectIngredientTtitre,deleteIngredientTitre} = ingredientSlice.actions;\r\n\r\nexport const ingredientSelector = (state) => state.ingredientStore.ingredient;\r\nexport const ingredientsSelector = (state) => state.ingredientStore.ingredients;\r\nexport const ingredientTitreSelector = (state) => state.ingredientStore.ingredientTitre;\r\n\r\n\r\nexport default ingredientSlice.reducer","import {createSlice} from '@reduxjs/toolkit'\r\nimport {db,storage} from '../../Firebase'\r\nimport {setLoading} from './alertStore'\r\n\r\nexport const initialState = {\r\n\r\n    fiche : { nom:\"\",categorie:\"\",cuisson:\"\", description:\"\",image:\"\"},\r\n\r\n    fiches : [],\r\n\r\n    fichesSearch : [],\r\n}\r\n\r\nconst ficheSlice = createSlice({\r\n\r\n    name:'Fiche',\r\n\r\n    initialState,\r\n\r\n    reducers : {\r\n\r\n        selectFiche: (state,{payload}) => { state.fiche = payload},\r\n\r\n        addFiche:(state,{payload}) => {state.fiches = [...state.fiches,payload]},\r\n\r\n        getFiches:(state,{payload}) => {state.fiches = payload},\r\n\r\n        updateFiche:(state,{payload}) => {state.fiches = state.fiches.map(fiche => fiche.ficheId === payload.ficheId ? payload : fiche)},\r\n\r\n        setFichesSearch:(state,{payload}) => {state.fichesSearch = payload},\r\n\r\n    }\r\n})\r\n\r\n\r\nexport const createFiche = (payload,img,uid) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const fiche = await db.collection('fiches').add({\r\n\r\n            nom:payload.nom,\r\n            categorie:payload.categorie,\r\n            cuisson:payload.cuisson,\r\n            description:payload.description,\r\n            userId:uid\r\n        })\r\n\r\n        await db.collection('fiches').doc(fiche.id).update({ficheId : fiche.id})\r\n\r\n        img !== undefined ? dispatch(storageFicheImg(fiche.id,img,uid)) : dispatch(storageDefaultImg(payload,fiche.id,uid));\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const storageFicheImg = (id,img,uid) => async dispatch => {\r\n\r\n    try {\r\n\r\n       await storage.ref('/fiches/' + id).putString(img,'data_url')\r\n        \r\n       const imageUrl = await storage.ref('/fiches/' + id).getDownloadURL()\r\n\r\n       await db.collection('fiches').doc(id).update({image:imageUrl})\r\n\r\n       dispatch(fetchFiches(uid))\r\n\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\n\r\nexport const storageDefaultImg = (payload,id,uid) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const imageUrl = await storage.ref().child('/categories/' + payload.categorie+'.jpg').getDownloadURL()\r\n\r\n        await db.collection('fiches').doc(id).update({image:imageUrl})\r\n\r\n        dispatch(fetchFiches(uid))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const patchFiche = (payload,img) => async dispatch => {\r\n\r\n    try {\r\n\r\n        await db.collection('fiches').doc(payload.ficheId).update({nom:payload.nom,categorie:payload.categorie,cuisson:payload.cuisson,description:payload.description})\r\n        \r\n        const ficheUpdated = await db.collection('fiches').doc(payload.ficheId).get();\r\n\r\n        img !== ficheUpdated.data().image ? dispatch(storageFicheImg(payload.ficheId,img,payload.userId)) : dispatch(updateFiche(ficheUpdated.data()))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\n\r\nexport const fetchFiches = (uid) => async dispatch => {\r\n\r\n    dispatch(setLoading(true))\r\n\r\n    let arr = [];\r\n\r\n    try {\r\n\r\n        const fiches = await db.collection('fiches').where(\"userId\",\"==\",uid).get()\r\n\r\n        if(fiches.empty){\r\n\r\n            console.log('no fiches')\r\n\r\n        } else {\r\n\r\n            fiches.forEach(fiche => {\r\n\r\n                arr.push(fiche.data())\r\n            })\r\n\r\n            dispatch(getFiches(arr))\r\n            dispatch(setFichesSearch(arr))\r\n        }\r\n\r\n        dispatch(setLoading(false))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const selectFicheById = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const fiche = await db.collection('fiches').doc(payload).get()\r\n\r\n        dispatch(selectFiche(fiche.data()))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const {selectFiche,addFiche,getFiches,updateFiche,setFichesSearch,selectFichesSearch} = ficheSlice.actions;\r\n\r\nexport const ficheSelector = (state) => state.ficheStore.fiche;\r\nexport const fichesSelector = (state) => state.ficheStore.fiches;\r\nexport const fichesSearchSelector = (state) => state.ficheStore.fichesSearch;\r\n\r\nexport default ficheSlice.reducer\r\n","import {createSlice} from '@reduxjs/toolkit'\r\nimport {db} from '../../Firebase'\r\n\r\n\r\nexport const initialStateProgress = { \r\n\r\n    progressions : [], \r\n\r\n    progressTitre : {nom:\"\", titre: true, numero:\"\", subArray:[]},\r\n    \r\n    progress: {nom:\"\",titre:false}\r\n}\r\n\r\nconst proregressionSlice = createSlice({\r\n\r\n    name:\"progression\",\r\n\r\n    initialState : initialStateProgress,\r\n\r\n    reducers:{\r\n\r\n        getProgressions:(state,{payload}) => {state.progressions = payload},\r\n\r\n        addProgressTitre:(state,{payload}) => {state.progressions = [...state.progressions,payload]},\r\n\r\n        selectProgressTitre:(state,{payload}) => {state.progressTitre = payload},\r\n\r\n        selectProgress:(state,{payload}) => {state.progress = payload},\r\n\r\n        updateProgressTitre:(state,{payload}) => {state.progressions = state.progressions.map(item => item.progressTitreId === payload.progressTitreId ? payload : item)},\r\n\r\n        deleteProgressTitre:(state,{payload}) => {state.progressions = state.progressions.filter(item => item.progressTitreId !== payload.progressTitreId)},\r\n\r\n        addProgressToSubArray:(state,{payload}) => {state.progressTitre = {...state.progressTitre,subArray:[...state.progressTitre.subArray,payload]}}\r\n    }\r\n})\r\n\r\n\r\nexport const createProgressionTitre = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const progressTitre = await db.collection('progressTitre').add({nom:payload.nom,titre:payload.titre,ficheId:payload.ficheId,numero:payload.numero,subArray:payload.subArray})\r\n        \r\n        await db.collection('progressTitre').doc(progressTitre.id).update({progressTitreId:progressTitre.id})\r\n\r\n        const progressTitreSaved = await db.collection('progressTitre').doc(progressTitre.id).get()\r\n\r\n        dispatch(addProgressTitre(progressTitreSaved.data()))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const createProgression = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const progres = await db.collection('progressTitre').doc(payload.progressTitreId).collection('progress').add({nom:payload.nom,titre:payload.titre,progressTitreId:payload.progressTitreId});\r\n\r\n        await db.collection('progressTitre').doc(payload.progressTitreId).collection('progress').doc(progres.id).update({progressId:progres.id})\r\n        \r\n       dispatch(updateSubArray(payload))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const updateSubArray = (payload) => async dispatch => {\r\n\r\n    let arr = [];\r\n\r\n    try {\r\n\r\n        const progress = await db.collection('progressTitre').doc(payload.progressTitreId).collection('progress').where(\"progressTitreId\",'==',payload.progressTitreId).get()\r\n\r\n        progress.forEach(progr => arr.push(progr.data()))\r\n        \r\n        await db.collection('progressTitre').doc(payload.progressTitreId).update({subArray:arr})\r\n\r\n        dispatch(getAndPatchProgressTitre(payload))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\n\r\nexport const getAndPatchProgressTitre = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const progressTitreUpdated = await db.collection(\"progressTitre\").doc(payload.progressTitreId).get()\r\n\r\n        dispatch(updateProgressTitre(progressTitreUpdated.data()))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const removeProgression = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        await db.collection('progressTitre').doc(payload.progressTitreId).collection('progress').doc(payload.progressId).delete()\r\n       \r\n        dispatch(updateSubArray(payload));\r\n\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const removeProgressionTitre = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const progress = await db.collection('progressTitre').doc(payload.progressTitreId).collection('progress').where('progressTitreId',\"==\",payload.progressTitreId).get();\r\n\r\n        progress.forEach( async progr => {\r\n\r\n            await db.collection('progressTitre').doc(payload.progressTitreId).collection('progress').doc(progr.data().progressId).delete()\r\n        })\r\n\r\n        await db.collection('progressTitre').doc(payload.progressTitreId).delete()\r\n\r\n        dispatch(deleteProgressTitre(payload))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\n\r\nexport const patchProgression = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        await db.collection('progressTitre').doc(payload.progressTitreId).collection('progress').doc(payload.progressId).update({nom:payload.nom})\r\n        \r\n        dispatch(updateSubArray(payload))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const patchProgressionTitre = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        await db.collection('progressTitre').doc(payload.progressTitreId).update({nom:payload.nom,numero:payload.numero})\r\n\r\n        dispatch(updateProgressTitre(payload))\r\n        \r\n    } catch (error) {\r\n\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const fetchProgressions = (payload) => async dispatch => {\r\n\r\n    let arr = [];\r\n\r\n    try {\r\n\r\n        const progressions = await db.collection('progressTitre').where(\"ficheId\",'==',payload).get()\r\n\r\n        if(progressions.empty){\r\n\r\n            console.log(\"no progressions\")\r\n\r\n        } else {\r\n\r\n            progressions.forEach(prog => {\r\n\r\n                arr.push(prog.data())\r\n            })\r\n        }\r\n\r\n        dispatch(getProgressions(arr))\r\n        \r\n    } catch (error) {\r\n\r\n        console.log(error)\r\n    }\r\n}\r\n\r\n\r\nexport const {getProgressions,addProgressToSubArray,addProgressTitre,selectProgressTitre,selectProgress,updateProgressTitre,deleteProgressTitre} = proregressionSlice.actions;\r\n\r\nexport const progressTitreSelector = (state) => state.progressionStore.progressTitre;\r\nexport const progressSelector = (state) => state.progressionStore.progress;\r\nexport const progresssionsSelector = (state) => state.progressionStore.progressions;\r\n\r\n\r\nexport default proregressionSlice.reducer\r\n","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nexport const inititialStateForm = {  form: {}, editFicheForm:{} }\r\n\r\nconst formSlice = createSlice({\r\n\r\n    name:\"form\",\r\n\r\n    initialState: inititialStateForm,\r\n\r\n    reducers:{\r\n\r\n        createForm:(state,{payload}) => {state.form = payload},\r\n\r\n        setEditFicheForm:(state,{payload}) => {state.editFicheForm = payload}\r\n    }\r\n})\r\n\r\n\r\nexport const {createForm,setEditFicheForm} = formSlice.actions;\r\n\r\nexport const formSelector = (state) => state.formStore.form;\r\nexport const editFicheFormSelector = (state) => state.formStore.editFicheForm;\r\n\r\nexport default formSlice.reducer\r\n\r\n","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nexport const initialState = { \r\n    \r\n    searchMode:false,\r\n\r\n    searchBy: {cuisson:false,categorie:false,nom:true,typeSelected:\"Nom de la fiche\"},\r\n}\r\n\r\nconst searchSlice = createSlice({\r\n\r\n    name:\"search\",\r\n\r\n    initialState,\r\n\r\n    reducers: {\r\n\r\n        setSearchMode:(state,{payload}) => {state.searchMode = payload},\r\n\r\n        setSearchBy:(state,{payload}) => {state.searchBy = payload},\r\n    }\r\n});\r\n\r\nexport const selectSearchType = (payload) => dispatch => {\r\n\r\n  \r\n    if(payload === \"nom\"){\r\n\r\n        dispatch(setSearchBy(initialState.searchBy))\r\n    \r\n    } else if(payload === \"cuisson\") {\r\n\r\n     \r\n     dispatch(setSearchBy({[payload]:true ,nom:false,categorie:false,typeSelected:\"Mode de cuisson\"}))\r\n     \r\n\r\n    } else {\r\n\r\n     dispatch(setSearchBy({[payload]:true,nom:false,cuisson:false,typeSelected:\"Catégorie\"}))\r\n     \r\n    }\r\n}\r\n\r\n\r\nexport const {setSearchBy,setSearchMode} = searchSlice.actions;\r\n\r\nexport const searchSelector = (state) => state.searchStore.searchMode;\r\nexport const searchBySelector = (state) => state.searchStore.searchBy;\r\n\r\nexport default searchSlice.reducer","import {createSlice} from '@reduxjs/toolkit'\r\nimport {auth, db,providerGg,providerFb,storage} from '../../Firebase'\r\nimport {setLoading} from './alertStore'\r\nimport {setFichesSearch,getFiches} from './ficheStore'\r\n\r\nexport const initialState = { user : {username:\"\",email:\"\",password:\"\", avatar:\"\"}, userLog:false};\r\n\r\n\r\nconst userSlice = createSlice({\r\n\r\n    name:\"user\",\r\n\r\n    initialState:initialState,\r\n\r\n    reducers: {\r\n\r\n        setUser:(state,{payload}) => {state.user = payload},\r\n\r\n        setUserLog:(state,{payload}) => {state.userLog = payload},\r\n    }\r\n});\r\n\r\n\r\nexport const createUser = (payload) => async dispatch => {\r\n\r\n    dispatch(setLoading(true))\r\n    \r\n    try {\r\n\r\n        const {user} =  await auth.createUserWithEmailAndPassword(payload.email,payload.password);\r\n\r\n        await db.collection('users').doc(user.uid).set({\r\n\r\n            username:payload.username,     \r\n            email:payload.email,\r\n            emailContact:payload.email,\r\n            uid:user.uid,\r\n            avatar:\"\"\r\n        })\r\n\r\n        dispatch(getUser(user.uid))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const logUser = (payload) => async dispatch => {\r\n\r\n    dispatch(setLoading(true))\r\n\r\n    try {\r\n\r\n       const {user} = await auth.signInWithEmailAndPassword(payload.email,payload.password);\r\n\r\n       dispatch(getUser(user.uid))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const logUserWthProvider = (provider) => async dispatch  => {\r\n\r\n   const providerAuth = provider === \"Fb\" ? providerFb : providerGg;\r\n\r\n   dispatch(setLoading(true))\r\n\r\n    try {   \r\n\r\n        const result =  await auth.signInWithPopup(providerAuth)\r\n\r\n        await db.collection('users').doc(result.user.uid).set({\r\n\r\n            uid:result.user.uid,\r\n            username:result.user.displayName,\r\n            email:result.user.email,\r\n            emailContact:result.user.email,\r\n            avatar:\"\"\r\n        })\r\n\r\n        dispatch(getUser(result.user.uid))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const getUser = (payload) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const user = await db.collection('users').doc(payload).get()\r\n\r\n        dispatch(setUser(user.data()))\r\n        dispatch(setUserLog(true))\r\n        dispatch(setLoading(false))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const patchUserProfil = (payload,avatar) => async dispatch => {\r\n\r\n    dispatch(setLoading(true))\r\n\r\n    try {\r\n\r\n        await db.collection('users').doc(payload.uid).update({\r\n\r\n            username:payload.username,\r\n            emailContact:payload.emailContact\r\n        })\r\n        \r\n        avatar === \"\" ? dispatch(getUser(payload.uid)) : dispatch(addAvatarProfil(payload.uid,avatar))\r\n\r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const addAvatarProfil = (uid,avatar) => async dispatch => {\r\n\r\n    try {\r\n\r\n        await storage.ref('avatar/' + uid).putString(avatar,\"data_url\")\r\n\r\n        const avatarUrl = await storage.ref('avatar/' + uid).getDownloadURL();\r\n\r\n        await db.collection('users').doc(uid).update({avatar:avatarUrl})\r\n\r\n        dispatch(getUser(uid))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const logOut = () => async dispatch => {\r\n\r\n    try {\r\n\r\n       await auth.signOut();\r\n\r\n       dispatch(setUser(initialState.user))\r\n       dispatch(setUserLog(false))\r\n       dispatch(getFiches([]))\r\n       dispatch(setFichesSearch([]))\r\n        \r\n    } catch (error) {\r\n        \r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const {setUser,setUserLog} = userSlice.actions;\r\n\r\nexport const userSelector = (state) => state.userStore.user;\r\nexport const userLogSelector = (state) => state.userStore.userLog;\r\n\r\n\r\nexport default userSlice.reducer\r\n","import {configureStore} from '@reduxjs/toolkit'\r\nimport {combineReducers} from 'redux'\r\n\r\nimport ingredientStore from './modules/ingredientStore'\r\nimport ficheStore from './modules/ficheStore'\r\nimport alertStore from './modules/alertStore'\r\nimport progressionStore from './modules/progressionStore'\r\nimport formStore from './modules/formStore'\r\nimport searchStore from './modules/searchStore'\r\nimport userStore from './modules/userStore'\r\n\r\nconst reducer = combineReducers({ingredientStore,ficheStore,alertStore,progressionStore,formStore,searchStore,userStore})\r\n\r\nconst store = configureStore({reducer})\r\n\r\n\r\nexport default store","export const navFieldIn = [\r\n\r\n    {name:\"VOIR FICHES\",icon:\"article\",link:\"/search\"},\r\n    {name:\"CREER FICHES\",icon:\"create\",link:\"/formFiche\"},\r\n    {name:\"DECONNEXION\",icon:\"error_outline\",link:\"/logout\"}\r\n]\r\n\r\nexport const navFieldOut = [\r\n\r\n    {name:\"S'IDENTIFIER\",icon:\"person_add\",link:\"/login\"},\r\n    {name:\"CREER COMPTE\",icon:\"login\",link:\"/signup\"}\r\n\r\n]\r\n\r\nexport const iconActionsParent = [\r\n\r\n    {action:\"ajouter\",icon:\"add_circle_outline\",class:\"iconGreen\"},\r\n    {action:\"supprimer\",icon:\"delete_forever\",class:\"iconRed\"},\r\n    {action:\"modifier\",icon:\"create\",class:\"icon\"}\r\n]\r\n\r\n\r\nexport const iconActionsChild = [\r\n\r\n    {action:\"supprimer\",icon:\"delete_forever\",class:\"iconRed\"},\r\n    {action:\"modifier\",icon:\"create\",class:\"icon\"}\r\n]\r\n\r\nexport const iconListFiche = [\r\n\r\n    {title:\"voir la recette\",icon:\"visibility\",action:\"voir\"},\r\n    {title:\"modifier la fiche technique\",icon:\"create\",action:\"modifier\"},\r\n    {title:\"supprimer la fiche tecnhique\", icon:\"delete_forever\",action:\"supprimer\"}\r\n]\r\n\r\nexport const searchByField = [\r\n\r\n    {title:\"Afficher par noms\",type:\"nom\",check:true},\r\n    { title:\"Afficher par catégories\",type:\"categorie\",check:false},\r\n    { title:\"Afficher par cuissons\",type:\"cuisson\",check:false}\r\n]\r\n\r\n\r\nexport const titleCreateUser =  \"CREER VOTRE COMPTE\";\r\n\r\nexport const titleIdentifyUser = \"IDENTIFIEZ-VOUS\"\r\n\r\nexport const categories = [\"Velouté, soupe, potage\",\"Sauce, fond, jus\",\"Hors d'oeuvre froid\",\"Hors d'oeuvre chaud\",\"Oeufs\",\"Poissons & mer\",\"Viandes\",\"Volailles\",\"Garnitures\",\"Desserts\"]\r\n\r\nexport const cuissons = [\"Pocher\",\"Etuver\",\"Glacer\",\"Sauter\",\"Griller\",\"Rôtir\",\"Poeler\",\"Frire\",\"Braiser\",\"Ragout,Confire\"]","import React,{useState,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport '../header/module.topHeader.scss'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport {IconButton} from \"@material-ui/core\"\r\nimport {navFieldIn,navFieldOut} from '../../Constants'\r\nimport {setEditFicheForm} from '../../Store/modules/formStore'\r\nimport {initialState} from '../../Store/modules/ficheStore'\r\nimport {userLogSelector} from '../../Store/modules/userStore'\r\n\r\nconst Navigation = () => {\r\n\r\n    let history = useHistory()\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userLog = useSelector(userLogSelector)\r\n\r\n    const [navField,setNavField] = useState([])\r\n\r\n    useEffect(() => {\r\n        \r\n        !userLog ? setNavField(navFieldOut) : setNavField(navFieldIn)\r\n        \r\n    },[userLog])\r\n\r\n    const handleLinksAction = (field) => {\r\n\r\n       if(field.link === \"/formFiche\"){\r\n        \r\n        dispatch(setEditFicheForm(initialState.fiche))\r\n       }\r\n\r\n       history.push(field.link)\r\n    }\r\n\r\n    return(\r\n\r\n        <nav>\r\n            <ul>\r\n                {navField.map((field,index) => \r\n                \r\n                <li onClick={()=>handleLinksAction(field)} className=\"p2 textSecondary\" key={index}>\r\n                    <span>\r\n                        <IconButton style={{marginBottom:\"5px\"}} color=\"inherit\">\r\n                            <Icon fontSize=\"small\">{field.icon}</Icon>\r\n                        </IconButton>\r\n                    </span>\r\n                   <span style={{cursor:\"pointer\"}}> {field.name} </span>\r\n                </li>\r\n                )}\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navigation","import React from 'react'\r\nimport Navigation from './Navigation'\r\nimport {IconButton} from '@material-ui/core'\r\nimport Icon from '@material-ui/core/Icon'\r\n\r\nconst Drawer = (props) => {\r\n\r\n    return(\r\n        <div className=\"drawerWrap\">\r\n            <div>\r\n                <p className=\"h3 textPrimary\">COOK APP</p>\r\n            </div>\r\n            <div className=\"drawerWrapMenu\">\r\n                <Navigation/>\r\n                <div className=\"drawerWrapIcon\"> \r\n                    <IconButton onClick={()=>props.close()}>\r\n                        <Icon className=\"textMain\">close</Icon>\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Drawer","import React from 'react'\r\nimport {Select,MenuItem,InputLabel} from '@material-ui/core'\r\n\r\nconst SelectInput = (props) => {\r\n\r\n    return(\r\n\r\n        <div style={{width:\"150px\"}} >\r\n            \r\n            <InputLabel>{props.name}</InputLabel>\r\n            <Select fullWidth name={props.name} onChange={(e)=>props.handleOnChange(e)} value={props.state}>\r\n                {props.array.map((nom,index) =>\r\n                    <MenuItem value={nom} key={index}>{nom}</MenuItem>\r\n                )}\r\n            </Select>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default SelectInput","export const capitalize = (string) => {\r\n\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n    \r\n}\r\n\r\nexport const capitalizeAll = (string) => {\r\n\r\n  return string.toUpperCase()\r\n}\r\n\r\n\r\nexport const sortArrayByIndex = (arr,index) => {\r\n\r\n  arr.sort((a,b) => a[index] > b[index]);\r\n\r\n  return arr\r\n}","import React,{useState} from 'react'\r\nimport {useSelector,useDispatch} from \"react-redux\"\r\nimport {fichesSelector,setFichesSearch} from '../../Store/modules/ficheStore'\r\nimport {searchBySelector} from '../../Store/modules/searchStore'\r\nimport {addAlert} from '../../Store/modules/alertStore'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {categories,cuissons} from '../../Constants'\r\nimport SelectInput from '../Buttons/SelectInput'\r\nimport '../header/module.topHeader.scss'\r\nimport {capitalize} from '../../Utils'\r\n\r\n\r\nconst SearchBar = () => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const [state,setState] = useState({nom:\"\",categorie:\"\",cuisson:\"\"})\r\n\r\n  const fiches = useSelector(fichesSelector)\r\n\r\n  const searchBy = useSelector(searchBySelector)\r\n\r\n  let copyArr = [...fiches]\r\n\r\n  const handleOnChange = (e) => {\r\n\r\n    if(fiches.length === 0){\r\n\r\n      dispatch(addAlert({message:\"Veuillez créer une fiche !\", class:\"warning\"}))\r\n    }\r\n\r\n    let arr = []\r\n\r\n    const {value,name} = e.target;\r\n\r\n    setState({...state,[name]:capitalize(value)})\r\n\r\n    arr = copyArr.filter(fiche => fiche[name].includes(capitalize(value)))\r\n\r\n    dispatch(setFichesSearch(arr)) \r\n\r\n  }\r\n\r\n\r\n  const RenderSearchInput = () => {\r\n\r\n    if(searchBy.cuisson){\r\n\r\n      return( <SelectInput array={cuissons} handleOnChange={handleOnChange} name={\"cuisson\"} state={state.cuisson}/>)\r\n\r\n    } else if(searchBy.categorie) {\r\n\r\n      return(<SelectInput array={categories} handleOnChange={handleOnChange} name={\"categorie\"} state={state.categorie}/>)\r\n\r\n    } else {\r\n\r\n      return(\r\n      <TextField\r\n      label={searchBy.typeSelected}\r\n      name=\"nom\"\r\n      value={state.nom}\r\n      onChange={handleOnChange}\r\n      />\r\n      )\r\n    }\r\n  }\r\n  \r\n  return(\r\n    <div> \r\n\r\n      {RenderSearchInput()}\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default SearchBar","import React,{useState} from 'react'\r\nimport {useSelector} from 'react-redux'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport \"../header/module.topHeader.scss\"\r\nimport {Avatar,IconButton} from '@material-ui/core'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport {searchSelector} from '../../Store/modules/searchStore'\r\nimport {userSelector,userLogSelector} from '../../Store/modules/userStore'\r\nimport Navigation from './Navigation'\r\nimport Drawer from './Drawer'\r\nimport SearchBar from './SearchBar'\r\n\r\nconst TopHeader = () => {  \r\n\r\n    const history = useHistory()\r\n\r\n    const searchMode = useSelector(searchSelector)\r\n\r\n    const user = useSelector(userSelector)\r\n\r\n    const userLog = useSelector(userLogSelector)\r\n\r\n    const [openDrawer,setOpenDrawer] = useState(false)\r\n\r\n    const handleToggleDrawer = () => !openDrawer ? setOpenDrawer(true) : setOpenDrawer(false);\r\n\r\n    return(\r\n        \r\n        <header>\r\n            {openDrawer && <Drawer close={handleToggleDrawer}/>}\r\n            <div className=\"logoTitre\">\r\n                <div>{!openDrawer &&\r\n\r\n                    <IconButton onClick={()=> handleToggleDrawer()}>\r\n                        <Icon className=\"textMain\">menu</Icon>\r\n                    </IconButton>\r\n                }\r\n                </div>\r\n                <div>\r\n                    {!openDrawer && <Link className=\"removeLinkStyle\" to=\"/\"><p className=\"h3 textPrimary\">COOK APP</p></Link>}  \r\n                </div>\r\n            </div>\r\n            <div className=\"navWrap\">\r\n                { searchMode && <SearchBar/>}\r\n                { userLog && \r\n                <div className=\"borderButton\">  \r\n                    <IconButton  onClick={()=> history.push('/search')}>\r\n                        <Icon>search</Icon>\r\n                    </IconButton>\r\n                </div>\r\n                }\r\n                <div>\r\n                    <Navigation/>   \r\n                </div>\r\n                {user.username !== \"\" && \r\n\r\n                    <Link className=\"removeLinkStyle\" to=\"/profil\">\r\n                        <div className=\"wrapName\">\r\n                            <p className=\"p2\">{user.username}</p>\r\n                        </div>\r\n                    </Link>\r\n                }\r\n                <div className=\"avatarWrap\">\r\n                    <Link to=\"/profil\">\r\n                        {user.avatar !== \"\" ?\r\n                        \r\n                            <img className=\"imgAvatar\" alt='/' src={user.avatar}/> :\r\n                            <Avatar className=\"avatarSmall\"></Avatar>\r\n                        }\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n\r\nexport default TopHeader","import React from 'react'\r\nimport '../Buttons/module.buttons.scss'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport {Button,IconButton} from '@material-ui/core'\r\n\r\n\r\nconst ButtonsVal = (props) => {\r\n\r\n    return(\r\n\r\n        <div className=\"wrapButton\">\r\n            <div>\r\n                <IconButton onClick={()=>props.close()}> \r\n                    <Icon  className=\"icon\">close</Icon>\r\n                </IconButton>\r\n            </div>\r\n            <div>\r\n                <Button onClick={()=>props.setInitialState()} className=\"button\"><p >ANNULER</p></Button>\r\n                <Button onClick={()=>props.handleSubmit()} className=\"button\"><p >VALIDER</p></Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ButtonsVal","import React,{useState} from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {TextField,Paper} from '@material-ui/core'\r\nimport './module.logForm.scss'\r\nimport ButtonVal from '../Buttons/ButtonsVal'\r\nimport {initialState,createUser,logUser} from '../../Store/modules/userStore'\r\nimport {addAlert} from '../../Store/modules/alertStore'\r\n    \r\nconst LogForm = (props) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    const [state,setState] = useState(initialState.user)\r\n\r\n    const handleChange = (e) => {\r\n\r\n        const {name,value} = e.target;\r\n\r\n        setState({...state,[name]:value})\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n\r\n        if(props.title !== \"IDENTIFIEZ-VOUS\"){\r\n\r\n            if(state.username === \"\" || state.email === \"\" || state.password === \"\"){\r\n\r\n                dispatch(addAlert({message:\"Champ manquant !\", class:\"error\"}))\r\n\r\n            } else { \r\n\r\n                dispatch(createUser(state));\r\n                history.push('/')\r\n            }\r\n\r\n        } else {\r\n\r\n            if(state.email === \"\" || state.password === \"\"){\r\n\r\n                dispatch(addAlert({message:\"Champ manquant !\", class:\"error\"}))\r\n\r\n            } else {\r\n\r\n                dispatch(logUser(state));\r\n                history.push('/')\r\n            }\r\n        }\r\n    }\r\n\r\n    const setInitialState = () => {\r\n\r\n        setState(initialState.user)\r\n    }\r\n\r\n    const handleClose = () => {\r\n\r\n        setInitialState();\r\n        history.push('/')\r\n    }\r\n\r\n    return (\r\n\r\n        <Paper className=\"paper\" elevation={1}>\r\n            <p className=\"h3 textPrimary\">{props.title}</p>\r\n            <ul>\r\n            {props.title !== \"IDENTIFIEZ-VOUS\" && \r\n                <li>\r\n                    <TextField onChange={handleChange} required name=\"username\" value={state.username} label=\"Nom d'utilisateur\"/>\r\n                </li>\r\n            }               \r\n                \r\n                <li>\r\n                    <TextField onChange={handleChange} required type=\"email\" name=\"email\" value={state.email} label=\"email\"/>\r\n                </li>\r\n               \r\n                <li>\r\n                    <TextField onChange={handleChange} required type=\"password\" name=\"password\" value={state.password} label=\"Mot de passe\"/>\r\n                </li>\r\n            \r\n            </ul>\r\n            <div className=\"wrapButton\">\r\n                <ButtonVal handleSubmit={handleSubmit} setInitialState={setInitialState} close={handleClose}/>\r\n            </div>\r\n        </Paper>\r\n        \r\n    )\r\n}\r\n\r\n\r\nexport default LogForm","import React from 'react'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {addAlert, alertSelector,initialState} from '../../Store/modules/alertStore'\r\n\r\nimport '../Alert/module.Alert.scss'\r\n\r\nconst Alert = () => {\r\n\r\n    const alert = useSelector(alertSelector)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    React.useEffect(() => {\r\n\r\n        if(alert.message !== \"\"){\r\n\r\n            setTimeout(() => {\r\n\r\n                dispatch(addAlert(initialState.alert))\r\n                \r\n            }, 2000);\r\n        }\r\n\r\n    },[dispatch,alert])\r\n\r\n   \r\n    const RenderAlert = () => {\r\n\r\n        if(alert.message !== \"\"){\r\n        \r\n           return (\r\n        \r\n            <div className={alert.class}>\r\n                <p>{alert.message}</p>\r\n            </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return(\r\n\r\n        <div>{RenderAlert()}</div>\r\n    )\r\n}\r\n\r\n\r\nexport default Alert","import React from 'react'\r\nimport './module.socialButton.scss'\r\nimport Icon from '@material-ui/core/Icon'\r\n\r\nconst SocialButtons = (props) => {\r\n\r\n    return(\r\n\r\n        <div>\r\n            <div className=\"wrapButtonGoogle\" onClick={()=>props.handleLog(\"Gg\")}>\r\n                <span className=\"iconButtonGoogle\"></span>\r\n                <div className=\"wrapText\">\r\n                    <span className=\"textGoogle\"> SIGNUP WITH GOOGLE</span>\r\n                </div>\r\n            </div>\r\n            <div style={{width:\"100%\"}}>\r\n                <p style={{textAlign:\"center\"}}>ou</p>\r\n            </div>\r\n            <div className=\"wrapButtonFb\" onClick={()=>props.handleLog(\"Fb\")}>\r\n                <Icon className=\"iconFb\" fontSize=\"large\">facebook</Icon>\r\n                <div className=\"wrapText\">\r\n                    <span className=\"textFb\"> SIGNUP WITH FACEBOOK</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default SocialButtons","import React from \"react\"\r\nimport {useDispatch} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {setSearchMode} from '../../Store/modules/searchStore'\r\nimport {logUserWthProvider} from '../../Store/modules/userStore'\r\nimport LogForm from '../../Components/Logs/logForm'\r\nimport Alert from '../../Components/Alert/Alert'\r\nimport  SocialButtons from '../../Components/Buttons/socialButto'\r\nimport {titleIdentifyUser} from '../../Constants'\r\nimport './module.logStyle.scss'\r\n\r\nconst Login = () => {\r\n    \r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    React.useEffect(() => {\r\n\r\n        dispatch(setSearchMode(false))\r\n\r\n    },[dispatch])\r\n\r\n\r\n    const handleLogWithProvider = (provider) => {\r\n        \r\n        dispatch(logUserWthProvider(provider))\r\n        history.push('/')\r\n    }\r\n\r\n    return( \r\n        <main className=\"wrapMain\">\r\n            <section className=\"wrapSection\">\r\n                <div>\r\n                    <LogForm title={titleIdentifyUser}/>\r\n                </div>\r\n                <div>\r\n                    <SocialButtons handleLog={handleLogWithProvider}/>\r\n                </div>\r\n            </section>\r\n            <div className=\"wrapAlert\">\r\n                <Alert/>\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport {Dialog,DialogContent,DialogActions} from '@material-ui/core'\r\nimport ButtonsVal from '../Buttons/ButtonsVal'\r\n\r\nconst DialogConfirm = (props) => {\r\n\r\n    return(\r\n\r\n        <div>\r\n            <Dialog open={true}>\r\n                <DialogContent>\r\n                   <p className=\"p1\">{props.titre}</p>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <div className=\"width100\">\r\n                        <ButtonsVal close={props.close} handleSubmit={props.handleSubmit} setInitialState={props.setInitialState}/>\r\n                    </div>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default DialogConfirm","import React from \"react\"\r\nimport {useDispatch} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {setSearchMode} from '../../Store/modules/searchStore'\r\nimport {logOut} from '../../Store/modules/userStore'\r\nimport Dialog from '../../Components/Alert/Dialog'\r\n\r\nconst Logout = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    React.useEffect(() => {\r\n\r\n        dispatch(setSearchMode(false))\r\n\r\n    },[dispatch])\r\n\r\n    const handleSubmit = () => {\r\n\r\n        dispatch(logOut())\r\n        history.push('/')\r\n    }\r\n\r\n    const setInitialState = () => history.push('/')\r\n\r\n    const handleClose = () => history.push('/')\r\n\r\n    return(\r\n        <div style={{height:\"90vh\"}}>\r\n            <Dialog titre={\"Confirmez-vous la déconnexion ?\"} handleSubmit={handleSubmit} close={handleClose} setInitialState={setInitialState}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Logout","import React,{useState,useEffect} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {TextField,Paper,InputLabel,Select,MenuItem,Button} from '@material-ui/core'\r\nimport {categories,cuissons} from '../../Constants'\r\nimport ButtonsVal from '../Buttons/ButtonsVal'\r\nimport {createFiche,patchFiche} from '../../Store/modules/ficheStore'\r\nimport {editFicheFormSelector} from '../../Store/modules/formStore'\r\nimport {addAlert} from '../../Store/modules/alertStore'\r\nimport {userSelector} from '../../Store/modules/userStore'\r\nimport { capitalize } from '../../Utils'\r\n\r\n\r\nconst FormFiche = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    let history = useHistory()\r\n\r\n    const ficheForm = useSelector(editFicheFormSelector)\r\n\r\n    const user = useSelector(userSelector)\r\n\r\n    const [state,setState] = useState(ficheForm)\r\n\r\n    const [img,setImg] = useState()\r\n\r\n    useEffect(() => {\r\n\r\n        setState(ficheForm)\r\n        \r\n    },[ficheForm])\r\n\r\n    useEffect(() => {\r\n\r\n        setImg(img=> state.image !== \"\" ? state.image : img)\r\n\r\n    },[setImg,state.image])\r\n\r\n    const handleChange = (e) => {\r\n\r\n        const {name,value} = e.target\r\n\r\n        if(name !== \"description\"){\r\n\r\n            name === \"nom\" ? setState({...state,[name]:capitalize(value)}) : setState({...state,[name]:value});\r\n            \r\n        } else {\r\n\r\n            let strMax =+ value.length\r\n            \r\n            strMax < 66 ? setState({...state,description:value}) : dispatch(addAlert({message:\"Nombre maximum de charachères !\", class:\"warning\"}))\r\n        }\r\n    }\r\n\r\n\r\n    const handleSubmit = () => {\r\n\r\n       if(state.nom !== \"\"){\r\n\r\n        !state.ficheId ? dispatch(createFiche(state,img,user.uid)) : dispatch(patchFiche(state,img));\r\n        history.push('/search')\r\n\r\n       } else {\r\n\r\n        dispatch(addAlert({message:\"veuillez saisir les champs vides !\",class:\"error\"}))\r\n       }\r\n\r\n    }\r\n\r\n    const handleChangeImg = (e) => {\r\n\r\n        let reader = new FileReader()\r\n\r\n        let file = e.target.files[0]\r\n\r\n        reader.readAsDataURL(file)\r\n\r\n       reader.addEventListener('load',(e)=> {\r\n\r\n        setImg(reader.result)\r\n        \r\n       })\r\n    }   \r\n\r\n    const setInitialState = () => {\r\n\r\n        setImg(state.image)\r\n        setState(ficheForm)\r\n    }\r\n\r\n    const RenderImg = () => img !== undefined  ? <img width=\"45px\" height=\"45px\" alt=\"\" src={img}/> : null\r\n\r\n    return(\r\n\r\n        <div>\r\n            <Paper className=\"paper\" elevation={3}>\r\n                <p className=\"h3 textPrimary\">Fiche technique de fabrication</p>\r\n                <ul>\r\n                    <li>\r\n                        <TextField onChange={handleChange} required name=\"nom\" value={state.nom} margin=\"dense\" size=\"small\" fullWidth label=\"Nom de la recette\"/>\r\n                    </li>\r\n                    <li>\r\n                        <TextField onChange={handleChange} name=\"description\" value={state.description}  variant=\"outlined\" multiline rows={2} margin=\"dense\" size=\"small\" fullWidth label=\"Descriptif de la recette\"/>\r\n                    </li> \r\n                    <li>\r\n                    <InputLabel>Catégorie</InputLabel>\r\n                    <Select onChange={handleChange}  fullWidth name=\"categorie\" value={state.categorie}>\r\n                        {categories.map((nom,index) =>\r\n\r\n                            <MenuItem value={nom} key={index}>{nom}</MenuItem>\r\n                        )}\r\n                    </Select>\r\n                    </li>\r\n                    <li>\r\n                    <InputLabel>Mode cuisson</InputLabel>\r\n                    <Select onChange={handleChange}  name=\"cuisson\" value={state.cuisson} fullWidth>\r\n                        {cuissons.map((nom,index) =>\r\n\r\n                            <MenuItem value={nom} key={index}>{nom}</MenuItem>\r\n                        )}\r\n                    </Select>\r\n                    </li>\r\n                    <li>\r\n                        <div className=\"wrapImg\">\r\n                            <Button component=\"label\" className=\"buttonStyle\" size=\"small\"  variant=\"outlined\">Ajouter Photo\r\n                                <input onChange={handleChangeImg}  style={{display:\"none\"}} type=\"file\" accept=\".jpg,.png\"/>\r\n                            </Button>\r\n                            <div>\r\n                               {RenderImg()} \r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n                <div className=\"wrapButton\">\r\n                   <ButtonsVal handleSubmit={handleSubmit} close={()=>history.push('/')} setInitialState={setInitialState}/>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default FormFiche","import React from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport '../Fiche/module.Fiche.scss'\r\nimport {setSearchMode} from '../../Store/modules/searchStore'\r\nimport FormFiche from '../../Components/Fiche/formFiche'\r\nimport Alert from '../../Components/Alert/Alert'\r\n\r\nconst Fiches = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    React.useEffect(() => {\r\n\r\n        dispatch(setSearchMode(false))\r\n\r\n    },[dispatch])\r\n\r\n    return(\r\n        <main className=\"height90\">\r\n            <div className=\"wrapTitre\">\r\n                <p className=\"h3 underLine\">Créer fiche technique</p>\r\n                 <div className=\"wrapAlert\">\r\n                     <Alert/>\r\n                 </div>\r\n            </div>\r\n            <div className=\"wrapFormOut\">\r\n                <FormFiche/>\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Fiches","import React from 'react'\r\nimport './module.Alert.scss'\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nconst Loader = () => {\r\n \r\n    return(\r\n\r\n        <div className=\"wrapLoader\">\r\n            <CircularProgress  size=\"70px\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Loader","import React from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {setSearchMode} from '../Store/modules/searchStore'\r\nimport {loadingSelector} from '../Store/modules/alertStore'\r\nimport Loader from '../Components/Alert/Loader'\r\n\r\nconst Home = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const loading = useSelector(loadingSelector)\r\n\r\n    React.useEffect(() => {\r\n\r\n        dispatch(setSearchMode(false))\r\n\r\n    },[dispatch])\r\n\r\n    return(\r\n\r\n        <main className=\"wrapMain\">\r\n\r\n            {loading ? <Loader/> :\r\n          \r\n                <div style={{marginTop:\"30px\"}}>\r\n                    <h2 className=\"h3 textAlignCenter textPrimary\">COOK APP</h2>\r\n                    <p className=\"p2 textMain\">L'application pour réaliser et gérer vos fiches technique de fabrications</p>\r\n                </div> \r\n            }\r\n        </main>\r\n    )\r\n}\r\n\r\n\r\nexport default Home","import React,{useState} from 'react'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {Paper,TextField,Avatar,Button} from '@material-ui/core'\r\nimport {userSelector,patchUserProfil} from '../../Store/modules/userStore'\r\nimport ButtonVal from '../Buttons/ButtonsVal'\r\nimport './module.ProfilCard.scss'\r\n\r\nconst ProfilCard = () => {\r\n\r\n    const history = useHistory()\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const user = useSelector(userSelector)\r\n\r\n    const [state,setState] = useState(user)\r\n\r\n    const [avatarSrc,setAvatarSrc] = useState(user.avatar)\r\n\r\n    const handleChange = (e) => {\r\n\r\n        const {value,name} = e.target;\r\n\r\n        setState({...state,[name]:value})\r\n    }\r\n\r\n    const handleChangeImg = (e) => {\r\n\r\n        let reader = new FileReader()\r\n\r\n        let file = e.target.files[0]\r\n\r\n        reader.readAsDataURL(file)\r\n\r\n        reader.addEventListener('load', () => setAvatarSrc(reader.result))\r\n        \r\n    }\r\n\r\n    const setInitialState = () => {\r\n\r\n        setState(user);\r\n        setAvatarSrc(user.avatar)\r\n    }\r\n\r\n    const handleClose = () => {\r\n\r\n        setInitialState()\r\n        history.push('/')\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n\r\n        dispatch(patchUserProfil(state,avatarSrc))\r\n        history.push('/')\r\n    }\r\n\r\n    return(\r\n        \r\n        <Paper elevation={3} className=\"paper\">\r\n            <p className=\"h3 textPrimary\">Votre Profil</p>\r\n            <ul>\r\n                <li>\r\n                    <TextField onChange={handleChange} className=\"liProfil\"  label=\"Nom d'utilisateur\" name=\"username\" value={state.username}/>\r\n                </li>\r\n                <li>\r\n                    <TextField onChange={handleChange} className=\"liProfil\" label=\"Email de contact\" name=\"emailContact\" value={state.emailContact}/>\r\n                </li>\r\n                <li className=\"liProfil\">\r\n                    <Button component=\"label\"  variant=\"outlined\"><p className=\"textSecondary\">ajouter avatar</p>\r\n                        <input onChange={handleChangeImg}  style={{display:\"none\"}} type=\"file\" accept=\".jpg,.png\"/>\r\n                    </Button>\r\n                </li>\r\n                <li className=\"d-flex liProfil\">\r\n                    {avatarSrc === \"\" ? \r\n                    \r\n                        (<Avatar></Avatar>) :\r\n\r\n                        <img className=\"imgAvatar\" src={avatarSrc} alt=\"/\"/>\r\n                    }\r\n                </li>\r\n            </ul>\r\n            <div className=\"wrapButton\">\r\n                <ButtonVal handleSubmit={handleSubmit} setInitialState={setInitialState} close={handleClose}/>\r\n            </div>\r\n        </Paper>\r\n       \r\n    )\r\n}\r\n\r\n\r\nexport default ProfilCard","import React from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {setSearchMode} from '../Store/modules/searchStore'\r\nimport ProfilCard from '../Components/Profil/ProfileCard'\r\n\r\nconst Profil = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    React.useEffect(() => {\r\n\r\n        dispatch(setSearchMode(false))\r\n\r\n    },[dispatch])\r\n\r\n    return(\r\n        \r\n        <main className=\"height90 d-flex\">\r\n            <ProfilCard/>\r\n        </main>\r\n    )\r\n}\r\n\r\n\r\nexport default Profil","import React,{useState,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from \"react-redux\"\r\nimport {Paper,TextField} from \"@material-ui/core\"\r\nimport '../Table/module.formTable.scss'\r\nimport ButtonVal from '../Buttons/ButtonsVal'\r\nimport Alert from '../Alert/Alert'\r\nimport {formSelector} from '../../Store/modules/formStore'\r\nimport {createProgression,createProgressionTitre,patchProgression,patchProgressionTitre} from '../../Store/modules/progressionStore'\r\nimport {createIngredientTitre,createIngredient,patchIngredient,patchIngredientTitre} from '../../Store/modules/ingredientStore' \r\nimport {addAlert} from '../../Store/modules/alertStore'\r\nimport {capitalize} from '../../Utils'\r\n\r\n\r\nconst FormTable = (props) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const form = useSelector(formSelector)\r\n\r\n    const [state,setState] = useState(form)\r\n\r\n    useEffect(() => {\r\n\r\n        setState(form)\r\n\r\n    },[form])\r\n\r\n    const handleChange = (e) => {\r\n\r\n        const {name,value} = e.target;\r\n        \r\n        setState({...state,[name]:capitalize(value),created:Date.now()})\r\n    }\r\n\r\n    const handleSubmit = () => {   \r\n\r\n        if(state.nom !== \"\"){\r\n\r\n            if(state.titre && state.header.includes(\"ajouter\")){\r\n\r\n                state.table !== \"progression\" ? dispatch(createIngredientTitre(state)) : dispatch(createProgressionTitre(state))\r\n\r\n            } else if(!state.titre && state.header.includes(\"ajouter\")){\r\n\r\n                state.table !== \"progression\" ? dispatch(createIngredient(state)) : dispatch(createProgression(state))\r\n\r\n            } else if(!state.titre && state.header.includes(\"modifier\")){\r\n\r\n                state.table !==\"progression\" ? dispatch(patchIngredient(state)) : dispatch(patchProgression(state))\r\n\r\n            } else if(state.titre && state.header.includes(\"modifier\")){\r\n\r\n              state.table !== \"progression\" ?  dispatch(patchIngredientTitre(state)) : dispatch(patchProgressionTitre(state))\r\n            }   \r\n\r\n            props.close()\r\n\r\n        } else {    \r\n\r\n            dispatch(addAlert({message:\"veuillez saisir un nom !\",class:\"error\"}))\r\n        }\r\n    }\r\n\r\n    return(\r\n\r\n        <div className=\"wrapForm\">\r\n            <Paper className=\"paper\" elevation={3}>\r\n                    <p className=\"titre h3\">{state.table}</p>\r\n                <p className=\"p1\">{state.header}</p>   \r\n                <div>\r\n                    <TextField fullWidth required name=\"nom\" value={state.nom} onChange={handleChange} label={state.header}/>\r\n                </div>\r\n                {state.header.includes(\"ingrédient\")  &&\r\n                    <div>\r\n                        <div>\r\n                            <TextField fullWidth name=\"qte\" value={state.qte} label=\"Quantité\" onChange={handleChange}/>\r\n                        </div>\r\n                        <div>\r\n                            <TextField fullWidth name=\"prix\" value={state.prix} label=\"Prix\" onChange={handleChange}/>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {\r\n                    state.table === \"progression\" && state.titre &&\r\n\r\n                    <TextField InputProps={{ inputProps: { min: 0, max: 10 } }} fullWidth  type=\"number\" label=\"Numéro de l'étape\" value={state.numero} name=\"numero\" onChange={handleChange}/>\r\n                }\r\n                <div className=\"wrapButton\">\r\n                    <ButtonVal close={props.close} handleSubmit={handleSubmit} />\r\n                </div>\r\n            </Paper>\r\n            <Alert/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default FormTable\r\n","import React from 'react'\r\nimport './module.TableTitre.scss'\r\nimport {capitalizeAll} from '../../Utils'\r\n\r\nconst TableTitre = (props) => {\r\n\r\n    return(\r\n\r\n        <div className=\" wrapTableTitre\">\r\n            <h2 >{capitalizeAll(props.fiche.nom)}</h2>\r\n            <p>{props.fiche.description}</p>\r\n            <p> {props.fiche.categorie} <span style={{marginLeft:\"5px\"}}> {props.fiche.cuisson}</span></p>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default TableTitre","import React,{useEffect} from 'react'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {fetchProgressions,progresssionsSelector} from '../../Store/modules/progressionStore'\r\nimport {ficheSelector} from '../../Store/modules/ficheStore'\r\nimport {Tooltip,Icon} from '@material-ui/core'\r\nimport '../Table/module.Table.scss'\r\nimport {iconActionsChild,iconActionsParent} from '../../Constants'\r\nimport {sortArrayByIndex} from '../../Utils'\r\nconst TableProgression = (props) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const currentFiche = useSelector(ficheSelector)\r\n\r\n    const progressions = useSelector(progresssionsSelector)\r\n\r\n    let copyArr = [...progressions];\r\n\r\n    sortArrayByIndex(copyArr,\"numero\")\r\n\r\n    useEffect(() => {\r\n\r\n        dispatch(fetchProgressions(currentFiche.ficheId))\r\n\r\n    },[dispatch,currentFiche])\r\n\r\n\r\n    return(\r\n        <table>\r\n            <thead>\r\n                <tr>    \r\n                    <th className=\"ingredient\">Etapes de réalisation\r\n                        <Tooltip title=\"ajouter titre\">\r\n                            <Icon onClick={()=>props.handleOpenFormTitre({},\"ajouter\",\"progression\",\"titre de l'étape\")} className=\"icon\" style={{marginLeft:\"5px\"}}>add_circle_outline</Icon>\r\n                        </Tooltip>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            { copyArr.map((etap,index) =>\r\n            \r\n                <tbody key={index}>\r\n                    <tr>\r\n                        <td>\r\n                        {iconActionsParent.map((icon,index)=>\r\n                            <Tooltip key={index} title={ icon.action ===\"ajouter\" ? `${icon.action} une étape` :`${icon.action} titre de l'étape` }>\r\n                                <Icon onClick={()=>props.handleOpenForm(etap,icon.action,\"progression\",\"l'étape\",etap.progressTitreId)} style={ {paddingTop:\"10px\"}} className={icon.class}>{icon.icon}</Icon>\r\n                            </Tooltip>)}\r\n                        </td> \r\n                        <td className=\"titre\">{etap.nom}</td>\r\n                    </tr>\r\n                    {etap.subArray.length > 0 &&\r\n\r\n                        etap.subArray.map((item,index) =>\r\n                        \r\n                        <tr key={index}>\r\n                            <td>\r\n                            {iconActionsChild.map((icon,index)=>\r\n                                <Tooltip key={index} title={ `${icon.action} l'étape` }>\r\n                                    <Icon onClick={()=>props.handleOpenForm(item,icon.action,\"progression\",\"l'étape\",etap.progressTitreId)} style={ {paddingTop:\"10px\"}} className={icon.class}>{icon.icon}</Icon>\r\n                                </Tooltip>)}\r\n                            </td> \r\n                            <td><span>-</span>{item.nom}</td>\r\n                        </tr>\r\n                        )\r\n                    }\r\n                </tbody>\r\n            )}\r\n        </table>\r\n    )\r\n}\r\n\r\n\r\nexport default TableProgression","import React,{useState,useEffect} from 'react'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {createForm} from '../../Store/modules/formStore'\r\nimport {initialStateProgress,removeProgression,removeProgressionTitre} from '../../Store/modules/progressionStore'\r\nimport {ingredientsSelector,fetchIngredients,removeIngredientTitre,removeIngredient,initialState} from '../../Store/modules/ingredientStore'\r\nimport '../Table/module.Table.scss'\r\nimport {Tooltip} from '@material-ui/core'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport FormTable from '../Table/formTable'\r\nimport TableTitre from '../Table/TableTitre'\r\nimport TableProgression from '../Progression/TableProgression'\r\nimport Loader from '../Alert/Loader'\r\nimport {iconActionsParent,iconActionsChild} from '../../Constants'\r\nimport {sortArrayByIndex} from '../../Utils'\r\nimport { ficheSelector } from '../../Store/modules/ficheStore'\r\nimport {loadingSelector} from '../../Store/modules/alertStore'\r\n\r\n\r\nconst Table = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [openForm,setOpenForm] = useState(false)\r\n\r\n    const ingredients = useSelector(ingredientsSelector)\r\n\r\n    const currentFiche = useSelector(ficheSelector)\r\n\r\n    const loading = useSelector(loadingSelector)\r\n\r\n    let copyArr = [...ingredients]\r\n\r\n    sortArrayByIndex(copyArr,\"created\")  \r\n\r\n    useEffect(() => {\r\n\r\n        dispatch(fetchIngredients(currentFiche.ficheId))\r\n\r\n    },[dispatch,currentFiche])\r\n\r\n\r\n    const handleOpenFormTitre = (item,action,table,type) => {\r\n\r\n        if(action === \"supprimer\") return handleDelete(item);\r\n\r\n        if(action === \"ajouter\"){\r\n\r\n            table !== \"progression\" ? dispatch(createForm({...initialState.ingredientTitre,header:`${action} ${type}`,table:table,ficheId:currentFiche.ficheId})) :\r\n\r\n            dispatch(createForm({...initialStateProgress.progressTitre,header:`${action} ${type}`,ficheId:currentFiche.ficheId,table:table}))\r\n        }\r\n\r\n        if(action === \"modifier\"){ dispatch(createForm({...item,header: `${action} ${type}`,table:table}))}\r\n        \r\n        setOpenForm(true) \r\n    }\r\n \r\n    const handleOpenForm = (item,action,table,type,id) => {\r\n\r\n        if(action === \"supprimer\") return handleDelete(item,table);\r\n\r\n        if(action === \"ajouter\" ){\r\n\r\n            table !== \"progression\" ? dispatch(createForm({...initialState.ingredient, header:`${action} ${type}`,ficheId:currentFiche.ficheId,ingredientTitreId:id,table:table})) :\r\n            \r\n            dispatch(createForm({...initialStateProgress.progress,header:`${action} ${type}`,table:table,ficheId:currentFiche.ficheId,progressTitreId:id}));\r\n        }\r\n\r\n        if(action === \"modifier\") { dispatch(createForm({...item,header: `${action} ${type}`,table:table}))}\r\n       \r\n       setOpenForm(true)\r\n    }   \r\n\r\n\r\n    const handleDelete = (item,table) => {\r\n\r\n        if(table !== \"progression\" ){\r\n\r\n            !item.titre ? dispatch(removeIngredient(item)) : dispatch(removeIngredientTitre(item))\r\n\r\n        } else {\r\n\r\n            !item.titre ? dispatch(removeProgression(item)) : dispatch(removeProgressionTitre(item))\r\n        }\r\n    }\r\n\r\n    const closeForm = () => setOpenForm(false)\r\n    \r\n    return(\r\n        <div>\r\n        { loading ? <Loader/>:\r\n           \r\n           <div>\r\n                <TableTitre fiche={currentFiche}/>\r\n                <div className=\"wrapTables\">\r\n                    <table>\r\n                        <thead> \r\n                            <tr>\r\n                                <th>Actions</th>\r\n                                <th className=\"ingredient\">Ingrédients \r\n                                    <Tooltip title=\"ajouter catégorie\">\r\n                                        <Icon onClick={()=>handleOpenFormTitre({},\"ajouter\",\"ingrédient\",\"catégorie\")} className=\"icon\" style={{marginLeft:\"5px\"}}>add_circle_outline</Icon>\r\n                                    </Tooltip>\r\n                                </th>\r\n                                <th>Quantités</th>\r\n                                <th>Prix</th>\r\n                            </tr>\r\n                        </thead>\r\n                            {copyArr.map((item,index) =>\r\n                                <tbody key={index}>\r\n                                    <tr>\r\n                                        <td>\r\n                                            {iconActionsParent.map((icon,index)=>\r\n                                                <Tooltip key={index} title={ icon.action ===\"ajouter\" ? `${icon.action} ingrédient` :`${icon.action} catégorie` }>\r\n                                                    <Icon onClick={()=>handleOpenForm(item,icon.action,\"ingrédient\",\"ingrédient\",item.ingredientTitreId)} style={ {paddingTop:\"10px\"}} className={icon.class}>{icon.icon}</Icon>\r\n                                                </Tooltip>)}\r\n                                        </td> \r\n                                        <td className=\"titre ingredient\">{item.nom}</td>\r\n                                    </tr>\r\n                                    {item.subArray.length > 0 && \r\n        \r\n                                        item.subArray.map((ingre,index) => \r\n        \r\n                                        <tr key={index}>\r\n                                            <td>\r\n                                            {iconActionsChild.map((icon,index)=>\r\n                                                <Tooltip key={index} title={`${icon.action} ingrédient`}>\r\n                                                    <Icon onClick={()=>handleOpenForm(ingre,icon.action,\"ingrédient\",\"ingrédient\",item.ingredientTitreId)} className={icon.class}>{icon.icon}</Icon>\r\n                                                </Tooltip>)}\r\n                                            </td>\r\n                                            <td className=\"ingredient\"><span>-</span>{ingre.nom}</td>\r\n                                            <td >{ingre.qte}</td>\r\n                                            <td >{ingre.prix}</td>\r\n                                        </tr>)\r\n                                    }\r\n                                </tbody>\r\n                            )} \r\n                    </table>\r\n                    <TableProgression handleOpenForm={handleOpenForm} handleOpenFormTitre={handleOpenFormTitre}/>\r\n                    <div>\r\n                    {openForm &&  <FormTable close={closeForm}/>} \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Table","import React from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {setSearchMode} from '../../Store/modules/searchStore'\r\nimport Table from '../../Components/Table/Table'\r\n\r\n\r\nconst FicheById = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    React.useEffect(() => {\r\n\r\n        dispatch(setSearchMode(false))\r\n\r\n    },[dispatch])\r\n\r\n    return(\r\n\r\n        <div style={{height:\"90vh\"}} >\r\n            <Table/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FicheById","import React from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport {selectFiche} from '../../Store/modules/ficheStore'\r\nimport {Tooltip} from '@material-ui/core'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport './module.ListFiche.scss'\r\nimport {iconListFiche} from '../../Constants'\r\n\r\n\r\nconst FicheCard = (props) => { \r\n\r\n    const dispatch = useDispatch()\r\n\r\n    return(\r\n\r\n        <div className=\"CardRoot\">\r\n            \r\n            {props.fiche.image !== undefined  &&\r\n            <img  className=\"wrapFicheImg\" alt=\"img\" src={props.fiche.image}/>}\r\n\r\n                <div className=\"wrapCarcContent\">\r\n                <p className=\"p4 textSecondary\">{props.fiche.categorie}</p>\r\n                <div className=\"wrapTitre\">\r\n                <Link className=\"removeLinkStyle\" onClick={()=>dispatch(selectFiche(props.fiche))} to={`fiche/${props.fiche.ficheId}`}>\r\n                    <p className=\"h4 textPrimary\">{props.fiche.nom}</p>\r\n                </Link>\r\n                </div>\r\n                <div className=\"wrapTitre\">\r\n                    <p className=\"p3\">{props.fiche.description}</p>\r\n                </div>\r\n                <div className=\"wrapTitre\">\r\n                    <p className=\"p4\">{props.fiche.cuisson}</p>\r\n                </div>\r\n                <div className=\"wrapIcons\" >\r\n                {iconListFiche.map((icon,index) =>\r\n                    <span key={index}>\r\n                        <Tooltip title={icon.title}>\r\n                            <Icon onClick={()=> props.handleIconAction(icon.action,props.fiche)} className=\"icon\">{icon.icon}</Icon>\r\n                        </Tooltip>\r\n                    </span>             \r\n                )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FicheCard","import React from 'react'\r\n\r\n\r\nconst Pagination = (props) => {\r\n\r\n    const nbPagesArr = [];\r\n\r\n    for(let n = 1; n <= props.nbPages; n++){\r\n\r\n        nbPagesArr.push(n)\r\n    }\r\n\r\n\r\n    return(\r\n        <div className=\"pagin\">\r\n            {nbPagesArr.map(num=>\r\n\r\n                <ul key={num} >\r\n                    <li className={num === props.currentPage ? \"active\" : null} onClick={()=>props.handleCurrentPage(num)}>{num}</li>\r\n                </ul>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Pagination","import React from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {Switch} from '@material-ui/core'\r\nimport {searchBySelector,selectSearchType} from '../../Store/modules/searchStore'\r\nimport {searchByField} from '../../Constants'\r\n\r\n\r\nconst SwitchCategorie = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const searchBy = useSelector(searchBySelector)\r\n\r\n    return(\r\n        <div className=\"wrapCategorie textPrimary\">\r\n            {searchByField.map((item,index) =>\r\n\r\n                <div key={index} className=\"wrapSelect\">\r\n                    <p>{item.title}</p>\r\n                    <div >\r\n                        <Switch checked={searchBy[item.type]} name={item.type} size=\"small\" onChange={()=>dispatch(selectSearchType(item.type))}/>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default SwitchCategorie","import React,{useState} from \"react\"\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {selectFiche,fichesSearchSelector} from '../../Store/modules/ficheStore'\r\nimport {setEditFicheForm} from '../../Store/modules/formStore'\r\nimport './module.ListFiche.scss'\r\nimport {sortArrayByIndex} from '../../Utils'\r\nimport Dialog from '../Alert/Dialog'\r\nimport FicheCard from './ficheCard'\r\nimport Pagination from './Pagination'\r\nimport SwitchCategorie from './SwitchCategorie'\r\n\r\n\r\nconst ListFiches = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    const [displayArr,setDisplayArr] = useState([])\r\n\r\n    const fichesSearch = useSelector(fichesSearchSelector)\r\n\r\n    let copyArr = [...fichesSearch]\r\n\r\n    sortArrayByIndex(copyArr,\"nom\")\r\n\r\n    const [showDialog,setShowDialog] = useState(false)\r\n\r\n    const nbFiches = 4\r\n\r\n    const nbPages = Math.ceil(copyArr.length / nbFiches)\r\n\r\n    const [currentPage,setCurrentPage] = useState(1)\r\n\r\n    const lastIndex = currentPage * nbFiches\r\n\r\n    const firstIndex = lastIndex - nbFiches \r\n\r\n    const currentFiches = copyArr.slice(firstIndex,lastIndex)\r\n\r\n    const handleDisplayArray = () => {\r\n\r\n        fichesSearch.length <= nbFiches ? setDisplayArr(copyArr) : setDisplayArr(currentFiches)\r\n    }\r\n\r\n    React.useEffect(() => { \r\n\r\n        handleDisplayArray()\r\n\r\n    },[fichesSearch,currentPage])\r\n\r\n\r\n    const handleIconAction = (action,fiche) => {\r\n\r\n        if(action === \"voir\"){\r\n\r\n            dispatch(selectFiche(fiche))\r\n            history.push(`fiche/${fiche.ficheId}`)\r\n        }\r\n\r\n        if(action === \"modifier\"){\r\n\r\n            dispatch(setEditFicheForm(fiche))\r\n            history.push('/formFiche');\r\n        }\r\n\r\n        if(action === \"supprimer\"){\r\n\r\n            setShowDialog(true)\r\n        }\r\n    }\r\n\r\n    const handleCurrentPage = (num) => setCurrentPage(num)\r\n\r\n    const handleRemoveFiche = () => {\r\n\r\n        console.log(\"test\")\r\n    }\r\n\r\n\r\n    return(\r\n\r\n        <div className=\"rowList\">\r\n            <SwitchCategorie/>\r\n            <div className=\"outterListFiche\">\r\n                <div className='wrapListFiche'>  \r\n                    {showDialog && <Dialog handleSubmit={handleRemoveFiche} setInitialState={()=> setShowDialog(false)} close={()=>setShowDialog(false)} titre={\"Confirmez-vous la suppression ?\"}/>} \r\n                    <ul>\r\n                    {displayArr.map((fiche,index) =>\r\n                        <li key={index}>\r\n                            <FicheCard  handleIconAction={handleIconAction} fiche={fiche}/>\r\n                        </li>\r\n                    )}\r\n                    </ul>\r\n                </div>\r\n                <Pagination nbPages={nbPages} handleCurrentPage={handleCurrentPage} currentPage={currentPage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListFiches","import React,{useEffect} from 'react'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {fichesSelector,fetchFiches} from '../../Store/modules/ficheStore'\r\nimport {setSearchMode} from '../../Store/modules/searchStore'\r\nimport {userSelector} from '../../Store/modules/userStore'\r\nimport {loadingSelector} from '../../Store/modules/alertStore'\r\nimport ListFiches from '../../Components/Fiche/ListFiches'\r\nimport Alert from '../../Components/Alert/Alert'\r\nimport Loader from '../../Components/Alert/Loader'\r\nimport './module.search.scss'\r\n\r\nconst Search = () => {\r\n\r\n  const history = useHistory()\r\n\r\n  const fichesSearch = useSelector(fichesSelector)\r\n\r\n  const user = useSelector(userSelector)\r\n\r\n  const loading = useSelector(loadingSelector)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n\r\n    dispatch(fetchFiches(user.uid))\r\n    dispatch(setSearchMode(true))\r\n    \r\n  },[dispatch,user.uid])\r\n\r\n  return(\r\n    <div className=\"height90\">\r\n      {loading ? <Loader/> : \r\n      fichesSearch.length > 0 ? <ListFiches/> : (  \r\n\r\n        <div className=\"wrapMessage\" onClick={()=>history.push('/formFiche')}>\r\n          <p >Vous n'avez pas de fiches crées</p>\r\n          <p style={{marginTop:\"20px\"}} className=\"h4 textSecondary borderSimple\">Créer une fiche</p>\r\n          <div className=\"wrapAlertFiche\">\r\n            <Alert/>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Search","import React from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {logUserWthProvider} from '../../Store/modules/userStore'\r\nimport LogForm from '../../Components/Logs/logForm'\r\nimport Alert from '../../Components/Alert/Alert'\r\nimport SocialButtons from '../../Components/Buttons/socialButto'\r\nimport {titleCreateUser} from '../../Constants'\r\nimport './module.logStyle.scss'\r\n\r\nconst Signup = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    const handleSignUpWithProvider = (provider) => {\r\n\r\n        dispatch(logUserWthProvider(provider))\r\n        history.push('/')\r\n    }\r\n\r\n    return(\r\n\r\n        <main className=\"wrapMain\">\r\n            <section className=\"wrapSection\">\r\n                <div>\r\n                    <LogForm title={titleCreateUser}/>\r\n                </div>\r\n                <div>\r\n                    <SocialButtons handleLog={handleSignUpWithProvider}/>\r\n                </div>\r\n            </section>\r\n            <div className=\"wrapAlert\">\r\n                <Alert/>\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Signup","import React,{useEffect} from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {HashRouter as Router, Route,Switch,Redirect} from 'react-router-dom'\r\nimport {auth} from './Firebase'\r\nimport {getUser} from './Store/modules/userStore'\r\nimport TopHeader from './Components/header/TopHeader'\r\nimport Login from './Pages/Logs/Login'\r\nimport Logout from './Pages/Logs/LogOut'\r\nimport Fiches from './Pages/Fiche/Fiches'\r\nimport Home from './Pages/Home'\r\nimport Profil from './Pages/Profil'\r\nimport FicheById from './Pages/Fiche/ficheById'\r\nimport Search from './Pages/Search/Search'\r\nimport Signup from './Pages/Logs/Signup'\r\n\r\nfunction App() {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(()=> {\r\n\r\n    auth.onAuthStateChanged((user) => {\r\n      \r\n      if (user) {\r\n       \r\n        dispatch(getUser(user.uid))\r\n\r\n      } else {\r\n        \r\n        console.log('no user')\r\n      }\r\n    });\r\n\r\n  },[dispatch])\r\n\r\n\r\n  return (\r\n\r\n    <Router>\r\n      <div className=\"bgApp\">\r\n        <TopHeader/>\r\n        <Switch>\r\n          <Route exact path={\"/\"} component={Home}/>\r\n          <Route path={\"/login\"} component={Login}/>\r\n          <Route path={\"/signup\"} component={Signup}/>\r\n          <Route path={\"/logout\"} component={Logout}/>\r\n          <Route path={\"/formFiche\"} component={Fiches}/>\r\n          <Route path={\"/profil\"} component={Profil}/>\r\n          <Route path={\"/search\"} component={Search}/>\r\n          <Route path={\"/fiche/:id\"} component={FicheById}/>\r\n        </Switch>\r\n        <Redirect to=\"/\"/>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux'\r\nimport store from './Store'\r\nimport './Styles/index.scss'\r\nimport App from './App';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}