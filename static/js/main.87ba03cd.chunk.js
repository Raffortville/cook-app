(this["webpackJsonpcook-app"]=this["webpackJsonpcook-app"]||[]).push([[0],{116:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(0),a=n.n(c),i=n(16),s=n.n(i),o=n(7),l=n(27),u=n(32),d=n(6),j=n.n(d),p=n(11),h=n(13),b=n(29),f=n(53);n(127),n(128),n(114);f.a.initializeApp({apiKey:"AIzaSyAkCPwGcg_TvQykF7pPvwsdbobCr0Z1P6g",authDomain:"cook-app-ef4df.firebaseapp.com",projectId:"cook-app-ef4df",storageBucket:"cook-app-ef4df.appspot.com",messagingSenderId:"450798936713",appId:"1:450798936713:web:f540b15babff037f559c58"});var O=f.a.firestore(),x=f.a.storage(),g=f.a.auth(),m=new f.a.auth.GoogleAuthProvider,v=new f.a.auth.FacebookAuthProvider;O.languageCode="fr_FR",g.languageCode="fr_FR",x.languageCode="fr_FR";var y={alert:{message:"",class:""},loading:!1},I=Object(l.b)({name:"alert",initialState:y,reducers:{addAlert:function(e,t){var n=t.payload;e.alert=n},setLoading:function(e,t){var n=t.payload;e.loading=n}}}),w=I.actions,T=w.addAlert,N=w.setLoading,k=function(e){return e.alertStore.alert},S=function(e){return e.alertStore.loading},C=I.reducer,F={ingredients:[],ingredientTitre:{nom:"",titre:!0,subArray:[]},ingredient:{nom:"",prix:"",qte:"",titre:!1}},P=Object(l.b)({name:"ingredients",initialState:F,reducers:{addIngredientTitre:function(e,t){var n=t.payload;e.ingredients=[].concat(Object(b.a)(e.ingredients),[n])},addIngredientSubArray:function(e,t){var n=t.payload;e.ingredientTitre=Object(h.a)(Object(h.a)({},e.ingredientTitre),{},{subArray:[].concat(Object(b.a)(e.ingredientTitre.subArray),[n])})},updateIngredientTitre:function(e,t){var n=t.payload;e.ingredients=e.ingredients.map((function(e){return e.ingredientTitreId===n.ingredientTitreId?n:e}))},selectIngredient:function(e,t){var n=t.payload;e.ingredient=n},selectIngredientTtitre:function(e,t){var n=t.payload;e.ingredientTitre=n},getIngredients:function(e,t){var n=t.payload;e.ingredients=n},deleteIngredientTitre:function(e,t){var n=t.payload;e.ingredients=e.ingredients.filter((function(e){return e.ingredientTitreId!==n}))}}}),E=function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("ingredientsTitre").doc(e.ingredientTitreId).get();case 3:return r=t.sent,t.next=6,r.data().subArray;case 6:return c=t.sent,t.next=9,c.push(e);case 9:return t.next=11,O.collection("ingredientsTitre").doc(e.ingredientTitreId).update({subArray:c});case 11:n(L(e)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("ingredientsTitre").doc(e.ingredientTitreId).collection("ingredients").where("ingredientTitreId","==",e.ingredientTitreId).get();case 3:t.sent.forEach(function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.collection("ingredientsTitre").doc(e.ingredientTitreId).collection("ingredients").doc(n.data().ingredientId).delete();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n(W(e.ingredientTitreId)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("ingredientsTitre").doc(e.ingredientTitreId).get();case 3:r=t.sent,n(U(r.data())),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.prev=1,t.next=4,O.collection("ingredientsTitre").doc(e.ingredientTitreId).collection("ingredients").where("ingredientTitreId","==",e.ingredientTitreId).get();case 4:return t.sent.forEach((function(e){r.push(e.data())})),t.next=8,O.collection("ingredientsTitre").doc(e.ingredientTitreId).update({subArray:r});case 8:n(L(e)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},q=P.actions,B=q.getIngredients,M=q.addIngredientTitre,U=(q.addIngredientSubArray,q.updateIngredientTitre),W=(q.selectIngredient,q.selectIngredientTtitre,q.deleteIngredientTitre),D=function(e){return e.ingredientStore.ingredients},_=P.reducer,z={fiche:{nom:"",categorie:"",cuisson:"",description:"",image:""},fiches:[],fichesSearch:[]},G=Object(l.b)({name:"Fiche",initialState:z,reducers:{selectFiche:function(e,t){var n=t.payload;e.fiche=n},addFiche:function(e,t){var n=t.payload;e.fiches=[].concat(Object(b.a)(e.fiches),[n])},getFiches:function(e,t){var n=t.payload;e.fiches=n},updateFiche:function(e,t){var n=t.payload;e.fiches=e.fiches.map((function(e){return e.ficheId===n.ficheId?n:e}))},setFichesSearch:function(e,t){var n=t.payload;e.fichesSearch=n}}}),V=function(e,t,n){return function(){var r=Object(p.a)(j.a.mark((function r(c){var a;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,x.ref("/fiches/"+e).putString(t,"data_url");case 3:return r.next=5,x.ref("/fiches/"+e).getDownloadURL();case 5:return a=r.sent,r.next=8,O.collection("fiches").doc(e).update({image:a});case 8:c(K(n)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()},H=function(e,t,n){return function(){var r=Object(p.a)(j.a.mark((function r(c){var a;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,x.ref().child("/categories/"+e.categorie+".jpg").getDownloadURL();case 3:return a=r.sent,r.next=6,O.collection("fiches").doc(t).update({image:a});case 6:c(K(n)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N(!0)),r=[],t.prev=2,t.next=5,O.collection("fiches").where("userId","==",e).get();case 5:(c=t.sent).empty?console.log("no fiches"):(c.forEach((function(e){r.push(e.data())})),n(J(r)),n(Y(r))),n(N(!1)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},Z=G.actions,Q=Z.selectFiche,J=(Z.addFiche,Z.getFiches),X=Z.updateFiche,Y=Z.setFichesSearch,$=(Z.selectFichesSearch,function(e){return e.ficheStore.fiche}),ee=function(e){return e.ficheStore.fiches},te=function(e){return e.ficheStore.fichesSearch},ne=G.reducer,re={progressions:[],progressTitre:{nom:"",titre:!0,numero:"",subArray:[]},progress:{nom:"",titre:!1}},ce=Object(l.b)({name:"progression",initialState:re,reducers:{getProgressions:function(e,t){var n=t.payload;e.progressions=n},addProgressTitre:function(e,t){var n=t.payload;e.progressions=[].concat(Object(b.a)(e.progressions),[n])},selectProgressTitre:function(e,t){var n=t.payload;e.progressTitre=n},selectProgress:function(e,t){var n=t.payload;e.progress=n},updateProgressTitre:function(e,t){var n=t.payload;e.progressions=e.progressions.map((function(e){return e.progressTitreId===n.progressTitreId?n:e}))},deleteProgressTitre:function(e,t){var n=t.payload;e.progressions=e.progressions.filter((function(e){return e.progressTitreId!==n.progressTitreId}))},addProgressToSubArray:function(e,t){var n=t.payload;e.progressTitre=Object(h.a)(Object(h.a)({},e.progressTitre),{},{subArray:[].concat(Object(b.a)(e.progressTitre.subArray),[n])})}}}),ae=function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.prev=1,t.next=4,O.collection("progressTitre").doc(e.progressTitreId).collection("progress").where("progressTitreId","==",e.progressTitreId).get();case 4:return t.sent.forEach((function(e){return r.push(e.data())})),t.next=8,O.collection("progressTitre").doc(e.progressTitreId).update({subArray:r});case 8:n(ie(e)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},ie=function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("progressTitre").doc(e.progressTitreId).get();case 3:r=t.sent,n(ue(r.data())),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},se=ce.actions,oe=se.getProgressions,le=(se.addProgressToSubArray,se.addProgressTitre),ue=(se.selectProgressTitre,se.selectProgress,se.updateProgressTitre),de=se.deleteProgressTitre,je=function(e){return e.progressionStore.progressions},pe=ce.reducer,he=Object(l.b)({name:"form",initialState:{form:{},editFicheForm:{}},reducers:{createForm:function(e,t){var n=t.payload;e.form=n},setEditFicheForm:function(e,t){var n=t.payload;e.editFicheForm=n}}}),be=he.actions,fe=be.createForm,Oe=be.setEditFicheForm,xe=function(e){return e.formStore.form},ge=function(e){return e.formStore.editFicheForm},me=he.reducer,ve=n(18),ye={searchMode:!1,searchBy:{cuisson:!1,categorie:!1,nom:!0,typeSelected:"Nom de la fiche"}},Ie=Object(l.b)({name:"search",initialState:ye,reducers:{setSearchMode:function(e,t){var n=t.payload;e.searchMode=n},setSearchBy:function(e,t){var n=t.payload;e.searchBy=n}}}),we=Ie.actions,Te=we.setSearchBy,Ne=we.setSearchMode,ke=function(e){return e.searchStore.searchMode},Se=function(e){return e.searchStore.searchBy},Ce=Ie.reducer,Fe={user:{username:"",email:"",password:"",avatar:""},userLog:!1},Pe=Object(l.b)({name:"user",initialState:Fe,reducers:{setUser:function(e,t){var n=t.payload;e.user=n},setUserLog:function(e,t){var n=t.payload;e.userLog=n}}}),Ee=function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="Fb"===e?v:m,n(N(!0)),t.prev=2,t.next=5,g.signInWithPopup(r);case 5:return c=t.sent,t.next=8,O.collection("users").doc(c.user.uid).set({uid:c.user.uid,username:c.user.displayName,email:c.user.email,emailContact:c.user.email,avatar:""});case 8:n(Ae(c.user.uid)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},Ae=function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("users").doc(e).get();case 3:r=t.sent,n(qe(r.data())),n(Be(!0)),n(N(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Le=function(e,t){return function(){var n=Object(p.a)(j.a.mark((function n(r){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x.ref("avatar/"+e).putString(t,"data_url");case 3:return n.next=5,x.ref("avatar/"+e).getDownloadURL();case 5:return c=n.sent,n.next=8,O.collection("users").doc(e).update({avatar:c});case 8:r(Ae(e)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},Re=Pe.actions,qe=Re.setUser,Be=Re.setUserLog,Me=function(e){return e.userStore.user},Ue=function(e){return e.userStore.userLog},We=Pe.reducer,De=Object(u.c)({ingredientStore:_,ficheStore:ne,alertStore:C,progressionStore:pe,formStore:me,searchStore:Ce,userStore:We}),_e=Object(l.a)({reducer:De}),ze=(n(116),n(26)),Ge=n(22),Ve=n(20),He=(n(65),n(158)),Ke=n(180),Ze=n(162),Qe=[{name:"VOIR FICHES",icon:"article",link:"/search"},{name:"CREER FICHES",icon:"create",link:"/formFiche"},{name:"DECONNEXION",icon:"error_outline",link:"/logout"}],Je=[{name:"S'IDENTIFIER",icon:"person_add",link:"/login"},{name:"CREER COMPTE",icon:"login",link:"/signup"}],Xe=[{action:"ajouter",icon:"add_circle_outline",class:"iconGreen"},{action:"supprimer",icon:"delete_forever",class:"iconRed"},{action:"modifier",icon:"create",class:"icon"}],Ye=[{action:"supprimer",icon:"delete_forever",class:"iconRed"},{action:"modifier",icon:"create",class:"icon"}],$e=[{title:"voir la recette",icon:"visibility",action:"voir"},{title:"modifier la fiche technique",icon:"create",action:"modifier"},{title:"supprimer la fiche tecnhique",icon:"delete_forever",action:"supprimer"}],et=[{title:"Afficher par noms",type:"nom",check:!0},{title:"Afficher par cat\xe9gories",type:"categorie",check:!1},{title:"Afficher par cuissons",type:"cuisson",check:!1}],tt=["Velout\xe9, soupe, potage","Sauce, fond, jus","Hors d'oeuvre froid","Hors d'oeuvre chaud","Oeufs","Poissons & mer","Viandes","Volailles","Garnitures","Desserts"],nt=["Pocher","Etuver","Glacer","Sauter","Griller","R\xf4tir","Poeler","Frire","Braiser","Ragout,Confire"],rt=function(e){var t=Object(Ge.g)(),n=Object(o.b)(),a=Object(o.c)(Ue),i=Object(c.useState)([]),s=Object(Ve.a)(i,2),l=s[0],u=s[1],d=e.className;Object(c.useEffect)((function(){u(a?Qe:Je)}),[a]);return Object(r.jsx)("nav",{children:Object(r.jsx)("ul",{className:d||"",children:l.map((function(e,c){return Object(r.jsxs)("li",{onClick:function(){return function(e){"/formFiche"===e.link&&n(Oe(z.fiche)),t.push(e.link)}(e)},className:"p2 textSecondary",children:[Object(r.jsx)("span",{children:Object(r.jsx)(He.a,{style:{marginBottom:"5px"},color:"inherit",children:Object(r.jsx)(Ze.a,{fontSize:"small",children:e.icon})})}),Object(r.jsxs)("span",{style:{cursor:"pointer"},children:[" ",e.name," "]})]},c)}))})})},ct=function(e){var t=e.openDrawer;return Object(r.jsx)("div",{className:"drawerWrap ".concat(t?"open":""),children:t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("p",{className:"h3 textPrimary",style:{padding:"12px"},children:"COOK APP"})}),Object(r.jsx)(rt,{}),Object(r.jsx)("div",{className:"drawerWrapIcon",children:Object(r.jsx)(He.a,{onClick:function(){return e.close()},children:Object(r.jsx)(Ze.a,{className:"textMain",children:"close"})})})]})})},at=n(174),it=n(177),st=n(172),ot=n(179),lt=function(e){return Object(r.jsxs)("div",{style:{width:"150px"},children:[Object(r.jsx)(it.a,{children:e.name}),Object(r.jsx)(st.a,{fullWidth:!0,name:e.name,onChange:function(t){return e.handleOnChange(t)},value:e.state,children:e.array.map((function(e,t){return Object(r.jsx)(ot.a,{value:e,children:e},t)}))})]})},ut=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},dt=function(e,t){return e.sort((function(e,n){return e[t]>n[t]})),e},jt=function(){var e=Object(o.b)(),t=Object(c.useState)({nom:"",categorie:"",cuisson:""}),n=Object(Ve.a)(t,2),a=n[0],i=n[1],s=Object(o.c)(ee),l=Object(o.c)(Se),u=Object(b.a)(s),d=function(t){0===s.length&&e(T({message:"Veuillez cr\xe9er une fiche !",class:"warning"}));var n,r=t.target,c=r.value,o=r.name;i(Object(h.a)(Object(h.a)({},a),{},Object(ve.a)({},o,ut(c)))),n=u.filter((function(e){return e[o].includes(ut(c))})),e(Y(n))};return Object(r.jsx)("div",{children:l.cuisson?Object(r.jsx)(lt,{array:nt,handleOnChange:d,name:"cuisson",state:a.cuisson}):l.categorie?Object(r.jsx)(lt,{array:tt,handleOnChange:d,name:"categorie",state:a.categorie}):Object(r.jsx)(at.a,{label:l.typeSelected,name:"nom",value:a.nom,onChange:d})})},pt=function(){var e=Object(Ge.g)(),t=Object(o.c)(ke),n=Object(o.c)(Me),a=Object(o.c)(Ue),i=Object(c.useState)(!1),s=Object(Ve.a)(i,2),l=s[0],u=s[1],d=function(){return u(!l)};return Object(r.jsxs)("header",{children:[l&&Object(r.jsx)(ct,{close:d,openDrawer:l}),Object(r.jsxs)("div",{className:"logoTitre",children:[Object(r.jsx)("div",{children:Object(r.jsx)(He.a,{onClick:function(){return d()},children:Object(r.jsx)(Ze.a,{className:"textMain",children:"menu"})})}),Object(r.jsx)("div",{children:Object(r.jsx)(ze.b,{className:"removeLinkStyle",to:"/",children:Object(r.jsx)("p",{className:"h3 textPrimary",children:"COOK APP"})})})]}),Object(r.jsxs)("div",{className:"navWrap",children:[t&&Object(r.jsx)(jt,{}),a&&Object(r.jsx)("div",{className:"borderButton",children:Object(r.jsx)(He.a,{onClick:function(){return e.push("/search")},children:Object(r.jsx)(Ze.a,{children:"search"})})}),Object(r.jsx)("div",{children:Object(r.jsx)(rt,{className:"inline"})}),""!==n.username&&Object(r.jsx)(ze.b,{className:"removeLinkStyle",to:"/profil",children:Object(r.jsx)("div",{className:"wrapName",children:Object(r.jsx)("p",{className:"p2",children:n.username})})}),Object(r.jsx)("div",{className:"avatarWrap",children:Object(r.jsx)(ze.b,{to:"/profil",children:""!==n.avatar?Object(r.jsx)("img",{className:"imgAvatar",alt:"/",src:n.avatar}):Object(r.jsx)(Ke.a,{className:"avatarSmall"})})})]})]})},ht=n(167),bt=(n(118),n(119),n(168)),ft=function(e){return Object(r.jsxs)("div",{className:"wrapButton",children:[Object(r.jsx)("div",{children:Object(r.jsx)(He.a,{onClick:function(){return e.close()},children:Object(r.jsx)(Ze.a,{className:"icon",children:"close"})})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(bt.a,{onClick:function(){return e.setInitialState()},className:"button",children:Object(r.jsx)("p",{children:"ANNULER"})}),Object(r.jsx)(bt.a,{onClick:function(){return e.handleSubmit()},className:"button",children:Object(r.jsx)("p",{children:"VALIDER"})})]})]})},Ot=function(e){var t=Object(o.b)(),n=Object(Ge.g)(),a=Object(c.useState)(Fe.user),i=Object(Ve.a)(a,2),s=i[0],l=i[1],u=function(e){var t=e.target,n=t.name,r=t.value;l(Object(h.a)(Object(h.a)({},s),{},Object(ve.a)({},n,r)))},d=function(){l(Fe.user)};return Object(r.jsxs)(ht.a,{className:"paper",elevation:1,children:[Object(r.jsx)("p",{className:"h3 textPrimary",children:e.title}),Object(r.jsxs)("ul",{children:["IDENTIFIEZ-VOUS"!==e.title&&Object(r.jsx)("li",{children:Object(r.jsx)(at.a,{onChange:u,required:!0,name:"username",value:s.username,label:"Nom d'utilisateur"})}),Object(r.jsx)("li",{children:Object(r.jsx)(at.a,{onChange:u,required:!0,type:"email",name:"email",value:s.email,label:"email"})}),Object(r.jsx)("li",{children:Object(r.jsx)(at.a,{onChange:u,required:!0,type:"password",name:"password",value:s.password,label:"Mot de passe"})})]}),Object(r.jsx)("div",{className:"wrapButton",children:Object(r.jsx)(ft,{handleSubmit:function(){var r;"IDENTIFIEZ-VOUS"!==e.title?""===s.username||""===s.email||""===s.password?t(T({message:"Champ manquant !",class:"error"})):(t((r=s,function(){var e=Object(p.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(!0)),e.prev=1,e.next=4,g.createUserWithEmailAndPassword(r.email,r.password);case 4:return n=e.sent,c=n.user,e.next=8,O.collection("users").doc(c.uid).set({username:r.username,email:r.email,emailContact:r.email,uid:c.uid,avatar:""});case 8:t(Ae(c.uid)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())),n.push("/")):""===s.email||""===s.password?t(T({message:"Champ manquant !",class:"error"})):(t(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N(!0)),t.prev=1,t.next=4,g.signInWithEmailAndPassword(e.email,e.password);case 4:r=t.sent,c=r.user,n(Ae(c.uid)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(s)),n.push("/"))},setInitialState:d,close:function(){d(),n.push("/")}})})]})},xt=(n(83),function(){var e=Object(o.c)(k),t=Object(o.b)();a.a.useEffect((function(){""!==e.message&&setTimeout((function(){t(T(y.alert))}),2e3)}),[t,e]);return Object(r.jsx)("div",{children:function(){if(""!==e.message)return Object(r.jsx)("div",{className:e.class,children:Object(r.jsx)("p",{children:e.message})})}()})}),gt=(n(120),function(e){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"wrapButtonGoogle",onClick:function(){return e.handleLog("Gg")},children:[Object(r.jsx)("span",{className:"iconButtonGoogle"}),Object(r.jsx)("div",{className:"wrapText",children:Object(r.jsx)("span",{className:"textGoogle",children:" SIGNUP WITH GOOGLE"})})]}),Object(r.jsx)("div",{style:{width:"100%"},children:Object(r.jsx)("p",{style:{textAlign:"center"},children:"ou"})}),Object(r.jsxs)("div",{className:"wrapButtonFb",onClick:function(){return e.handleLog("Fb")},children:[Object(r.jsx)(Ze.a,{className:"iconFb",fontSize:"large",children:"facebook"}),Object(r.jsx)("div",{className:"wrapText",children:Object(r.jsx)("span",{className:"textFb",children:" SIGNUP WITH FACEBOOK"})})]})]})}),mt=(n(84),function(){var e=Object(o.b)(),t=Object(Ge.g)();a.a.useEffect((function(){e(Ne(!1))}),[e]);return Object(r.jsxs)("main",{className:"wrapMain",children:[Object(r.jsxs)("section",{className:"wrapSection",children:[Object(r.jsx)("div",{children:Object(r.jsx)(Ot,{title:"IDENTIFIEZ-VOUS"})}),Object(r.jsx)("div",{children:Object(r.jsx)(gt,{handleLog:function(n){e(Ee(n)),t.push("/")}})})]}),Object(r.jsx)("div",{className:"wrapAlert",children:Object(r.jsx)(xt,{})})]})}),vt=n(175),yt=n(169),It=n(170),wt=function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)(vt.a,{open:!0,children:[Object(r.jsx)(yt.a,{children:Object(r.jsx)("p",{className:"p1",children:e.titre})}),Object(r.jsx)(It.a,{children:Object(r.jsx)("div",{className:"width100",children:Object(r.jsx)(ft,{close:e.close,handleSubmit:e.handleSubmit,setInitialState:e.setInitialState})})})]})})},Tt=function(){var e=Object(o.b)(),t=Object(Ge.g)();a.a.useEffect((function(){e(Ne(!1))}),[e]);return Object(r.jsx)("div",{style:{height:"90vh"},children:Object(r.jsx)(wt,{titre:"Confirmez-vous la d\xe9connexion ?",handleSubmit:function(){e(function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.signOut();case 3:t(qe(Fe.user)),t(Be(!1)),t(J([])),t(Y([])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),t.push("/")},close:function(){return t.push("/")},setInitialState:function(){return t.push("/")}})})},Nt=(n(121),function(){var e=Object(o.b)(),t=Object(Ge.g)(),n=Object(o.c)(ge),a=Object(o.c)(Me),i=Object(c.useState)(n),s=Object(Ve.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(),b=Object(Ve.a)(d,2),f=b[0],x=b[1];Object(c.useEffect)((function(){u(n)}),[n]),Object(c.useEffect)((function(){x((function(e){return""!==l.image?l.image:e}))}),[x,l.image]);var g=function(t){var n=t.target,r=n.name,c=n.value;"description"!==r?u("nom"===r?Object(h.a)(Object(h.a)({},l),{},Object(ve.a)({},r,ut(c))):Object(h.a)(Object(h.a)({},l),{},Object(ve.a)({},r,c))):+c.length<66?u(Object(h.a)(Object(h.a)({},l),{},{description:c})):e(T({message:"Nombre maximum de charach\xe8res !",class:"warning"}))};return Object(r.jsx)("div",{children:Object(r.jsxs)(ht.a,{className:"paper",elevation:3,children:[Object(r.jsx)("p",{className:"h3 textPrimary",children:"Fiche technique de fabrication"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(at.a,{onChange:g,required:!0,name:"nom",value:l.nom,margin:"dense",size:"small",fullWidth:!0,label:"Nom de la recette"})}),Object(r.jsx)("li",{children:Object(r.jsx)(at.a,{onChange:g,name:"description",value:l.description,variant:"outlined",multiline:!0,rows:2,margin:"dense",size:"small",fullWidth:!0,label:"Descriptif de la recette"})}),Object(r.jsxs)("li",{children:[Object(r.jsx)(it.a,{children:"Cat\xe9gorie"}),Object(r.jsx)(st.a,{onChange:g,fullWidth:!0,name:"categorie",value:l.categorie,children:tt.map((function(e,t){return Object(r.jsx)(ot.a,{value:e,children:e},t)}))})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)(it.a,{children:"Mode cuisson"}),Object(r.jsx)(st.a,{onChange:g,name:"cuisson",value:l.cuisson,fullWidth:!0,children:nt.map((function(e,t){return Object(r.jsx)(ot.a,{value:e,children:e},t)}))})]}),Object(r.jsx)("li",{children:Object(r.jsxs)("div",{className:"wrapImg",children:[Object(r.jsxs)(bt.a,{component:"label",className:"buttonStyle",size:"small",variant:"outlined",children:["Ajouter Photo",Object(r.jsx)("input",{onChange:function(e){var t=new FileReader,n=e.target.files[0];t.readAsDataURL(n),t.addEventListener("load",(function(e){x(t.result)}))},style:{display:"none"},type:"file",accept:".jpg,.png"})]}),Object(r.jsx)("div",{children:void 0!==f?Object(r.jsx)("img",{width:"45px",height:"45px",alt:"",src:f}):null})]})})]}),Object(r.jsx)("div",{className:"wrapButton",children:Object(r.jsx)(ft,{handleSubmit:function(){""!==l.nom?(l.ficheId?e(function(e,t){return function(){var n=Object(p.a)(j.a.mark((function n(r){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O.collection("fiches").doc(e.ficheId).update({nom:e.nom,categorie:e.categorie,cuisson:e.cuisson,description:e.description});case 3:return n.next=5,O.collection("fiches").doc(e.ficheId).get();case 5:c=n.sent,t!==c.data().image?r(V(e.ficheId,t,e.userId)):r(X(c.data())),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(l,f)):e(function(e,t,n){return function(){var r=Object(p.a)(j.a.mark((function r(c){var a;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,O.collection("fiches").add({nom:e.nom,categorie:e.categorie,cuisson:e.cuisson,description:e.description,userId:n});case 3:return a=r.sent,r.next=6,O.collection("fiches").doc(a.id).update({ficheId:a.id});case 6:c(void 0!==t?V(a.id,t,n):H(e,a.id,n)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()}(l,f,a.uid)),t.push("/search")):e(T({message:"veuillez saisir les champs vides !",class:"error"}))},close:function(){return t.push("/")},setInitialState:function(){x(l.image),u(n)}})})]})})}),kt=function(){var e=Object(o.b)();return a.a.useEffect((function(){e(Ne(!1))}),[e]),Object(r.jsxs)("main",{className:"height90",children:[Object(r.jsxs)("div",{className:"wrapTitre",children:[Object(r.jsx)("p",{className:"h3 underLine",children:"Cr\xe9er fiche technique"}),Object(r.jsx)("div",{className:"wrapAlert",children:Object(r.jsx)(xt,{})})]}),Object(r.jsx)("div",{className:"wrapFormOut",children:Object(r.jsx)(Nt,{})})]})},St=n(171),Ct=function(){return Object(r.jsx)("div",{className:"wrapLoader",children:Object(r.jsx)(St.a,{size:"70px"})})},Ft=function(){var e=Object(o.b)(),t=Object(o.c)(S);return a.a.useEffect((function(){e(Ne(!1))}),[e]),Object(r.jsx)("main",{className:"wrapMain",children:t?Object(r.jsx)(Ct,{}):Object(r.jsxs)("div",{style:{marginTop:"30px"},children:[Object(r.jsx)("h2",{className:"h3 textAlignCenter textPrimary",children:"COOK APP"}),Object(r.jsx)("p",{className:"p2 textMain",children:"L'application pour r\xe9aliser et g\xe9rer vos fiches technique de fabrications"})]})})},Pt=(n(122),function(){var e=Object(Ge.g)(),t=Object(o.b)(),n=Object(o.c)(Me),a=Object(c.useState)(n),i=Object(Ve.a)(a,2),s=i[0],l=i[1],u=Object(c.useState)(n.avatar),d=Object(Ve.a)(u,2),b=d[0],f=d[1],x=function(e){var t=e.target,n=t.value,r=t.name;l(Object(h.a)(Object(h.a)({},s),{},Object(ve.a)({},r,n)))},g=function(){l(n),f(n.avatar)};return Object(r.jsxs)(ht.a,{elevation:3,className:"paper",children:[Object(r.jsx)("p",{className:"h3 textPrimary",children:"Votre Profil"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(at.a,{onChange:x,className:"liProfil",label:"Nom d'utilisateur",name:"username",value:s.username})}),Object(r.jsx)("li",{children:Object(r.jsx)(at.a,{onChange:x,className:"liProfil",label:"Email de contact",name:"emailContact",value:s.emailContact})}),Object(r.jsx)("li",{className:"liProfil",children:Object(r.jsxs)(bt.a,{component:"label",variant:"outlined",children:[Object(r.jsx)("p",{className:"textSecondary",children:"ajouter avatar"}),Object(r.jsx)("input",{onChange:function(e){var t=new FileReader,n=e.target.files[0];t.readAsDataURL(n),t.addEventListener("load",(function(){return f(t.result)}))},style:{display:"none"},type:"file",accept:".jpg,.png"})]})}),Object(r.jsx)("li",{className:"d-flex liProfil",children:""===b?Object(r.jsx)(Ke.a,{}):Object(r.jsx)("img",{className:"imgAvatar",src:b,alt:"/"})})]}),Object(r.jsx)("div",{className:"wrapButton",children:Object(r.jsx)(ft,{handleSubmit:function(){var n,r;t((n=s,r=b,function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(!0)),e.prev=1,e.next=4,O.collection("users").doc(n.uid).update({username:n.username,emailContact:n.emailContact});case 4:t(""===r?Ae(n.uid):Le(n.uid,r)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}())),e.push("/")},setInitialState:g,close:function(){g(),e.push("/")}})})]})}),Et=function(){var e=Object(o.b)();return a.a.useEffect((function(){e(Ne(!1))}),[e]),Object(r.jsx)("main",{className:"height90 d-flex",children:Object(r.jsx)(Pt,{})})},At=(n(85),n(176)),Lt=(n(123),function(e){var t=Object(o.b)(),n=Object(o.c)(xe),a=Object(c.useState)(n),i=Object(Ve.a)(a,2),s=i[0],l=i[1];Object(c.useEffect)((function(){l(n)}),[n]);var u=function(e){var t,n=e.target,r=n.name,c=n.value;l(Object(h.a)(Object(h.a)({},s),{},(t={},Object(ve.a)(t,r,ut(c)),Object(ve.a)(t,"created",Date.now()),t)))};return Object(r.jsxs)("div",{className:"wrapForm",children:[Object(r.jsxs)(ht.a,{className:"paper",elevation:3,children:[Object(r.jsx)("p",{className:"titre h3",children:s.table}),Object(r.jsx)("p",{className:"p1",children:s.header}),Object(r.jsx)("div",{children:Object(r.jsx)(at.a,{fullWidth:!0,required:!0,name:"nom",value:s.nom,onChange:u,label:s.header})}),s.header.includes("ingr\xe9dient")&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)(at.a,{fullWidth:!0,name:"qte",value:s.qte,label:"Quantit\xe9",onChange:u})}),Object(r.jsx)("div",{children:Object(r.jsx)(at.a,{fullWidth:!0,name:"prix",value:s.prix,label:"Prix",onChange:u})})]}),"progression"===s.table&&s.titre&&Object(r.jsx)(at.a,{InputProps:{inputProps:{min:0,max:10}},fullWidth:!0,type:"number",label:"Num\xe9ro de l'\xe9tape",value:s.numero,name:"numero",onChange:u}),Object(r.jsx)("div",{className:"wrapButton",children:Object(r.jsx)(ft,{close:e.close,handleSubmit:function(){var n;""!==s.nom?(s.titre&&s.header.includes("ajouter")?"progression"!==s.table?t((n=s,function(){var e=Object(p.a)(j.a.mark((function e(t){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.collection("ingredientsTitre").add({nom:n.nom,titre:n.titre,subArray:n.subArray,ficheId:n.ficheId,created:n.created});case 3:return r=e.sent,e.next=6,O.collection("ingredientsTitre").doc(r.id).update({ingredientTitreId:r.id});case 6:return e.next=8,O.collection("ingredientsTitre").doc(r.id).get();case 8:c=e.sent,t(M(c.data())),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())):t(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("progressTitre").add({nom:e.nom,titre:e.titre,ficheId:e.ficheId,numero:e.numero,subArray:e.subArray});case 3:return r=t.sent,t.next=6,O.collection("progressTitre").doc(r.id).update({progressTitreId:r.id});case 6:return t.next=8,O.collection("progressTitre").doc(r.id).get();case 8:c=t.sent,n(le(c.data())),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(s)):!s.titre&&s.header.includes("ajouter")?"progression"!==s.table?t(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("ingredientsTitre").doc(e.ingredientTitreId).collection("ingredients").add({nom:e.nom,qte:e.qte,prix:e.prix,titre:e.titre,ingredientTitreId:e.ingredientTitreId,created:e.created});case 3:return r=t.sent,t.next=6,O.collection("ingredientsTitre").doc(e.ingredientTitreId).collection("ingredients").doc(r.id).update({ingredientId:r.id});case 6:return t.next=8,O.collection("ingredientsTitre").doc(e.ingredientTitreId).collection("ingredients").doc(r.id).get();case 8:c=t.sent,n(E(c.data())),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(s)):t(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("progressTitre").doc(e.progressTitreId).collection("progress").add({nom:e.nom,titre:e.titre,progressTitreId:e.progressTitreId});case 3:return r=t.sent,t.next=6,O.collection("progressTitre").doc(e.progressTitreId).collection("progress").doc(r.id).update({progressId:r.id});case 6:n(ae(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(s)):!s.titre&&s.header.includes("modifier")?"progression"!==s.table?t(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("ingredientsTitre").doc(e.ingredientTitreId).collection("ingredients").doc(e.ingredientId).update({nom:e.nom,qte:e.qte,prix:e.prix});case 3:n(R(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(s)):t(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("progressTitre").doc(e.progressTitreId).collection("progress").doc(e.progressId).update({nom:e.nom});case 3:n(ae(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(s)):s.titre&&s.header.includes("modifier")&&("progression"!==s.table?t(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("ingredientsTitre").doc(e.ingredientTitreId).update({nom:e.nom});case 3:return t.next=5,O.collection("ingredientsTitre").doc(e.ingredientTitreId).get();case 5:r=t.sent,n(U(r.data())),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(s)):t(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("progressTitre").doc(e.progressTitreId).update({nom:e.nom,numero:e.numero});case 3:n(ue(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(s))),e.close()):t(T({message:"veuillez saisir un nom !",class:"error"}))}})})]}),Object(r.jsx)(xt,{})]})}),Rt=(n(124),function(e){return Object(r.jsxs)("div",{className:" wrapTableTitre",children:[Object(r.jsx)("h2",{children:(t=e.fiche.nom,t.toUpperCase())}),Object(r.jsx)("p",{children:e.fiche.description}),Object(r.jsxs)("p",{children:[" ",e.fiche.categorie," ",Object(r.jsxs)("span",{style:{marginLeft:"5px"},children:[" ",e.fiche.cuisson]})]})]});var t}),qt=function(e){var t=Object(o.b)(),n=Object(o.c)($),a=Object(o.c)(je),i=Object(b.a)(a);return dt(i,"numero"),Object(c.useEffect)((function(){var e;t((e=n.ficheId,function(){var t=Object(p.a)(j.a.mark((function t(n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.prev=1,t.next=4,O.collection("progressTitre").where("ficheId","==",e).get();case 4:(c=t.sent).empty?console.log("no progressions"):c.forEach((function(e){r.push(e.data())})),n(oe(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[t,n]),Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:Object(r.jsxs)("th",{className:"ingredient",children:["Etapes de r\xe9alisation",Object(r.jsx)(At.a,{title:"ajouter titre",children:Object(r.jsx)(Ze.a,{onClick:function(){return e.handleOpenFormTitre({},"ajouter","progression","titre de l'\xe9tape")},className:"icon",style:{marginLeft:"5px"},children:"add_circle_outline"})})]})})}),i.map((function(t,n){return Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Xe.map((function(n,c){return Object(r.jsx)(At.a,{title:"ajouter"===n.action?"".concat(n.action," une \xe9tape"):"".concat(n.action," titre de l'\xe9tape"),children:Object(r.jsx)(Ze.a,{onClick:function(){return e.handleOpenForm(t,n.action,"progression","l'\xe9tape",t.progressTitreId)},style:{paddingTop:"10px"},className:n.class,children:n.icon})},c)}))}),Object(r.jsx)("td",{className:"titre",children:t.nom})]}),t.subArray.length>0&&t.subArray.map((function(n,c){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Ye.map((function(c,a){return Object(r.jsx)(At.a,{title:"".concat(c.action," l'\xe9tape"),children:Object(r.jsx)(Ze.a,{onClick:function(){return e.handleOpenForm(n,c.action,"progression","l'\xe9tape",t.progressTitreId)},style:{paddingTop:"10px"},className:c.class,children:c.icon})},a)}))}),Object(r.jsxs)("td",{children:[Object(r.jsx)("span",{children:"-"}),n.nom]})]},c)}))]},n)}))]})},Bt=function(){var e=Object(o.b)(),t=Object(c.useState)(!1),n=Object(Ve.a)(t,2),a=n[0],i=n[1],s=Object(o.c)(D),l=Object(o.c)($),u=Object(o.c)(S),d=Object(b.a)(s);dt(d,"created"),Object(c.useEffect)((function(){var t;e((t=l.ficheId,function(){var e=Object(p.a)(j.a.mark((function e(n){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(N(!0)),r=[],e.prev=2,e.next=5,O.collection("ingredientsTitre").where("ficheId","==",t).get();case 5:(c=e.sent).empty?console.log("no ingredients"):c.forEach((function(e){r.push(e.data())})),n(B(r)),n(N(!1)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,l]);var f=function(t,n,r,c){if("supprimer"===n)return g(t);"ajouter"===n&&e(fe("progression"!==r?Object(h.a)(Object(h.a)({},F.ingredientTitre),{},{header:"".concat(n," ").concat(c),table:r,ficheId:l.ficheId}):Object(h.a)(Object(h.a)({},re.progressTitre),{},{header:"".concat(n," ").concat(c),ficheId:l.ficheId,table:r}))),"modifier"===n&&e(fe(Object(h.a)(Object(h.a)({},t),{},{header:"".concat(n," ").concat(c),table:r}))),i(!0)},x=function(t,n,r,c,a){if("supprimer"===n)return g(t,r);"ajouter"===n&&e(fe("progression"!==r?Object(h.a)(Object(h.a)({},F.ingredient),{},{header:"".concat(n," ").concat(c),ficheId:l.ficheId,ingredientTitreId:a,table:r}):Object(h.a)(Object(h.a)({},re.progress),{},{header:"".concat(n," ").concat(c),table:r,ficheId:l.ficheId,progressTitreId:a}))),"modifier"===n&&e(fe(Object(h.a)(Object(h.a)({},t),{},{header:"".concat(n," ").concat(c),table:r}))),i(!0)},g=function(t,n){var r;"progression"!==n?t.titre?e(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("ingredientsTitre").doc(e.ingredientTitreId).delete();case 3:n(A(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t)):e((r=t,function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.collection("ingredientsTitre").doc(r.ingredientTitreId).collection("ingredients").doc(r.ingredientId).delete();case 3:t(R(r)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())):t.titre?e(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("progressTitre").doc(e.progressTitreId).collection("progress").where("progressTitreId","==",e.progressTitreId).get();case 3:return t.sent.forEach(function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.collection("progressTitre").doc(e.progressTitreId).collection("progress").doc(n.data().progressId).delete();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=7,O.collection("progressTitre").doc(e.progressTitreId).delete();case 7:n(de(e)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t)):e(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.collection("progressTitre").doc(e.progressTitreId).collection("progress").doc(e.progressId).delete();case 3:n(ae(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(r.jsx)("div",{children:u?Object(r.jsx)(Ct,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)(Rt,{fiche:l}),Object(r.jsxs)("div",{className:"wrapTables",children:[Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Actions"}),Object(r.jsxs)("th",{className:"ingredient",children:["Ingr\xe9dients",Object(r.jsx)(At.a,{title:"ajouter cat\xe9gorie",children:Object(r.jsx)(Ze.a,{onClick:function(){return f({},"ajouter","ingr\xe9dient","cat\xe9gorie")},className:"icon",style:{marginLeft:"5px"},children:"add_circle_outline"})})]}),Object(r.jsx)("th",{children:"Quantit\xe9s"}),Object(r.jsx)("th",{children:"Prix"})]})}),d.map((function(e,t){return Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Xe.map((function(t,n){return Object(r.jsx)(At.a,{title:"ajouter"===t.action?"".concat(t.action," ingr\xe9dient"):"".concat(t.action," cat\xe9gorie"),children:Object(r.jsx)(Ze.a,{onClick:function(){return x(e,t.action,"ingr\xe9dient","ingr\xe9dient",e.ingredientTitreId)},style:{paddingTop:"10px"},className:t.class,children:t.icon})},n)}))}),Object(r.jsx)("td",{className:"titre ingredient",children:e.nom})]}),e.subArray.length>0&&e.subArray.map((function(t,n){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Ye.map((function(n,c){return Object(r.jsx)(At.a,{title:"".concat(n.action," ingr\xe9dient"),children:Object(r.jsx)(Ze.a,{onClick:function(){return x(t,n.action,"ingr\xe9dient","ingr\xe9dient",e.ingredientTitreId)},className:n.class,children:n.icon})},c)}))}),Object(r.jsxs)("td",{className:"ingredient",children:[Object(r.jsx)("span",{children:"-"}),t.nom]}),Object(r.jsx)("td",{children:t.qte}),Object(r.jsx)("td",{children:t.prix})]},n)}))]},t)}))]}),Object(r.jsx)(qt,{handleOpenForm:x,handleOpenFormTitre:f}),Object(r.jsx)("div",{children:a&&Object(r.jsx)(Lt,{close:function(){return i(!1)}})})]})]})})},Mt=function(){var e=Object(o.b)();return a.a.useEffect((function(){e(Ne(!1))}),[e]),Object(r.jsx)("div",{style:{height:"90vh"},children:Object(r.jsx)(Bt,{})})},Ut=(n(86),function(e){var t=Object(o.b)();return Object(r.jsxs)("div",{className:"CardRoot",children:[void 0!==e.fiche.image&&Object(r.jsx)("img",{className:"wrapFicheImg",alt:"img",src:e.fiche.image}),Object(r.jsxs)("div",{className:"wrapCarcContent",children:[Object(r.jsx)("p",{className:"p4 textSecondary",children:e.fiche.categorie}),Object(r.jsx)("div",{className:"wrapTitre",children:Object(r.jsx)(ze.b,{className:"removeLinkStyle",onClick:function(){return t(Q(e.fiche))},to:"fiche/".concat(e.fiche.ficheId),children:Object(r.jsx)("p",{className:"h4 textPrimary",children:e.fiche.nom})})}),Object(r.jsx)("div",{className:"wrapTitre",children:Object(r.jsx)("p",{className:"p3",children:e.fiche.description})}),Object(r.jsx)("div",{className:"wrapTitre",children:Object(r.jsx)("p",{className:"p4",children:e.fiche.cuisson})}),Object(r.jsx)("div",{className:"wrapIcons",children:$e.map((function(t,n){return Object(r.jsx)("span",{children:Object(r.jsx)(At.a,{title:t.title,children:Object(r.jsx)(Ze.a,{onClick:function(){return e.handleIconAction(t.action,e.fiche)},className:"icon",children:t.icon})})},n)}))})]})]})}),Wt=function(e){for(var t=[],n=1;n<=e.nbPages;n++)t.push(n);return Object(r.jsx)("div",{className:"pagin",children:t.map((function(t){return Object(r.jsx)("ul",{children:Object(r.jsx)("li",{className:t===e.currentPage?"active":null,onClick:function(){return e.handleCurrentPage(t)},children:t})},t)}))})},Dt=n(181),_t=function(){var e=Object(o.b)(),t=Object(o.c)(Se);return Object(r.jsx)("div",{className:"wrapCategorie textPrimary",children:et.map((function(n,c){return Object(r.jsxs)("div",{className:"wrapSelect",children:[Object(r.jsx)("p",{children:n.title}),Object(r.jsx)("div",{children:Object(r.jsx)(Dt.a,{checked:t[n.type],name:n.type,size:"small",onChange:function(){return e((t=n.type,function(e){if("nom"===t)e(Te(ye.searchBy));else if("cuisson"===t){var n;e(Te((n={},Object(ve.a)(n,t,!0),Object(ve.a)(n,"nom",!1),Object(ve.a)(n,"categorie",!1),Object(ve.a)(n,"typeSelected","Mode de cuisson"),n)))}else{var r;e(Te((r={},Object(ve.a)(r,t,!0),Object(ve.a)(r,"nom",!1),Object(ve.a)(r,"cuisson",!1),Object(ve.a)(r,"typeSelected","Cat\xe9gorie"),r)))}}));var t}})})]},c)}))})},zt=function(){var e=Object(o.b)(),t=Object(Ge.g)(),n=Object(c.useState)([]),i=Object(Ve.a)(n,2),s=i[0],l=i[1],u=Object(o.c)(te),d=Object(b.a)(u);dt(d,"nom");var j=Object(c.useState)(!1),p=Object(Ve.a)(j,2),h=p[0],f=p[1],O=Math.ceil(d.length/4),x=Object(c.useState)(1),g=Object(Ve.a)(x,2),m=g[0],v=g[1],y=4*m,I=y-4,w=d.slice(I,y);a.a.useEffect((function(){u.length<=4?l(d):l(w)}),[u,m]);var T=function(n,r){"voir"===n&&(e(Q(r)),t.push("fiche/".concat(r.ficheId))),"modifier"===n&&(e(Oe(r)),t.push("/formFiche")),"supprimer"===n&&f(!0)};return Object(r.jsxs)("div",{className:"rowList",children:[Object(r.jsx)(_t,{}),Object(r.jsxs)("div",{className:"outterListFiche",children:[Object(r.jsxs)("div",{className:"wrapListFiche",children:[h&&Object(r.jsx)(wt,{handleSubmit:function(){console.log("test")},setInitialState:function(){return f(!1)},close:function(){return f(!1)},titre:"Confirmez-vous la suppression ?"}),Object(r.jsx)("ul",{children:s.map((function(e,t){return Object(r.jsx)("li",{children:Object(r.jsx)(Ut,{handleIconAction:T,fiche:e})},t)}))})]}),Object(r.jsx)(Wt,{nbPages:O,handleCurrentPage:function(e){return v(e)},currentPage:m})]})]})},Gt=(n(125),function(){var e=Object(Ge.g)(),t=Object(o.c)(ee),n=Object(o.c)(Me),a=Object(o.c)(S),i=Object(o.b)();return Object(c.useEffect)((function(){i(K(n.uid)),i(Ne(!0))}),[i,n.uid]),Object(r.jsx)("div",{className:"height90",children:a?Object(r.jsx)(Ct,{}):t.length>0?Object(r.jsx)(zt,{}):Object(r.jsxs)("div",{className:"wrapMessage",onClick:function(){return e.push("/formFiche")},children:[Object(r.jsx)("p",{children:"Vous n'avez pas de fiches cr\xe9es"}),Object(r.jsx)("p",{style:{marginTop:"20px"},className:"h4 textSecondary borderSimple",children:"Cr\xe9er une fiche"}),Object(r.jsx)("div",{className:"wrapAlertFiche",children:Object(r.jsx)(xt,{})})]})})}),Vt=function(){var e=Object(o.b)(),t=Object(Ge.g)();return Object(r.jsxs)("main",{className:"wrapMain",children:[Object(r.jsxs)("section",{className:"wrapSection",children:[Object(r.jsx)("div",{children:Object(r.jsx)(Ot,{title:"CREER VOTRE COMPTE"})}),Object(r.jsx)("div",{children:Object(r.jsx)(gt,{handleLog:function(n){e(Ee(n)),t.push("/")}})})]}),Object(r.jsx)("div",{className:"wrapAlert",children:Object(r.jsx)(xt,{})})]})};var Ht=function(){var e=Object(o.b)();return Object(c.useEffect)((function(){g.onAuthStateChanged((function(t){t?e(Ae(t.uid)):console.log("no user")}))}),[e]),Object(r.jsx)(ze.a,{children:Object(r.jsxs)("div",{className:"bgApp",children:[Object(r.jsx)(pt,{}),Object(r.jsxs)(Ge.d,{children:[Object(r.jsx)(Ge.b,{exact:!0,path:"/",component:Ft}),Object(r.jsx)(Ge.b,{path:"/login",component:mt}),Object(r.jsx)(Ge.b,{path:"/signup",component:Vt}),Object(r.jsx)(Ge.b,{path:"/logout",component:Tt}),Object(r.jsx)(Ge.b,{path:"/formFiche",component:kt}),Object(r.jsx)(Ge.b,{path:"/profil",component:Et}),Object(r.jsx)(Ge.b,{path:"/search",component:Gt}),Object(r.jsx)(Ge.b,{path:"/fiche/:id",component:Mt})]}),Object(r.jsx)(Ge.a,{to:"/"})]})})};s.a.render(Object(r.jsx)(o.a,{store:_e,children:Object(r.jsx)(Ht,{})}),document.getElementById("root"))},65:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.87ba03cd.chunk.js.map